function Ph(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();function jh(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var zh={exports:{}},ts={},Bh={exports:{}},ue={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ba=Symbol.for("react.element"),kg=Symbol.for("react.portal"),Tg=Symbol.for("react.fragment"),Og=Symbol.for("react.strict_mode"),Ng=Symbol.for("react.profiler"),Rg=Symbol.for("react.provider"),Fg=Symbol.for("react.context"),Pg=Symbol.for("react.forward_ref"),jg=Symbol.for("react.suspense"),zg=Symbol.for("react.memo"),Bg=Symbol.for("react.lazy"),Gc=Symbol.iterator;function Ug(t){return t===null||typeof t!="object"?null:(t=Gc&&t[Gc]||t["@@iterator"],typeof t=="function"?t:null)}var Uh={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Wh=Object.assign,Vh={};function si(t,e,r){this.props=t,this.context=e,this.refs=Vh,this.updater=r||Uh}si.prototype.isReactComponent={};si.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};si.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function $h(){}$h.prototype=si.prototype;function Iu(t,e,r){this.props=t,this.context=e,this.refs=Vh,this.updater=r||Uh}var Du=Iu.prototype=new $h;Du.constructor=Iu;Wh(Du,si.prototype);Du.isPureReactComponent=!0;var Jc=Array.isArray,Hh=Object.prototype.hasOwnProperty,ku={current:null},Gh={key:!0,ref:!0,__self:!0,__source:!0};function Jh(t,e,r){var n,i={},a=null,s=null;if(e!=null)for(n in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(a=""+e.key),e)Hh.call(e,n)&&!Gh.hasOwnProperty(n)&&(i[n]=e[n]);var c=arguments.length-2;if(c===1)i.children=r;else if(1<c){for(var u=Array(c),h=0;h<c;h++)u[h]=arguments[h+2];i.children=u}if(t&&t.defaultProps)for(n in c=t.defaultProps,c)i[n]===void 0&&(i[n]=c[n]);return{$$typeof:ba,type:t,key:a,ref:s,props:i,_owner:ku.current}}function Wg(t,e){return{$$typeof:ba,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Tu(t){return typeof t=="object"&&t!==null&&t.$$typeof===ba}function Vg(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var Yc=/\/+/g;function Ls(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Vg(""+t.key):e.toString(36)}function io(t,e,r,n,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(a){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case ba:case kg:s=!0}}if(s)return s=t,i=i(s),t=n===""?"."+Ls(s,0):n,Jc(i)?(r="",t!=null&&(r=t.replace(Yc,"$&/")+"/"),io(i,e,r,"",function(h){return h})):i!=null&&(Tu(i)&&(i=Wg(i,r+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(Yc,"$&/")+"/")+t)),e.push(i)),1;if(s=0,n=n===""?".":n+":",Jc(t))for(var c=0;c<t.length;c++){a=t[c];var u=n+Ls(a,c);s+=io(a,e,r,u,i)}else if(u=Ug(t),typeof u=="function")for(t=u.call(t),c=0;!(a=t.next()).done;)a=a.value,u=n+Ls(a,c++),s+=io(a,e,r,u,i);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function Pa(t,e,r){if(t==null)return t;var n=[],i=0;return io(t,n,"","",function(a){return e.call(r,a,i++)}),n}function $g(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var gt={current:null},ao={transition:null},Hg={ReactCurrentDispatcher:gt,ReactCurrentBatchConfig:ao,ReactCurrentOwner:ku};function Yh(){throw Error("act(...) is not supported in production builds of React.")}ue.Children={map:Pa,forEach:function(t,e,r){Pa(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Pa(t,function(){e++}),e},toArray:function(t){return Pa(t,function(e){return e})||[]},only:function(t){if(!Tu(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ue.Component=si;ue.Fragment=Tg;ue.Profiler=Ng;ue.PureComponent=Iu;ue.StrictMode=Og;ue.Suspense=jg;ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Hg;ue.act=Yh;ue.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=Wh({},t.props),i=t.key,a=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,s=ku.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var c=t.type.defaultProps;for(u in e)Hh.call(e,u)&&!Gh.hasOwnProperty(u)&&(n[u]=e[u]===void 0&&c!==void 0?c[u]:e[u])}var u=arguments.length-2;if(u===1)n.children=r;else if(1<u){c=Array(u);for(var h=0;h<u;h++)c[h]=arguments[h+2];n.children=c}return{$$typeof:ba,type:t.type,key:i,ref:a,props:n,_owner:s}};ue.createContext=function(t){return t={$$typeof:Fg,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Rg,_context:t},t.Consumer=t};ue.createElement=Jh;ue.createFactory=function(t){var e=Jh.bind(null,t);return e.type=t,e};ue.createRef=function(){return{current:null}};ue.forwardRef=function(t){return{$$typeof:Pg,render:t}};ue.isValidElement=Tu;ue.lazy=function(t){return{$$typeof:Bg,_payload:{_status:-1,_result:t},_init:$g}};ue.memo=function(t,e){return{$$typeof:zg,type:t,compare:e===void 0?null:e}};ue.startTransition=function(t){var e=ao.transition;ao.transition={};try{t()}finally{ao.transition=e}};ue.unstable_act=Yh;ue.useCallback=function(t,e){return gt.current.useCallback(t,e)};ue.useContext=function(t){return gt.current.useContext(t)};ue.useDebugValue=function(){};ue.useDeferredValue=function(t){return gt.current.useDeferredValue(t)};ue.useEffect=function(t,e){return gt.current.useEffect(t,e)};ue.useId=function(){return gt.current.useId()};ue.useImperativeHandle=function(t,e,r){return gt.current.useImperativeHandle(t,e,r)};ue.useInsertionEffect=function(t,e){return gt.current.useInsertionEffect(t,e)};ue.useLayoutEffect=function(t,e){return gt.current.useLayoutEffect(t,e)};ue.useMemo=function(t,e){return gt.current.useMemo(t,e)};ue.useReducer=function(t,e,r){return gt.current.useReducer(t,e,r)};ue.useRef=function(t){return gt.current.useRef(t)};ue.useState=function(t){return gt.current.useState(t)};ue.useSyncExternalStore=function(t,e,r){return gt.current.useSyncExternalStore(t,e,r)};ue.useTransition=function(){return gt.current.useTransition()};ue.version="18.3.1";Bh.exports=ue;var L=Bh.exports;const Gg=jh(L),Jg=Ph({__proto__:null,default:Gg},[L]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yg=L,Qg=Symbol.for("react.element"),qg=Symbol.for("react.fragment"),Zg=Object.prototype.hasOwnProperty,Kg=Yg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Xg={key:!0,ref:!0,__self:!0,__source:!0};function Qh(t,e,r){var n,i={},a=null,s=null;r!==void 0&&(a=""+r),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(s=e.ref);for(n in e)Zg.call(e,n)&&!Xg.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:Qg,type:t,key:a,ref:s,props:i,_owner:Kg.current}}ts.Fragment=qg;ts.jsx=Qh;ts.jsxs=Qh;zh.exports=ts;var Ou=zh.exports;const e0=Ou.Fragment,B=Ou.jsx,Ie=Ou.jsxs;var vl={},qh={exports:{}},kt={},Zh={exports:{}},Kh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(j,Z){var X=j.length;j.push(Z);e:for(;0<X;){var se=X-1>>>1,fe=j[se];if(0<i(fe,Z))j[se]=Z,j[X]=fe,X=se;else break e}}function r(j){return j.length===0?null:j[0]}function n(j){if(j.length===0)return null;var Z=j[0],X=j.pop();if(X!==Z){j[0]=X;e:for(var se=0,fe=j.length,et=fe>>>1;se<et;){var k=2*(se+1)-1,P=j[k],R=k+1,J=j[R];if(0>i(P,X))R<fe&&0>i(J,P)?(j[se]=J,j[R]=X,se=R):(j[se]=P,j[k]=X,se=k);else if(R<fe&&0>i(J,X))j[se]=J,j[R]=X,se=R;else break e}}return Z}function i(j,Z){var X=j.sortIndex-Z.sortIndex;return X!==0?X:j.id-Z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,c=s.now();t.unstable_now=function(){return s.now()-c}}var u=[],h=[],g=1,o=null,l=3,d=!1,f=!1,m=!1,y=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(j){for(var Z=r(h);Z!==null;){if(Z.callback===null)n(h);else if(Z.startTime<=j)n(h),Z.sortIndex=Z.expirationTime,e(u,Z);else break;Z=r(h)}}function A(j){if(m=!1,w(j),!f)if(r(u)!==null)f=!0,ct(M);else{var Z=r(h);Z!==null&&Ce(A,Z.startTime-j)}}function M(j,Z){f=!1,m&&(m=!1,p(D),D=-1),d=!0;var X=l;try{for(w(Z),o=r(u);o!==null&&(!(o.expirationTime>Z)||j&&!F());){var se=o.callback;if(typeof se=="function"){o.callback=null,l=o.priorityLevel;var fe=se(o.expirationTime<=Z);Z=t.unstable_now(),typeof fe=="function"?o.callback=fe:o===r(u)&&n(u),w(Z)}else n(u);o=r(u)}if(o!==null)var et=!0;else{var k=r(h);k!==null&&Ce(A,k.startTime-Z),et=!1}return et}finally{o=null,l=X,d=!1}}var C=!1,N=null,D=-1,x=5,I=-1;function F(){return!(t.unstable_now()-I<x)}function te(){if(N!==null){var j=t.unstable_now();I=j;var Z=!0;try{Z=N(!0,j)}finally{Z?ae():(C=!1,N=null)}}else C=!1}var ae;if(typeof v=="function")ae=function(){v(te)};else if(typeof MessageChannel<"u"){var ne=new MessageChannel,Ge=ne.port2;ne.port1.onmessage=te,ae=function(){Ge.postMessage(null)}}else ae=function(){y(te,0)};function ct(j){N=j,C||(C=!0,ae())}function Ce(j,Z){D=y(function(){j(t.unstable_now())},Z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(j){j.callback=null},t.unstable_continueExecution=function(){f||d||(f=!0,ct(M))},t.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<j?Math.floor(1e3/j):5},t.unstable_getCurrentPriorityLevel=function(){return l},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(j){switch(l){case 1:case 2:case 3:var Z=3;break;default:Z=l}var X=l;l=Z;try{return j()}finally{l=X}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(j,Z){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var X=l;l=j;try{return Z()}finally{l=X}},t.unstable_scheduleCallback=function(j,Z,X){var se=t.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?se+X:se):X=se,j){case 1:var fe=-1;break;case 2:fe=250;break;case 5:fe=1073741823;break;case 4:fe=1e4;break;default:fe=5e3}return fe=X+fe,j={id:g++,callback:Z,priorityLevel:j,startTime:X,expirationTime:fe,sortIndex:-1},X>se?(j.sortIndex=X,e(h,j),r(u)===null&&j===r(h)&&(m?(p(D),D=-1):m=!0,Ce(A,X-se))):(j.sortIndex=fe,e(u,j),f||d||(f=!0,ct(M))),j},t.unstable_shouldYield=F,t.unstable_wrapCallback=function(j){var Z=l;return function(){var X=l;l=Z;try{return j.apply(this,arguments)}finally{l=X}}}})(Kh);Zh.exports=Kh;var t0=Zh.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r0=L,Dt=t0;function O(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Xh=new Set,ra={};function pn(t,e){Xn(t,e),Xn(t+"Capture",e)}function Xn(t,e){for(ra[t]=e,t=0;t<e.length;t++)Xh.add(e[t])}var gr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yl=Object.prototype.hasOwnProperty,n0=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Qc={},qc={};function i0(t){return yl.call(qc,t)?!0:yl.call(Qc,t)?!1:n0.test(t)?qc[t]=!0:(Qc[t]=!0,!1)}function a0(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function o0(t,e,r,n){if(e===null||typeof e>"u"||a0(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function vt(t,e,r,n,i,a,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=s}var it={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){it[t]=new vt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];it[e]=new vt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){it[t]=new vt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){it[t]=new vt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){it[t]=new vt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){it[t]=new vt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){it[t]=new vt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){it[t]=new vt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){it[t]=new vt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Nu=/[\-:]([a-z])/g;function Ru(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Nu,Ru);it[e]=new vt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Nu,Ru);it[e]=new vt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Nu,Ru);it[e]=new vt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){it[t]=new vt(t,1,!1,t.toLowerCase(),null,!1,!1)});it.xlinkHref=new vt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){it[t]=new vt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Fu(t,e,r,n){var i=it.hasOwnProperty(e)?it[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(o0(e,r,i,n)&&(r=null),n||i===null?i0(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Sr=r0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ja=Symbol.for("react.element"),Rn=Symbol.for("react.portal"),Fn=Symbol.for("react.fragment"),Pu=Symbol.for("react.strict_mode"),wl=Symbol.for("react.profiler"),ef=Symbol.for("react.provider"),tf=Symbol.for("react.context"),ju=Symbol.for("react.forward_ref"),Sl=Symbol.for("react.suspense"),Cl=Symbol.for("react.suspense_list"),zu=Symbol.for("react.memo"),br=Symbol.for("react.lazy"),rf=Symbol.for("react.offscreen"),Zc=Symbol.iterator;function yi(t){return t===null||typeof t!="object"?null:(t=Zc&&t[Zc]||t["@@iterator"],typeof t=="function"?t:null)}var Fe=Object.assign,Is;function ki(t){if(Is===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Is=e&&e[1]||""}return`
`+Is+t}var Ds=!1;function ks(t,e){if(!t||Ds)return"";Ds=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(h){var n=h}Reflect.construct(t,[],e)}else{try{e.call()}catch(h){n=h}t.call(e.prototype)}else{try{throw Error()}catch(h){n=h}t()}}catch(h){if(h&&n&&typeof h.stack=="string"){for(var i=h.stack.split(`
`),a=n.stack.split(`
`),s=i.length-1,c=a.length-1;1<=s&&0<=c&&i[s]!==a[c];)c--;for(;1<=s&&0<=c;s--,c--)if(i[s]!==a[c]){if(s!==1||c!==1)do if(s--,c--,0>c||i[s]!==a[c]){var u=`
`+i[s].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=s&&0<=c);break}}}finally{Ds=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?ki(t):""}function s0(t){switch(t.tag){case 5:return ki(t.type);case 16:return ki("Lazy");case 13:return ki("Suspense");case 19:return ki("SuspenseList");case 0:case 2:case 15:return t=ks(t.type,!1),t;case 11:return t=ks(t.type.render,!1),t;case 1:return t=ks(t.type,!0),t;default:return""}}function Al(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Fn:return"Fragment";case Rn:return"Portal";case wl:return"Profiler";case Pu:return"StrictMode";case Sl:return"Suspense";case Cl:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case tf:return(t.displayName||"Context")+".Consumer";case ef:return(t._context.displayName||"Context")+".Provider";case ju:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case zu:return e=t.displayName||null,e!==null?e:Al(t.type)||"Memo";case br:e=t._payload,t=t._init;try{return Al(t(e))}catch{}}return null}function l0(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Al(e);case 8:return e===Pu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function zr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function nf(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function u0(t){var e=nf(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){n=""+s,a.call(this,s)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function za(t){t._valueTracker||(t._valueTracker=u0(t))}function af(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=nf(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function xo(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function bl(t,e){var r=e.checked;return Fe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function Kc(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=zr(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function of(t,e){e=e.checked,e!=null&&Fu(t,"checked",e,!1)}function _l(t,e){of(t,e);var r=zr(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?El(t,e.type,r):e.hasOwnProperty("defaultValue")&&El(t,e.type,zr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Xc(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function El(t,e,r){(e!=="number"||xo(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Ti=Array.isArray;function Jn(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+zr(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function xl(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(O(91));return Fe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function ed(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(O(92));if(Ti(r)){if(1<r.length)throw Error(O(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:zr(r)}}function sf(t,e){var r=zr(e.value),n=zr(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function td(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function lf(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ml(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?lf(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ba,uf=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ba=Ba||document.createElement("div"),Ba.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ba.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function na(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var $i={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},c0=["Webkit","ms","Moz","O"];Object.keys($i).forEach(function(t){c0.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),$i[e]=$i[t]})});function cf(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||$i.hasOwnProperty(t)&&$i[t]?(""+e).trim():e+"px"}function df(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=cf(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var d0=Fe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ll(t,e){if(e){if(d0[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(O(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(O(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(O(61))}if(e.style!=null&&typeof e.style!="object")throw Error(O(62))}}function Il(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Dl=null;function Bu(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var kl=null,Yn=null,Qn=null;function rd(t){if(t=xa(t)){if(typeof kl!="function")throw Error(O(280));var e=t.stateNode;e&&(e=os(e),kl(t.stateNode,t.type,e))}}function hf(t){Yn?Qn?Qn.push(t):Qn=[t]:Yn=t}function ff(){if(Yn){var t=Yn,e=Qn;if(Qn=Yn=null,rd(t),e)for(t=0;t<e.length;t++)rd(e[t])}}function mf(t,e){return t(e)}function pf(){}var Ts=!1;function gf(t,e,r){if(Ts)return t(e,r);Ts=!0;try{return mf(t,e,r)}finally{Ts=!1,(Yn!==null||Qn!==null)&&(pf(),ff())}}function ia(t,e){var r=t.stateNode;if(r===null)return null;var n=os(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(O(231,e,typeof r));return r}var Tl=!1;if(gr)try{var wi={};Object.defineProperty(wi,"passive",{get:function(){Tl=!0}}),window.addEventListener("test",wi,wi),window.removeEventListener("test",wi,wi)}catch{Tl=!1}function h0(t,e,r,n,i,a,s,c,u){var h=Array.prototype.slice.call(arguments,3);try{e.apply(r,h)}catch(g){this.onError(g)}}var Hi=!1,Mo=null,Lo=!1,Ol=null,f0={onError:function(t){Hi=!0,Mo=t}};function m0(t,e,r,n,i,a,s,c,u){Hi=!1,Mo=null,h0.apply(f0,arguments)}function p0(t,e,r,n,i,a,s,c,u){if(m0.apply(this,arguments),Hi){if(Hi){var h=Mo;Hi=!1,Mo=null}else throw Error(O(198));Lo||(Lo=!0,Ol=h)}}function gn(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function vf(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function nd(t){if(gn(t)!==t)throw Error(O(188))}function g0(t){var e=t.alternate;if(!e){if(e=gn(t),e===null)throw Error(O(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return nd(i),t;if(a===n)return nd(i),e;a=a.sibling}throw Error(O(188))}if(r.return!==n.return)r=i,n=a;else{for(var s=!1,c=i.child;c;){if(c===r){s=!0,r=i,n=a;break}if(c===n){s=!0,n=i,r=a;break}c=c.sibling}if(!s){for(c=a.child;c;){if(c===r){s=!0,r=a,n=i;break}if(c===n){s=!0,n=a,r=i;break}c=c.sibling}if(!s)throw Error(O(189))}}if(r.alternate!==n)throw Error(O(190))}if(r.tag!==3)throw Error(O(188));return r.stateNode.current===r?t:e}function yf(t){return t=g0(t),t!==null?wf(t):null}function wf(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=wf(t);if(e!==null)return e;t=t.sibling}return null}var Sf=Dt.unstable_scheduleCallback,id=Dt.unstable_cancelCallback,v0=Dt.unstable_shouldYield,y0=Dt.unstable_requestPaint,Ve=Dt.unstable_now,w0=Dt.unstable_getCurrentPriorityLevel,Uu=Dt.unstable_ImmediatePriority,Cf=Dt.unstable_UserBlockingPriority,Io=Dt.unstable_NormalPriority,S0=Dt.unstable_LowPriority,Af=Dt.unstable_IdlePriority,rs=null,ir=null;function C0(t){if(ir&&typeof ir.onCommitFiberRoot=="function")try{ir.onCommitFiberRoot(rs,t,void 0,(t.current.flags&128)===128)}catch{}}var Yt=Math.clz32?Math.clz32:_0,A0=Math.log,b0=Math.LN2;function _0(t){return t>>>=0,t===0?32:31-(A0(t)/b0|0)|0}var Ua=64,Wa=4194304;function Oi(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Do(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,a=t.pingedLanes,s=r&268435455;if(s!==0){var c=s&~i;c!==0?n=Oi(c):(a&=s,a!==0&&(n=Oi(a)))}else s=r&~i,s!==0?n=Oi(s):a!==0&&(n=Oi(a));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,a=e&-e,i>=a||i===16&&(a&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Yt(e),i=1<<r,n|=t[r],e&=~i;return n}function E0(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function x0(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes;0<a;){var s=31-Yt(a),c=1<<s,u=i[s];u===-1?(!(c&r)||c&n)&&(i[s]=E0(c,e)):u<=e&&(t.expiredLanes|=c),a&=~c}}function Nl(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function bf(){var t=Ua;return Ua<<=1,!(Ua&4194240)&&(Ua=64),t}function Os(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function _a(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Yt(e),t[e]=r}function M0(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-Yt(r),a=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~a}}function Wu(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Yt(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var Se=0;function _f(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Ef,Vu,xf,Mf,Lf,Rl=!1,Va=[],Dr=null,kr=null,Tr=null,aa=new Map,oa=new Map,Er=[],L0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ad(t,e){switch(t){case"focusin":case"focusout":Dr=null;break;case"dragenter":case"dragleave":kr=null;break;case"mouseover":case"mouseout":Tr=null;break;case"pointerover":case"pointerout":aa.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":oa.delete(e.pointerId)}}function Si(t,e,r,n,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},e!==null&&(e=xa(e),e!==null&&Vu(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function I0(t,e,r,n,i){switch(e){case"focusin":return Dr=Si(Dr,t,e,r,n,i),!0;case"dragenter":return kr=Si(kr,t,e,r,n,i),!0;case"mouseover":return Tr=Si(Tr,t,e,r,n,i),!0;case"pointerover":var a=i.pointerId;return aa.set(a,Si(aa.get(a)||null,t,e,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,oa.set(a,Si(oa.get(a)||null,t,e,r,n,i)),!0}return!1}function If(t){var e=tn(t.target);if(e!==null){var r=gn(e);if(r!==null){if(e=r.tag,e===13){if(e=vf(r),e!==null){t.blockedOn=e,Lf(t.priority,function(){xf(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function oo(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=Fl(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);Dl=n,r.target.dispatchEvent(n),Dl=null}else return e=xa(r),e!==null&&Vu(e),t.blockedOn=r,!1;e.shift()}return!0}function od(t,e,r){oo(t)&&r.delete(e)}function D0(){Rl=!1,Dr!==null&&oo(Dr)&&(Dr=null),kr!==null&&oo(kr)&&(kr=null),Tr!==null&&oo(Tr)&&(Tr=null),aa.forEach(od),oa.forEach(od)}function Ci(t,e){t.blockedOn===e&&(t.blockedOn=null,Rl||(Rl=!0,Dt.unstable_scheduleCallback(Dt.unstable_NormalPriority,D0)))}function sa(t){function e(i){return Ci(i,t)}if(0<Va.length){Ci(Va[0],t);for(var r=1;r<Va.length;r++){var n=Va[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Dr!==null&&Ci(Dr,t),kr!==null&&Ci(kr,t),Tr!==null&&Ci(Tr,t),aa.forEach(e),oa.forEach(e),r=0;r<Er.length;r++)n=Er[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Er.length&&(r=Er[0],r.blockedOn===null);)If(r),r.blockedOn===null&&Er.shift()}var qn=Sr.ReactCurrentBatchConfig,ko=!0;function k0(t,e,r,n){var i=Se,a=qn.transition;qn.transition=null;try{Se=1,$u(t,e,r,n)}finally{Se=i,qn.transition=a}}function T0(t,e,r,n){var i=Se,a=qn.transition;qn.transition=null;try{Se=4,$u(t,e,r,n)}finally{Se=i,qn.transition=a}}function $u(t,e,r,n){if(ko){var i=Fl(t,e,r,n);if(i===null)Vs(t,e,n,To,r),ad(t,n);else if(I0(i,t,e,r,n))n.stopPropagation();else if(ad(t,n),e&4&&-1<L0.indexOf(t)){for(;i!==null;){var a=xa(i);if(a!==null&&Ef(a),a=Fl(t,e,r,n),a===null&&Vs(t,e,n,To,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else Vs(t,e,n,null,r)}}var To=null;function Fl(t,e,r,n){if(To=null,t=Bu(n),t=tn(t),t!==null)if(e=gn(t),e===null)t=null;else if(r=e.tag,r===13){if(t=vf(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return To=t,null}function Df(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(w0()){case Uu:return 1;case Cf:return 4;case Io:case S0:return 16;case Af:return 536870912;default:return 16}default:return 16}}var Mr=null,Hu=null,so=null;function kf(){if(so)return so;var t,e=Hu,r=e.length,n,i="value"in Mr?Mr.value:Mr.textContent,a=i.length;for(t=0;t<r&&e[t]===i[t];t++);var s=r-t;for(n=1;n<=s&&e[r-n]===i[a-n];n++);return so=i.slice(t,1<n?1-n:void 0)}function lo(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function $a(){return!0}function sd(){return!1}function Tt(t){function e(r,n,i,a,s){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var c in t)t.hasOwnProperty(c)&&(r=t[c],this[c]=r?r(a):a[c]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?$a:sd,this.isPropagationStopped=sd,this}return Fe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=$a)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=$a)},persist:function(){},isPersistent:$a}),e}var li={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gu=Tt(li),Ea=Fe({},li,{view:0,detail:0}),O0=Tt(Ea),Ns,Rs,Ai,ns=Fe({},Ea,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ju,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ai&&(Ai&&t.type==="mousemove"?(Ns=t.screenX-Ai.screenX,Rs=t.screenY-Ai.screenY):Rs=Ns=0,Ai=t),Ns)},movementY:function(t){return"movementY"in t?t.movementY:Rs}}),ld=Tt(ns),N0=Fe({},ns,{dataTransfer:0}),R0=Tt(N0),F0=Fe({},Ea,{relatedTarget:0}),Fs=Tt(F0),P0=Fe({},li,{animationName:0,elapsedTime:0,pseudoElement:0}),j0=Tt(P0),z0=Fe({},li,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),B0=Tt(z0),U0=Fe({},li,{data:0}),ud=Tt(U0),W0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},V0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function H0(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=$0[t])?!!e[t]:!1}function Ju(){return H0}var G0=Fe({},Ea,{key:function(t){if(t.key){var e=W0[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=lo(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?V0[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ju,charCode:function(t){return t.type==="keypress"?lo(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?lo(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),J0=Tt(G0),Y0=Fe({},ns,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cd=Tt(Y0),Q0=Fe({},Ea,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ju}),q0=Tt(Q0),Z0=Fe({},li,{propertyName:0,elapsedTime:0,pseudoElement:0}),K0=Tt(Z0),X0=Fe({},ns,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ev=Tt(X0),tv=[9,13,27,32],Yu=gr&&"CompositionEvent"in window,Gi=null;gr&&"documentMode"in document&&(Gi=document.documentMode);var rv=gr&&"TextEvent"in window&&!Gi,Tf=gr&&(!Yu||Gi&&8<Gi&&11>=Gi),dd=String.fromCharCode(32),hd=!1;function Of(t,e){switch(t){case"keyup":return tv.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Nf(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Pn=!1;function nv(t,e){switch(t){case"compositionend":return Nf(e);case"keypress":return e.which!==32?null:(hd=!0,dd);case"textInput":return t=e.data,t===dd&&hd?null:t;default:return null}}function iv(t,e){if(Pn)return t==="compositionend"||!Yu&&Of(t,e)?(t=kf(),so=Hu=Mr=null,Pn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Tf&&e.locale!=="ko"?null:e.data;default:return null}}var av={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fd(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!av[t.type]:e==="textarea"}function Rf(t,e,r,n){hf(n),e=Oo(e,"onChange"),0<e.length&&(r=new Gu("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Ji=null,la=null;function ov(t){Gf(t,0)}function is(t){var e=Bn(t);if(af(e))return t}function sv(t,e){if(t==="change")return e}var Ff=!1;if(gr){var Ps;if(gr){var js="oninput"in document;if(!js){var md=document.createElement("div");md.setAttribute("oninput","return;"),js=typeof md.oninput=="function"}Ps=js}else Ps=!1;Ff=Ps&&(!document.documentMode||9<document.documentMode)}function pd(){Ji&&(Ji.detachEvent("onpropertychange",Pf),la=Ji=null)}function Pf(t){if(t.propertyName==="value"&&is(la)){var e=[];Rf(e,la,t,Bu(t)),gf(ov,e)}}function lv(t,e,r){t==="focusin"?(pd(),Ji=e,la=r,Ji.attachEvent("onpropertychange",Pf)):t==="focusout"&&pd()}function uv(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return is(la)}function cv(t,e){if(t==="click")return is(e)}function dv(t,e){if(t==="input"||t==="change")return is(e)}function hv(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var qt=typeof Object.is=="function"?Object.is:hv;function ua(t,e){if(qt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!yl.call(e,i)||!qt(t[i],e[i]))return!1}return!0}function gd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function vd(t,e){var r=gd(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=gd(r)}}function jf(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?jf(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function zf(){for(var t=window,e=xo();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=xo(t.document)}return e}function Qu(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function fv(t){var e=zf(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&jf(r.ownerDocument.documentElement,r)){if(n!==null&&Qu(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!t.extend&&a>n&&(i=n,n=a,a=i),i=vd(r,a);var s=vd(r,n);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),a>n?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var mv=gr&&"documentMode"in document&&11>=document.documentMode,jn=null,Pl=null,Yi=null,jl=!1;function yd(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;jl||jn==null||jn!==xo(n)||(n=jn,"selectionStart"in n&&Qu(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Yi&&ua(Yi,n)||(Yi=n,n=Oo(Pl,"onSelect"),0<n.length&&(e=new Gu("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=jn)))}function Ha(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var zn={animationend:Ha("Animation","AnimationEnd"),animationiteration:Ha("Animation","AnimationIteration"),animationstart:Ha("Animation","AnimationStart"),transitionend:Ha("Transition","TransitionEnd")},zs={},Bf={};gr&&(Bf=document.createElement("div").style,"AnimationEvent"in window||(delete zn.animationend.animation,delete zn.animationiteration.animation,delete zn.animationstart.animation),"TransitionEvent"in window||delete zn.transitionend.transition);function as(t){if(zs[t])return zs[t];if(!zn[t])return t;var e=zn[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in Bf)return zs[t]=e[r];return t}var Uf=as("animationend"),Wf=as("animationiteration"),Vf=as("animationstart"),$f=as("transitionend"),Hf=new Map,wd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ur(t,e){Hf.set(t,e),pn(e,[t])}for(var Bs=0;Bs<wd.length;Bs++){var Us=wd[Bs],pv=Us.toLowerCase(),gv=Us[0].toUpperCase()+Us.slice(1);Ur(pv,"on"+gv)}Ur(Uf,"onAnimationEnd");Ur(Wf,"onAnimationIteration");Ur(Vf,"onAnimationStart");Ur("dblclick","onDoubleClick");Ur("focusin","onFocus");Ur("focusout","onBlur");Ur($f,"onTransitionEnd");Xn("onMouseEnter",["mouseout","mouseover"]);Xn("onMouseLeave",["mouseout","mouseover"]);Xn("onPointerEnter",["pointerout","pointerover"]);Xn("onPointerLeave",["pointerout","pointerover"]);pn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));pn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));pn("onBeforeInput",["compositionend","keypress","textInput","paste"]);pn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));pn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));pn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ni="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vv=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ni));function Sd(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,p0(n,e,void 0,t),t.currentTarget=null}function Gf(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var a=void 0;if(e)for(var s=n.length-1;0<=s;s--){var c=n[s],u=c.instance,h=c.currentTarget;if(c=c.listener,u!==a&&i.isPropagationStopped())break e;Sd(i,c,h),a=u}else for(s=0;s<n.length;s++){if(c=n[s],u=c.instance,h=c.currentTarget,c=c.listener,u!==a&&i.isPropagationStopped())break e;Sd(i,c,h),a=u}}}if(Lo)throw t=Ol,Lo=!1,Ol=null,t}function Me(t,e){var r=e[Vl];r===void 0&&(r=e[Vl]=new Set);var n=t+"__bubble";r.has(n)||(Jf(e,t,2,!1),r.add(n))}function Ws(t,e,r){var n=0;e&&(n|=4),Jf(r,t,n,e)}var Ga="_reactListening"+Math.random().toString(36).slice(2);function ca(t){if(!t[Ga]){t[Ga]=!0,Xh.forEach(function(r){r!=="selectionchange"&&(vv.has(r)||Ws(r,!1,t),Ws(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ga]||(e[Ga]=!0,Ws("selectionchange",!1,e))}}function Jf(t,e,r,n){switch(Df(e)){case 1:var i=k0;break;case 4:i=T0;break;default:i=$u}r=i.bind(null,e,r,t),i=void 0,!Tl||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function Vs(t,e,r,n,i){var a=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var c=n.stateNode.containerInfo;if(c===i||c.nodeType===8&&c.parentNode===i)break;if(s===4)for(s=n.return;s!==null;){var u=s.tag;if((u===3||u===4)&&(u=s.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;s=s.return}for(;c!==null;){if(s=tn(c),s===null)return;if(u=s.tag,u===5||u===6){n=a=s;continue e}c=c.parentNode}}n=n.return}gf(function(){var h=a,g=Bu(r),o=[];e:{var l=Hf.get(t);if(l!==void 0){var d=Gu,f=t;switch(t){case"keypress":if(lo(r)===0)break e;case"keydown":case"keyup":d=J0;break;case"focusin":f="focus",d=Fs;break;case"focusout":f="blur",d=Fs;break;case"beforeblur":case"afterblur":d=Fs;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":d=ld;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":d=R0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":d=q0;break;case Uf:case Wf:case Vf:d=j0;break;case $f:d=K0;break;case"scroll":d=O0;break;case"wheel":d=ev;break;case"copy":case"cut":case"paste":d=B0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":d=cd}var m=(e&4)!==0,y=!m&&t==="scroll",p=m?l!==null?l+"Capture":null:l;m=[];for(var v=h,w;v!==null;){w=v;var A=w.stateNode;if(w.tag===5&&A!==null&&(w=A,p!==null&&(A=ia(v,p),A!=null&&m.push(da(v,A,w)))),y)break;v=v.return}0<m.length&&(l=new d(l,f,null,r,g),o.push({event:l,listeners:m}))}}if(!(e&7)){e:{if(l=t==="mouseover"||t==="pointerover",d=t==="mouseout"||t==="pointerout",l&&r!==Dl&&(f=r.relatedTarget||r.fromElement)&&(tn(f)||f[vr]))break e;if((d||l)&&(l=g.window===g?g:(l=g.ownerDocument)?l.defaultView||l.parentWindow:window,d?(f=r.relatedTarget||r.toElement,d=h,f=f?tn(f):null,f!==null&&(y=gn(f),f!==y||f.tag!==5&&f.tag!==6)&&(f=null)):(d=null,f=h),d!==f)){if(m=ld,A="onMouseLeave",p="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(m=cd,A="onPointerLeave",p="onPointerEnter",v="pointer"),y=d==null?l:Bn(d),w=f==null?l:Bn(f),l=new m(A,v+"leave",d,r,g),l.target=y,l.relatedTarget=w,A=null,tn(g)===h&&(m=new m(p,v+"enter",f,r,g),m.target=w,m.relatedTarget=y,A=m),y=A,d&&f)t:{for(m=d,p=f,v=0,w=m;w;w=_n(w))v++;for(w=0,A=p;A;A=_n(A))w++;for(;0<v-w;)m=_n(m),v--;for(;0<w-v;)p=_n(p),w--;for(;v--;){if(m===p||p!==null&&m===p.alternate)break t;m=_n(m),p=_n(p)}m=null}else m=null;d!==null&&Cd(o,l,d,m,!1),f!==null&&y!==null&&Cd(o,y,f,m,!0)}}e:{if(l=h?Bn(h):window,d=l.nodeName&&l.nodeName.toLowerCase(),d==="select"||d==="input"&&l.type==="file")var M=sv;else if(fd(l))if(Ff)M=dv;else{M=uv;var C=lv}else(d=l.nodeName)&&d.toLowerCase()==="input"&&(l.type==="checkbox"||l.type==="radio")&&(M=cv);if(M&&(M=M(t,h))){Rf(o,M,r,g);break e}C&&C(t,l,h),t==="focusout"&&(C=l._wrapperState)&&C.controlled&&l.type==="number"&&El(l,"number",l.value)}switch(C=h?Bn(h):window,t){case"focusin":(fd(C)||C.contentEditable==="true")&&(jn=C,Pl=h,Yi=null);break;case"focusout":Yi=Pl=jn=null;break;case"mousedown":jl=!0;break;case"contextmenu":case"mouseup":case"dragend":jl=!1,yd(o,r,g);break;case"selectionchange":if(mv)break;case"keydown":case"keyup":yd(o,r,g)}var N;if(Yu)e:{switch(t){case"compositionstart":var D="onCompositionStart";break e;case"compositionend":D="onCompositionEnd";break e;case"compositionupdate":D="onCompositionUpdate";break e}D=void 0}else Pn?Of(t,r)&&(D="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(D="onCompositionStart");D&&(Tf&&r.locale!=="ko"&&(Pn||D!=="onCompositionStart"?D==="onCompositionEnd"&&Pn&&(N=kf()):(Mr=g,Hu="value"in Mr?Mr.value:Mr.textContent,Pn=!0)),C=Oo(h,D),0<C.length&&(D=new ud(D,t,null,r,g),o.push({event:D,listeners:C}),N?D.data=N:(N=Nf(r),N!==null&&(D.data=N)))),(N=rv?nv(t,r):iv(t,r))&&(h=Oo(h,"onBeforeInput"),0<h.length&&(g=new ud("onBeforeInput","beforeinput",null,r,g),o.push({event:g,listeners:h}),g.data=N))}Gf(o,e)})}function da(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Oo(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=ia(t,r),a!=null&&n.unshift(da(t,a,i)),a=ia(t,e),a!=null&&n.push(da(t,a,i))),t=t.return}return n}function _n(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Cd(t,e,r,n,i){for(var a=e._reactName,s=[];r!==null&&r!==n;){var c=r,u=c.alternate,h=c.stateNode;if(u!==null&&u===n)break;c.tag===5&&h!==null&&(c=h,i?(u=ia(r,a),u!=null&&s.unshift(da(r,u,c))):i||(u=ia(r,a),u!=null&&s.push(da(r,u,c)))),r=r.return}s.length!==0&&t.push({event:e,listeners:s})}var yv=/\r\n?/g,wv=/\u0000|\uFFFD/g;function Ad(t){return(typeof t=="string"?t:""+t).replace(yv,`
`).replace(wv,"")}function Ja(t,e,r){if(e=Ad(e),Ad(t)!==e&&r)throw Error(O(425))}function No(){}var zl=null,Bl=null;function Ul(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Wl=typeof setTimeout=="function"?setTimeout:void 0,Sv=typeof clearTimeout=="function"?clearTimeout:void 0,bd=typeof Promise=="function"?Promise:void 0,Cv=typeof queueMicrotask=="function"?queueMicrotask:typeof bd<"u"?function(t){return bd.resolve(null).then(t).catch(Av)}:Wl;function Av(t){setTimeout(function(){throw t})}function $s(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),sa(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);sa(e)}function Or(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function _d(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var ui=Math.random().toString(36).slice(2),tr="__reactFiber$"+ui,ha="__reactProps$"+ui,vr="__reactContainer$"+ui,Vl="__reactEvents$"+ui,bv="__reactListeners$"+ui,_v="__reactHandles$"+ui;function tn(t){var e=t[tr];if(e)return e;for(var r=t.parentNode;r;){if(e=r[vr]||r[tr]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=_d(t);t!==null;){if(r=t[tr])return r;t=_d(t)}return e}t=r,r=t.parentNode}return null}function xa(t){return t=t[tr]||t[vr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Bn(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(O(33))}function os(t){return t[ha]||null}var $l=[],Un=-1;function Wr(t){return{current:t}}function De(t){0>Un||(t.current=$l[Un],$l[Un]=null,Un--)}function Ee(t,e){Un++,$l[Un]=t.current,t.current=e}var Br={},ut=Wr(Br),At=Wr(!1),ln=Br;function ei(t,e){var r=t.type.contextTypes;if(!r)return Br;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=e[a];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function bt(t){return t=t.childContextTypes,t!=null}function Ro(){De(At),De(ut)}function Ed(t,e,r){if(ut.current!==Br)throw Error(O(168));Ee(ut,e),Ee(At,r)}function Yf(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(O(108,l0(t)||"Unknown",i));return Fe({},r,n)}function Fo(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Br,ln=ut.current,Ee(ut,t),Ee(At,At.current),!0}function xd(t,e,r){var n=t.stateNode;if(!n)throw Error(O(169));r?(t=Yf(t,e,ln),n.__reactInternalMemoizedMergedChildContext=t,De(At),De(ut),Ee(ut,t)):De(At),Ee(At,r)}var cr=null,ss=!1,Hs=!1;function Qf(t){cr===null?cr=[t]:cr.push(t)}function Ev(t){ss=!0,Qf(t)}function Vr(){if(!Hs&&cr!==null){Hs=!0;var t=0,e=Se;try{var r=cr;for(Se=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}cr=null,ss=!1}catch(i){throw cr!==null&&(cr=cr.slice(t+1)),Sf(Uu,Vr),i}finally{Se=e,Hs=!1}}return null}var Wn=[],Vn=0,Po=null,jo=0,Pt=[],jt=0,un=null,dr=1,hr="";function Qr(t,e){Wn[Vn++]=jo,Wn[Vn++]=Po,Po=t,jo=e}function qf(t,e,r){Pt[jt++]=dr,Pt[jt++]=hr,Pt[jt++]=un,un=t;var n=dr;t=hr;var i=32-Yt(n)-1;n&=~(1<<i),r+=1;var a=32-Yt(e)+i;if(30<a){var s=i-i%5;a=(n&(1<<s)-1).toString(32),n>>=s,i-=s,dr=1<<32-Yt(e)+i|r<<i|n,hr=a+t}else dr=1<<a|r<<i|n,hr=t}function qu(t){t.return!==null&&(Qr(t,1),qf(t,1,0))}function Zu(t){for(;t===Po;)Po=Wn[--Vn],Wn[Vn]=null,jo=Wn[--Vn],Wn[Vn]=null;for(;t===un;)un=Pt[--jt],Pt[jt]=null,hr=Pt[--jt],Pt[jt]=null,dr=Pt[--jt],Pt[jt]=null}var It=null,Lt=null,Oe=!1,Jt=null;function Zf(t,e){var r=zt(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function Md(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,It=t,Lt=Or(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,It=t,Lt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=un!==null?{id:dr,overflow:hr}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=zt(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,It=t,Lt=null,!0):!1;default:return!1}}function Hl(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Gl(t){if(Oe){var e=Lt;if(e){var r=e;if(!Md(t,e)){if(Hl(t))throw Error(O(418));e=Or(r.nextSibling);var n=It;e&&Md(t,e)?Zf(n,r):(t.flags=t.flags&-4097|2,Oe=!1,It=t)}}else{if(Hl(t))throw Error(O(418));t.flags=t.flags&-4097|2,Oe=!1,It=t}}}function Ld(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;It=t}function Ya(t){if(t!==It)return!1;if(!Oe)return Ld(t),Oe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Ul(t.type,t.memoizedProps)),e&&(e=Lt)){if(Hl(t))throw Kf(),Error(O(418));for(;e;)Zf(t,e),e=Or(e.nextSibling)}if(Ld(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(O(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Lt=Or(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Lt=null}}else Lt=It?Or(t.stateNode.nextSibling):null;return!0}function Kf(){for(var t=Lt;t;)t=Or(t.nextSibling)}function ti(){Lt=It=null,Oe=!1}function Ku(t){Jt===null?Jt=[t]:Jt.push(t)}var xv=Sr.ReactCurrentBatchConfig;function bi(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(O(309));var n=r.stateNode}if(!n)throw Error(O(147,t));var i=n,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(s){var c=i.refs;s===null?delete c[a]:c[a]=s},e._stringRef=a,e)}if(typeof t!="string")throw Error(O(284));if(!r._owner)throw Error(O(290,t))}return t}function Qa(t,e){throw t=Object.prototype.toString.call(e),Error(O(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Id(t){var e=t._init;return e(t._payload)}function Xf(t){function e(p,v){if(t){var w=p.deletions;w===null?(p.deletions=[v],p.flags|=16):w.push(v)}}function r(p,v){if(!t)return null;for(;v!==null;)e(p,v),v=v.sibling;return null}function n(p,v){for(p=new Map;v!==null;)v.key!==null?p.set(v.key,v):p.set(v.index,v),v=v.sibling;return p}function i(p,v){return p=Pr(p,v),p.index=0,p.sibling=null,p}function a(p,v,w){return p.index=w,t?(w=p.alternate,w!==null?(w=w.index,w<v?(p.flags|=2,v):w):(p.flags|=2,v)):(p.flags|=1048576,v)}function s(p){return t&&p.alternate===null&&(p.flags|=2),p}function c(p,v,w,A){return v===null||v.tag!==6?(v=Ks(w,p.mode,A),v.return=p,v):(v=i(v,w),v.return=p,v)}function u(p,v,w,A){var M=w.type;return M===Fn?g(p,v,w.props.children,A,w.key):v!==null&&(v.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===br&&Id(M)===v.type)?(A=i(v,w.props),A.ref=bi(p,v,w),A.return=p,A):(A=go(w.type,w.key,w.props,null,p.mode,A),A.ref=bi(p,v,w),A.return=p,A)}function h(p,v,w,A){return v===null||v.tag!==4||v.stateNode.containerInfo!==w.containerInfo||v.stateNode.implementation!==w.implementation?(v=Xs(w,p.mode,A),v.return=p,v):(v=i(v,w.children||[]),v.return=p,v)}function g(p,v,w,A,M){return v===null||v.tag!==7?(v=sn(w,p.mode,A,M),v.return=p,v):(v=i(v,w),v.return=p,v)}function o(p,v,w){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Ks(""+v,p.mode,w),v.return=p,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case ja:return w=go(v.type,v.key,v.props,null,p.mode,w),w.ref=bi(p,null,v),w.return=p,w;case Rn:return v=Xs(v,p.mode,w),v.return=p,v;case br:var A=v._init;return o(p,A(v._payload),w)}if(Ti(v)||yi(v))return v=sn(v,p.mode,w,null),v.return=p,v;Qa(p,v)}return null}function l(p,v,w,A){var M=v!==null?v.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return M!==null?null:c(p,v,""+w,A);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case ja:return w.key===M?u(p,v,w,A):null;case Rn:return w.key===M?h(p,v,w,A):null;case br:return M=w._init,l(p,v,M(w._payload),A)}if(Ti(w)||yi(w))return M!==null?null:g(p,v,w,A,null);Qa(p,w)}return null}function d(p,v,w,A,M){if(typeof A=="string"&&A!==""||typeof A=="number")return p=p.get(w)||null,c(v,p,""+A,M);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case ja:return p=p.get(A.key===null?w:A.key)||null,u(v,p,A,M);case Rn:return p=p.get(A.key===null?w:A.key)||null,h(v,p,A,M);case br:var C=A._init;return d(p,v,w,C(A._payload),M)}if(Ti(A)||yi(A))return p=p.get(w)||null,g(v,p,A,M,null);Qa(v,A)}return null}function f(p,v,w,A){for(var M=null,C=null,N=v,D=v=0,x=null;N!==null&&D<w.length;D++){N.index>D?(x=N,N=null):x=N.sibling;var I=l(p,N,w[D],A);if(I===null){N===null&&(N=x);break}t&&N&&I.alternate===null&&e(p,N),v=a(I,v,D),C===null?M=I:C.sibling=I,C=I,N=x}if(D===w.length)return r(p,N),Oe&&Qr(p,D),M;if(N===null){for(;D<w.length;D++)N=o(p,w[D],A),N!==null&&(v=a(N,v,D),C===null?M=N:C.sibling=N,C=N);return Oe&&Qr(p,D),M}for(N=n(p,N);D<w.length;D++)x=d(N,p,D,w[D],A),x!==null&&(t&&x.alternate!==null&&N.delete(x.key===null?D:x.key),v=a(x,v,D),C===null?M=x:C.sibling=x,C=x);return t&&N.forEach(function(F){return e(p,F)}),Oe&&Qr(p,D),M}function m(p,v,w,A){var M=yi(w);if(typeof M!="function")throw Error(O(150));if(w=M.call(w),w==null)throw Error(O(151));for(var C=M=null,N=v,D=v=0,x=null,I=w.next();N!==null&&!I.done;D++,I=w.next()){N.index>D?(x=N,N=null):x=N.sibling;var F=l(p,N,I.value,A);if(F===null){N===null&&(N=x);break}t&&N&&F.alternate===null&&e(p,N),v=a(F,v,D),C===null?M=F:C.sibling=F,C=F,N=x}if(I.done)return r(p,N),Oe&&Qr(p,D),M;if(N===null){for(;!I.done;D++,I=w.next())I=o(p,I.value,A),I!==null&&(v=a(I,v,D),C===null?M=I:C.sibling=I,C=I);return Oe&&Qr(p,D),M}for(N=n(p,N);!I.done;D++,I=w.next())I=d(N,p,D,I.value,A),I!==null&&(t&&I.alternate!==null&&N.delete(I.key===null?D:I.key),v=a(I,v,D),C===null?M=I:C.sibling=I,C=I);return t&&N.forEach(function(te){return e(p,te)}),Oe&&Qr(p,D),M}function y(p,v,w,A){if(typeof w=="object"&&w!==null&&w.type===Fn&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case ja:e:{for(var M=w.key,C=v;C!==null;){if(C.key===M){if(M=w.type,M===Fn){if(C.tag===7){r(p,C.sibling),v=i(C,w.props.children),v.return=p,p=v;break e}}else if(C.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===br&&Id(M)===C.type){r(p,C.sibling),v=i(C,w.props),v.ref=bi(p,C,w),v.return=p,p=v;break e}r(p,C);break}else e(p,C);C=C.sibling}w.type===Fn?(v=sn(w.props.children,p.mode,A,w.key),v.return=p,p=v):(A=go(w.type,w.key,w.props,null,p.mode,A),A.ref=bi(p,v,w),A.return=p,p=A)}return s(p);case Rn:e:{for(C=w.key;v!==null;){if(v.key===C)if(v.tag===4&&v.stateNode.containerInfo===w.containerInfo&&v.stateNode.implementation===w.implementation){r(p,v.sibling),v=i(v,w.children||[]),v.return=p,p=v;break e}else{r(p,v);break}else e(p,v);v=v.sibling}v=Xs(w,p.mode,A),v.return=p,p=v}return s(p);case br:return C=w._init,y(p,v,C(w._payload),A)}if(Ti(w))return f(p,v,w,A);if(yi(w))return m(p,v,w,A);Qa(p,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,v!==null&&v.tag===6?(r(p,v.sibling),v=i(v,w),v.return=p,p=v):(r(p,v),v=Ks(w,p.mode,A),v.return=p,p=v),s(p)):r(p,v)}return y}var ri=Xf(!0),em=Xf(!1),zo=Wr(null),Bo=null,$n=null,Xu=null;function ec(){Xu=$n=Bo=null}function tc(t){var e=zo.current;De(zo),t._currentValue=e}function Jl(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Zn(t,e){Bo=t,Xu=$n=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ct=!0),t.firstContext=null)}function Ut(t){var e=t._currentValue;if(Xu!==t)if(t={context:t,memoizedValue:e,next:null},$n===null){if(Bo===null)throw Error(O(308));$n=t,Bo.dependencies={lanes:0,firstContext:t}}else $n=$n.next=t;return e}var rn=null;function rc(t){rn===null?rn=[t]:rn.push(t)}function tm(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,rc(e)):(r.next=i.next,i.next=r),e.interleaved=r,yr(t,n)}function yr(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var _r=!1;function nc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function rm(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function mr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Nr(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,ge&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,yr(t,r)}return i=n.interleaved,i===null?(e.next=e,rc(n)):(e.next=i.next,i.next=e),n.interleaved=e,yr(t,r)}function uo(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Wu(t,r)}}function Dd(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=s:a=a.next=s,r=r.next}while(r!==null);a===null?i=a=e:a=a.next=e}else i=a=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Uo(t,e,r,n){var i=t.updateQueue;_r=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,c=i.shared.pending;if(c!==null){i.shared.pending=null;var u=c,h=u.next;u.next=null,s===null?a=h:s.next=h,s=u;var g=t.alternate;g!==null&&(g=g.updateQueue,c=g.lastBaseUpdate,c!==s&&(c===null?g.firstBaseUpdate=h:c.next=h,g.lastBaseUpdate=u))}if(a!==null){var o=i.baseState;s=0,g=h=u=null,c=a;do{var l=c.lane,d=c.eventTime;if((n&l)===l){g!==null&&(g=g.next={eventTime:d,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var f=t,m=c;switch(l=e,d=r,m.tag){case 1:if(f=m.payload,typeof f=="function"){o=f.call(d,o,l);break e}o=f;break e;case 3:f.flags=f.flags&-65537|128;case 0:if(f=m.payload,l=typeof f=="function"?f.call(d,o,l):f,l==null)break e;o=Fe({},o,l);break e;case 2:_r=!0}}c.callback!==null&&c.lane!==0&&(t.flags|=64,l=i.effects,l===null?i.effects=[c]:l.push(c))}else d={eventTime:d,lane:l,tag:c.tag,payload:c.payload,callback:c.callback,next:null},g===null?(h=g=d,u=o):g=g.next=d,s|=l;if(c=c.next,c===null){if(c=i.shared.pending,c===null)break;l=c,c=l.next,l.next=null,i.lastBaseUpdate=l,i.shared.pending=null}}while(1);if(g===null&&(u=o),i.baseState=u,i.firstBaseUpdate=h,i.lastBaseUpdate=g,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else a===null&&(i.shared.lanes=0);dn|=s,t.lanes=s,t.memoizedState=o}}function kd(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(O(191,i));i.call(n)}}}var Ma={},ar=Wr(Ma),fa=Wr(Ma),ma=Wr(Ma);function nn(t){if(t===Ma)throw Error(O(174));return t}function ic(t,e){switch(Ee(ma,e),Ee(fa,t),Ee(ar,Ma),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ml(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Ml(e,t)}De(ar),Ee(ar,e)}function ni(){De(ar),De(fa),De(ma)}function nm(t){nn(ma.current);var e=nn(ar.current),r=Ml(e,t.type);e!==r&&(Ee(fa,t),Ee(ar,r))}function ac(t){fa.current===t&&(De(ar),De(fa))}var Ne=Wr(0);function Wo(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Gs=[];function oc(){for(var t=0;t<Gs.length;t++)Gs[t]._workInProgressVersionPrimary=null;Gs.length=0}var co=Sr.ReactCurrentDispatcher,Js=Sr.ReactCurrentBatchConfig,cn=0,Re=null,Qe=null,Ke=null,Vo=!1,Qi=!1,pa=0,Mv=0;function at(){throw Error(O(321))}function sc(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!qt(t[r],e[r]))return!1;return!0}function lc(t,e,r,n,i,a){if(cn=a,Re=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,co.current=t===null||t.memoizedState===null?kv:Tv,t=r(n,i),Qi){a=0;do{if(Qi=!1,pa=0,25<=a)throw Error(O(301));a+=1,Ke=Qe=null,e.updateQueue=null,co.current=Ov,t=r(n,i)}while(Qi)}if(co.current=$o,e=Qe!==null&&Qe.next!==null,cn=0,Ke=Qe=Re=null,Vo=!1,e)throw Error(O(300));return t}function uc(){var t=pa!==0;return pa=0,t}function er(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ke===null?Re.memoizedState=Ke=t:Ke=Ke.next=t,Ke}function Wt(){if(Qe===null){var t=Re.alternate;t=t!==null?t.memoizedState:null}else t=Qe.next;var e=Ke===null?Re.memoizedState:Ke.next;if(e!==null)Ke=e,Qe=t;else{if(t===null)throw Error(O(310));Qe=t,t={memoizedState:Qe.memoizedState,baseState:Qe.baseState,baseQueue:Qe.baseQueue,queue:Qe.queue,next:null},Ke===null?Re.memoizedState=Ke=t:Ke=Ke.next=t}return Ke}function ga(t,e){return typeof e=="function"?e(t):e}function Ys(t){var e=Wt(),r=e.queue;if(r===null)throw Error(O(311));r.lastRenderedReducer=t;var n=Qe,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var s=i.next;i.next=a.next,a.next=s}n.baseQueue=i=a,r.pending=null}if(i!==null){a=i.next,n=n.baseState;var c=s=null,u=null,h=a;do{var g=h.lane;if((cn&g)===g)u!==null&&(u=u.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),n=h.hasEagerState?h.eagerState:t(n,h.action);else{var o={lane:g,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};u===null?(c=u=o,s=n):u=u.next=o,Re.lanes|=g,dn|=g}h=h.next}while(h!==null&&h!==a);u===null?s=n:u.next=c,qt(n,e.memoizedState)||(Ct=!0),e.memoizedState=n,e.baseState=s,e.baseQueue=u,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do a=i.lane,Re.lanes|=a,dn|=a,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function Qs(t){var e=Wt(),r=e.queue;if(r===null)throw Error(O(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,a=e.memoizedState;if(i!==null){r.pending=null;var s=i=i.next;do a=t(a,s.action),s=s.next;while(s!==i);qt(a,e.memoizedState)||(Ct=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),r.lastRenderedState=a}return[a,n]}function im(){}function am(t,e){var r=Re,n=Wt(),i=e(),a=!qt(n.memoizedState,i);if(a&&(n.memoizedState=i,Ct=!0),n=n.queue,cc(lm.bind(null,r,n,t),[t]),n.getSnapshot!==e||a||Ke!==null&&Ke.memoizedState.tag&1){if(r.flags|=2048,va(9,sm.bind(null,r,n,i,e),void 0,null),Xe===null)throw Error(O(349));cn&30||om(r,e,i)}return i}function om(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=Re.updateQueue,e===null?(e={lastEffect:null,stores:null},Re.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function sm(t,e,r,n){e.value=r,e.getSnapshot=n,um(e)&&cm(t)}function lm(t,e,r){return r(function(){um(e)&&cm(t)})}function um(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!qt(t,r)}catch{return!0}}function cm(t){var e=yr(t,1);e!==null&&Qt(e,t,1,-1)}function Td(t){var e=er();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ga,lastRenderedState:t},e.queue=t,t=t.dispatch=Dv.bind(null,Re,t),[e.memoizedState,t]}function va(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=Re.updateQueue,e===null?(e={lastEffect:null,stores:null},Re.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function dm(){return Wt().memoizedState}function ho(t,e,r,n){var i=er();Re.flags|=t,i.memoizedState=va(1|e,r,void 0,n===void 0?null:n)}function ls(t,e,r,n){var i=Wt();n=n===void 0?null:n;var a=void 0;if(Qe!==null){var s=Qe.memoizedState;if(a=s.destroy,n!==null&&sc(n,s.deps)){i.memoizedState=va(e,r,a,n);return}}Re.flags|=t,i.memoizedState=va(1|e,r,a,n)}function Od(t,e){return ho(8390656,8,t,e)}function cc(t,e){return ls(2048,8,t,e)}function hm(t,e){return ls(4,2,t,e)}function fm(t,e){return ls(4,4,t,e)}function mm(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function pm(t,e,r){return r=r!=null?r.concat([t]):null,ls(4,4,mm.bind(null,e,t),r)}function dc(){}function gm(t,e){var r=Wt();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&sc(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function vm(t,e){var r=Wt();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&sc(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function ym(t,e,r){return cn&21?(qt(r,e)||(r=bf(),Re.lanes|=r,dn|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ct=!0),t.memoizedState=r)}function Lv(t,e){var r=Se;Se=r!==0&&4>r?r:4,t(!0);var n=Js.transition;Js.transition={};try{t(!1),e()}finally{Se=r,Js.transition=n}}function wm(){return Wt().memoizedState}function Iv(t,e,r){var n=Fr(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Sm(t))Cm(e,r);else if(r=tm(t,e,r,n),r!==null){var i=pt();Qt(r,t,n,i),Am(r,e,n)}}function Dv(t,e,r){var n=Fr(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Sm(t))Cm(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var s=e.lastRenderedState,c=a(s,r);if(i.hasEagerState=!0,i.eagerState=c,qt(c,s)){var u=e.interleaved;u===null?(i.next=i,rc(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}r=tm(t,e,i,n),r!==null&&(i=pt(),Qt(r,t,n,i),Am(r,e,n))}}function Sm(t){var e=t.alternate;return t===Re||e!==null&&e===Re}function Cm(t,e){Qi=Vo=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function Am(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Wu(t,r)}}var $o={readContext:Ut,useCallback:at,useContext:at,useEffect:at,useImperativeHandle:at,useInsertionEffect:at,useLayoutEffect:at,useMemo:at,useReducer:at,useRef:at,useState:at,useDebugValue:at,useDeferredValue:at,useTransition:at,useMutableSource:at,useSyncExternalStore:at,useId:at,unstable_isNewReconciler:!1},kv={readContext:Ut,useCallback:function(t,e){return er().memoizedState=[t,e===void 0?null:e],t},useContext:Ut,useEffect:Od,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,ho(4194308,4,mm.bind(null,e,t),r)},useLayoutEffect:function(t,e){return ho(4194308,4,t,e)},useInsertionEffect:function(t,e){return ho(4,2,t,e)},useMemo:function(t,e){var r=er();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=er();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=Iv.bind(null,Re,t),[n.memoizedState,t]},useRef:function(t){var e=er();return t={current:t},e.memoizedState=t},useState:Td,useDebugValue:dc,useDeferredValue:function(t){return er().memoizedState=t},useTransition:function(){var t=Td(!1),e=t[0];return t=Lv.bind(null,t[1]),er().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=Re,i=er();if(Oe){if(r===void 0)throw Error(O(407));r=r()}else{if(r=e(),Xe===null)throw Error(O(349));cn&30||om(n,e,r)}i.memoizedState=r;var a={value:r,getSnapshot:e};return i.queue=a,Od(lm.bind(null,n,a,t),[t]),n.flags|=2048,va(9,sm.bind(null,n,a,r,e),void 0,null),r},useId:function(){var t=er(),e=Xe.identifierPrefix;if(Oe){var r=hr,n=dr;r=(n&~(1<<32-Yt(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=pa++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=Mv++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Tv={readContext:Ut,useCallback:gm,useContext:Ut,useEffect:cc,useImperativeHandle:pm,useInsertionEffect:hm,useLayoutEffect:fm,useMemo:vm,useReducer:Ys,useRef:dm,useState:function(){return Ys(ga)},useDebugValue:dc,useDeferredValue:function(t){var e=Wt();return ym(e,Qe.memoizedState,t)},useTransition:function(){var t=Ys(ga)[0],e=Wt().memoizedState;return[t,e]},useMutableSource:im,useSyncExternalStore:am,useId:wm,unstable_isNewReconciler:!1},Ov={readContext:Ut,useCallback:gm,useContext:Ut,useEffect:cc,useImperativeHandle:pm,useInsertionEffect:hm,useLayoutEffect:fm,useMemo:vm,useReducer:Qs,useRef:dm,useState:function(){return Qs(ga)},useDebugValue:dc,useDeferredValue:function(t){var e=Wt();return Qe===null?e.memoizedState=t:ym(e,Qe.memoizedState,t)},useTransition:function(){var t=Qs(ga)[0],e=Wt().memoizedState;return[t,e]},useMutableSource:im,useSyncExternalStore:am,useId:wm,unstable_isNewReconciler:!1};function $t(t,e){if(t&&t.defaultProps){e=Fe({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function Yl(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:Fe({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var us={isMounted:function(t){return(t=t._reactInternals)?gn(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=pt(),i=Fr(t),a=mr(n,i);a.payload=e,r!=null&&(a.callback=r),e=Nr(t,a,i),e!==null&&(Qt(e,t,i,n),uo(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=pt(),i=Fr(t),a=mr(n,i);a.tag=1,a.payload=e,r!=null&&(a.callback=r),e=Nr(t,a,i),e!==null&&(Qt(e,t,i,n),uo(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=pt(),n=Fr(t),i=mr(r,n);i.tag=2,e!=null&&(i.callback=e),e=Nr(t,i,n),e!==null&&(Qt(e,t,n,r),uo(e,t,n))}};function Nd(t,e,r,n,i,a,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,a,s):e.prototype&&e.prototype.isPureReactComponent?!ua(r,n)||!ua(i,a):!0}function bm(t,e,r){var n=!1,i=Br,a=e.contextType;return typeof a=="object"&&a!==null?a=Ut(a):(i=bt(e)?ln:ut.current,n=e.contextTypes,a=(n=n!=null)?ei(t,i):Br),e=new e(r,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=us,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function Rd(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&us.enqueueReplaceState(e,e.state,null)}function Ql(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},nc(t);var a=e.contextType;typeof a=="object"&&a!==null?i.context=Ut(a):(a=bt(e)?ln:ut.current,i.context=ei(t,a)),i.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(Yl(t,e,a,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&us.enqueueReplaceState(i,i.state,null),Uo(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function ii(t,e){try{var r="",n=e;do r+=s0(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:i,digest:null}}function qs(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function ql(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var Nv=typeof WeakMap=="function"?WeakMap:Map;function _m(t,e,r){r=mr(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Go||(Go=!0,ou=n),ql(t,e)},r}function Em(t,e,r){r=mr(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){ql(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){ql(t,e),typeof n!="function"&&(Rr===null?Rr=new Set([this]):Rr.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),r}function Fd(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new Nv;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=Yv.bind(null,t,e,r),e.then(t,t))}function Pd(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function jd(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=mr(-1,1),e.tag=2,Nr(r,e,1))),r.lanes|=1),t)}var Rv=Sr.ReactCurrentOwner,Ct=!1;function ft(t,e,r,n){e.child=t===null?em(e,null,r,n):ri(e,t.child,r,n)}function zd(t,e,r,n,i){r=r.render;var a=e.ref;return Zn(e,i),n=lc(t,e,r,n,a,i),r=uc(),t!==null&&!Ct?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,wr(t,e,i)):(Oe&&r&&qu(e),e.flags|=1,ft(t,e,n,i),e.child)}function Bd(t,e,r,n,i){if(t===null){var a=r.type;return typeof a=="function"&&!wc(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=a,xm(t,e,a,n,i)):(t=go(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&i)){var s=a.memoizedProps;if(r=r.compare,r=r!==null?r:ua,r(s,n)&&t.ref===e.ref)return wr(t,e,i)}return e.flags|=1,t=Pr(a,n),t.ref=e.ref,t.return=e,e.child=t}function xm(t,e,r,n,i){if(t!==null){var a=t.memoizedProps;if(ua(a,n)&&t.ref===e.ref)if(Ct=!1,e.pendingProps=n=a,(t.lanes&i)!==0)t.flags&131072&&(Ct=!0);else return e.lanes=t.lanes,wr(t,e,i)}return Zl(t,e,r,n,i)}function Mm(t,e,r){var n=e.pendingProps,i=n.children,a=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ee(Gn,Et),Et|=r;else{if(!(r&1073741824))return t=a!==null?a.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ee(Gn,Et),Et|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,Ee(Gn,Et),Et|=n}else a!==null?(n=a.baseLanes|r,e.memoizedState=null):n=r,Ee(Gn,Et),Et|=n;return ft(t,e,i,r),e.child}function Lm(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function Zl(t,e,r,n,i){var a=bt(r)?ln:ut.current;return a=ei(e,a),Zn(e,i),r=lc(t,e,r,n,a,i),n=uc(),t!==null&&!Ct?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,wr(t,e,i)):(Oe&&n&&qu(e),e.flags|=1,ft(t,e,r,i),e.child)}function Ud(t,e,r,n,i){if(bt(r)){var a=!0;Fo(e)}else a=!1;if(Zn(e,i),e.stateNode===null)fo(t,e),bm(e,r,n),Ql(e,r,n,i),n=!0;else if(t===null){var s=e.stateNode,c=e.memoizedProps;s.props=c;var u=s.context,h=r.contextType;typeof h=="object"&&h!==null?h=Ut(h):(h=bt(r)?ln:ut.current,h=ei(e,h));var g=r.getDerivedStateFromProps,o=typeof g=="function"||typeof s.getSnapshotBeforeUpdate=="function";o||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(c!==n||u!==h)&&Rd(e,s,n,h),_r=!1;var l=e.memoizedState;s.state=l,Uo(e,n,s,i),u=e.memoizedState,c!==n||l!==u||At.current||_r?(typeof g=="function"&&(Yl(e,r,g,n),u=e.memoizedState),(c=_r||Nd(e,r,c,n,l,u,h))?(o||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=u),s.props=n,s.state=u,s.context=h,n=c):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{s=e.stateNode,rm(t,e),c=e.memoizedProps,h=e.type===e.elementType?c:$t(e.type,c),s.props=h,o=e.pendingProps,l=s.context,u=r.contextType,typeof u=="object"&&u!==null?u=Ut(u):(u=bt(r)?ln:ut.current,u=ei(e,u));var d=r.getDerivedStateFromProps;(g=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(c!==o||l!==u)&&Rd(e,s,n,u),_r=!1,l=e.memoizedState,s.state=l,Uo(e,n,s,i);var f=e.memoizedState;c!==o||l!==f||At.current||_r?(typeof d=="function"&&(Yl(e,r,d,n),f=e.memoizedState),(h=_r||Nd(e,r,h,n,l,f,u)||!1)?(g||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,f,u),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,f,u)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||c===t.memoizedProps&&l===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||c===t.memoizedProps&&l===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=f),s.props=n,s.state=f,s.context=u,n=h):(typeof s.componentDidUpdate!="function"||c===t.memoizedProps&&l===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||c===t.memoizedProps&&l===t.memoizedState||(e.flags|=1024),n=!1)}return Kl(t,e,r,n,a,i)}function Kl(t,e,r,n,i,a){Lm(t,e);var s=(e.flags&128)!==0;if(!n&&!s)return i&&xd(e,r,!1),wr(t,e,a);n=e.stateNode,Rv.current=e;var c=s&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&s?(e.child=ri(e,t.child,null,a),e.child=ri(e,null,c,a)):ft(t,e,c,a),e.memoizedState=n.state,i&&xd(e,r,!0),e.child}function Im(t){var e=t.stateNode;e.pendingContext?Ed(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Ed(t,e.context,!1),ic(t,e.containerInfo)}function Wd(t,e,r,n,i){return ti(),Ku(i),e.flags|=256,ft(t,e,r,n),e.child}var Xl={dehydrated:null,treeContext:null,retryLane:0};function eu(t){return{baseLanes:t,cachePool:null,transitions:null}}function Dm(t,e,r){var n=e.pendingProps,i=Ne.current,a=!1,s=(e.flags&128)!==0,c;if((c=s)||(c=t!==null&&t.memoizedState===null?!1:(i&2)!==0),c?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ee(Ne,i&1),t===null)return Gl(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=n.children,t=n.fallback,a?(n=e.mode,a=e.child,s={mode:"hidden",children:s},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=s):a=hs(s,n,0,null),t=sn(t,n,r,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=eu(r),e.memoizedState=Xl,t):hc(e,s));if(i=t.memoizedState,i!==null&&(c=i.dehydrated,c!==null))return Fv(t,e,s,n,c,i,r);if(a){a=n.fallback,s=e.mode,i=t.child,c=i.sibling;var u={mode:"hidden",children:n.children};return!(s&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=u,e.deletions=null):(n=Pr(i,u),n.subtreeFlags=i.subtreeFlags&14680064),c!==null?a=Pr(c,a):(a=sn(a,s,r,null),a.flags|=2),a.return=e,n.return=e,n.sibling=a,e.child=n,n=a,a=e.child,s=t.child.memoizedState,s=s===null?eu(r):{baseLanes:s.baseLanes|r,cachePool:null,transitions:s.transitions},a.memoizedState=s,a.childLanes=t.childLanes&~r,e.memoizedState=Xl,n}return a=t.child,t=a.sibling,n=Pr(a,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function hc(t,e){return e=hs({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function qa(t,e,r,n){return n!==null&&Ku(n),ri(e,t.child,null,r),t=hc(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Fv(t,e,r,n,i,a,s){if(r)return e.flags&256?(e.flags&=-257,n=qs(Error(O(422))),qa(t,e,s,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=n.fallback,i=e.mode,n=hs({mode:"visible",children:n.children},i,0,null),a=sn(a,i,s,null),a.flags|=2,n.return=e,a.return=e,n.sibling=a,e.child=n,e.mode&1&&ri(e,t.child,null,s),e.child.memoizedState=eu(s),e.memoizedState=Xl,a);if(!(e.mode&1))return qa(t,e,s,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var c=n.dgst;return n=c,a=Error(O(419)),n=qs(a,n,void 0),qa(t,e,s,n)}if(c=(s&t.childLanes)!==0,Ct||c){if(n=Xe,n!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|s)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,yr(t,i),Qt(n,t,i,-1))}return yc(),n=qs(Error(O(421))),qa(t,e,s,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=Qv.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,Lt=Or(i.nextSibling),It=e,Oe=!0,Jt=null,t!==null&&(Pt[jt++]=dr,Pt[jt++]=hr,Pt[jt++]=un,dr=t.id,hr=t.overflow,un=e),e=hc(e,n.children),e.flags|=4096,e)}function Vd(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Jl(t.return,e,r)}function Zs(t,e,r,n,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function km(t,e,r){var n=e.pendingProps,i=n.revealOrder,a=n.tail;if(ft(t,e,n.children,r),n=Ne.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Vd(t,r,e);else if(t.tag===19)Vd(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Ee(Ne,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&Wo(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),Zs(e,!1,i,r,a);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Wo(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}Zs(e,!0,r,null,a);break;case"together":Zs(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function fo(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function wr(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),dn|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(O(153));if(e.child!==null){for(t=e.child,r=Pr(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Pr(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function Pv(t,e,r){switch(e.tag){case 3:Im(e),ti();break;case 5:nm(e);break;case 1:bt(e.type)&&Fo(e);break;case 4:ic(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;Ee(zo,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(Ee(Ne,Ne.current&1),e.flags|=128,null):r&e.child.childLanes?Dm(t,e,r):(Ee(Ne,Ne.current&1),t=wr(t,e,r),t!==null?t.sibling:null);Ee(Ne,Ne.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return km(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ee(Ne,Ne.current),n)break;return null;case 22:case 23:return e.lanes=0,Mm(t,e,r)}return wr(t,e,r)}var Tm,tu,Om,Nm;Tm=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};tu=function(){};Om=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,nn(ar.current);var a=null;switch(r){case"input":i=bl(t,i),n=bl(t,n),a=[];break;case"select":i=Fe({},i,{value:void 0}),n=Fe({},n,{value:void 0}),a=[];break;case"textarea":i=xl(t,i),n=xl(t,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=No)}Ll(r,n);var s;r=null;for(h in i)if(!n.hasOwnProperty(h)&&i.hasOwnProperty(h)&&i[h]!=null)if(h==="style"){var c=i[h];for(s in c)c.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(ra.hasOwnProperty(h)?a||(a=[]):(a=a||[]).push(h,null));for(h in n){var u=n[h];if(c=i!=null?i[h]:void 0,n.hasOwnProperty(h)&&u!==c&&(u!=null||c!=null))if(h==="style")if(c){for(s in c)!c.hasOwnProperty(s)||u&&u.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in u)u.hasOwnProperty(s)&&c[s]!==u[s]&&(r||(r={}),r[s]=u[s])}else r||(a||(a=[]),a.push(h,r)),r=u;else h==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,c=c?c.__html:void 0,u!=null&&c!==u&&(a=a||[]).push(h,u)):h==="children"?typeof u!="string"&&typeof u!="number"||(a=a||[]).push(h,""+u):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(ra.hasOwnProperty(h)?(u!=null&&h==="onScroll"&&Me("scroll",t),a||c===u||(a=[])):(a=a||[]).push(h,u))}r&&(a=a||[]).push("style",r);var h=a;(e.updateQueue=h)&&(e.flags|=4)}};Nm=function(t,e,r,n){r!==n&&(e.flags|=4)};function _i(t,e){if(!Oe)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function ot(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function jv(t,e,r){var n=e.pendingProps;switch(Zu(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ot(e),null;case 1:return bt(e.type)&&Ro(),ot(e),null;case 3:return n=e.stateNode,ni(),De(At),De(ut),oc(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Ya(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Jt!==null&&(uu(Jt),Jt=null))),tu(t,e),ot(e),null;case 5:ac(e);var i=nn(ma.current);if(r=e.type,t!==null&&e.stateNode!=null)Om(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(O(166));return ot(e),null}if(t=nn(ar.current),Ya(e)){n=e.stateNode,r=e.type;var a=e.memoizedProps;switch(n[tr]=e,n[ha]=a,t=(e.mode&1)!==0,r){case"dialog":Me("cancel",n),Me("close",n);break;case"iframe":case"object":case"embed":Me("load",n);break;case"video":case"audio":for(i=0;i<Ni.length;i++)Me(Ni[i],n);break;case"source":Me("error",n);break;case"img":case"image":case"link":Me("error",n),Me("load",n);break;case"details":Me("toggle",n);break;case"input":Kc(n,a),Me("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},Me("invalid",n);break;case"textarea":ed(n,a),Me("invalid",n)}Ll(r,a),i=null;for(var s in a)if(a.hasOwnProperty(s)){var c=a[s];s==="children"?typeof c=="string"?n.textContent!==c&&(a.suppressHydrationWarning!==!0&&Ja(n.textContent,c,t),i=["children",c]):typeof c=="number"&&n.textContent!==""+c&&(a.suppressHydrationWarning!==!0&&Ja(n.textContent,c,t),i=["children",""+c]):ra.hasOwnProperty(s)&&c!=null&&s==="onScroll"&&Me("scroll",n)}switch(r){case"input":za(n),Xc(n,a,!0);break;case"textarea":za(n),td(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=No)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=lf(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=s.createElement(r,{is:n.is}):(t=s.createElement(r),r==="select"&&(s=t,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):t=s.createElementNS(t,r),t[tr]=e,t[ha]=n,Tm(t,e,!1,!1),e.stateNode=t;e:{switch(s=Il(r,n),r){case"dialog":Me("cancel",t),Me("close",t),i=n;break;case"iframe":case"object":case"embed":Me("load",t),i=n;break;case"video":case"audio":for(i=0;i<Ni.length;i++)Me(Ni[i],t);i=n;break;case"source":Me("error",t),i=n;break;case"img":case"image":case"link":Me("error",t),Me("load",t),i=n;break;case"details":Me("toggle",t),i=n;break;case"input":Kc(t,n),i=bl(t,n),Me("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=Fe({},n,{value:void 0}),Me("invalid",t);break;case"textarea":ed(t,n),i=xl(t,n),Me("invalid",t);break;default:i=n}Ll(r,i),c=i;for(a in c)if(c.hasOwnProperty(a)){var u=c[a];a==="style"?df(t,u):a==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&uf(t,u)):a==="children"?typeof u=="string"?(r!=="textarea"||u!=="")&&na(t,u):typeof u=="number"&&na(t,""+u):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(ra.hasOwnProperty(a)?u!=null&&a==="onScroll"&&Me("scroll",t):u!=null&&Fu(t,a,u,s))}switch(r){case"input":za(t),Xc(t,n,!1);break;case"textarea":za(t),td(t);break;case"option":n.value!=null&&t.setAttribute("value",""+zr(n.value));break;case"select":t.multiple=!!n.multiple,a=n.value,a!=null?Jn(t,!!n.multiple,a,!1):n.defaultValue!=null&&Jn(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=No)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ot(e),null;case 6:if(t&&e.stateNode!=null)Nm(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(O(166));if(r=nn(ma.current),nn(ar.current),Ya(e)){if(n=e.stateNode,r=e.memoizedProps,n[tr]=e,(a=n.nodeValue!==r)&&(t=It,t!==null))switch(t.tag){case 3:Ja(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ja(n.nodeValue,r,(t.mode&1)!==0)}a&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[tr]=e,e.stateNode=n}return ot(e),null;case 13:if(De(Ne),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Oe&&Lt!==null&&e.mode&1&&!(e.flags&128))Kf(),ti(),e.flags|=98560,a=!1;else if(a=Ya(e),n!==null&&n.dehydrated!==null){if(t===null){if(!a)throw Error(O(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(O(317));a[tr]=e}else ti(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ot(e),a=!1}else Jt!==null&&(uu(Jt),Jt=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||Ne.current&1?qe===0&&(qe=3):yc())),e.updateQueue!==null&&(e.flags|=4),ot(e),null);case 4:return ni(),tu(t,e),t===null&&ca(e.stateNode.containerInfo),ot(e),null;case 10:return tc(e.type._context),ot(e),null;case 17:return bt(e.type)&&Ro(),ot(e),null;case 19:if(De(Ne),a=e.memoizedState,a===null)return ot(e),null;if(n=(e.flags&128)!==0,s=a.rendering,s===null)if(n)_i(a,!1);else{if(qe!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Wo(t),s!==null){for(e.flags|=128,_i(a,!1),n=s.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)a=r,t=n,a.flags&=14680066,s=a.alternate,s===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,t=s.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Ee(Ne,Ne.current&1|2),e.child}t=t.sibling}a.tail!==null&&Ve()>ai&&(e.flags|=128,n=!0,_i(a,!1),e.lanes=4194304)}else{if(!n)if(t=Wo(s),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),_i(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!Oe)return ot(e),null}else 2*Ve()-a.renderingStartTime>ai&&r!==1073741824&&(e.flags|=128,n=!0,_i(a,!1),e.lanes=4194304);a.isBackwards?(s.sibling=e.child,e.child=s):(r=a.last,r!==null?r.sibling=s:e.child=s,a.last=s)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=Ve(),e.sibling=null,r=Ne.current,Ee(Ne,n?r&1|2:r&1),e):(ot(e),null);case 22:case 23:return vc(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Et&1073741824&&(ot(e),e.subtreeFlags&6&&(e.flags|=8192)):ot(e),null;case 24:return null;case 25:return null}throw Error(O(156,e.tag))}function zv(t,e){switch(Zu(e),e.tag){case 1:return bt(e.type)&&Ro(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ni(),De(At),De(ut),oc(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return ac(e),null;case 13:if(De(Ne),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(O(340));ti()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return De(Ne),null;case 4:return ni(),null;case 10:return tc(e.type._context),null;case 22:case 23:return vc(),null;case 24:return null;default:return null}}var Za=!1,lt=!1,Bv=typeof WeakSet=="function"?WeakSet:Set,U=null;function Hn(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Be(t,e,n)}else r.current=null}function ru(t,e,r){try{r()}catch(n){Be(t,e,n)}}var $d=!1;function Uv(t,e){if(zl=ko,t=zf(),Qu(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var s=0,c=-1,u=-1,h=0,g=0,o=t,l=null;t:for(;;){for(var d;o!==r||i!==0&&o.nodeType!==3||(c=s+i),o!==a||n!==0&&o.nodeType!==3||(u=s+n),o.nodeType===3&&(s+=o.nodeValue.length),(d=o.firstChild)!==null;)l=o,o=d;for(;;){if(o===t)break t;if(l===r&&++h===i&&(c=s),l===a&&++g===n&&(u=s),(d=o.nextSibling)!==null)break;o=l,l=o.parentNode}o=d}r=c===-1||u===-1?null:{start:c,end:u}}else r=null}r=r||{start:0,end:0}}else r=null;for(Bl={focusedElem:t,selectionRange:r},ko=!1,U=e;U!==null;)if(e=U,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,U=t;else for(;U!==null;){e=U;try{var f=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(f!==null){var m=f.memoizedProps,y=f.memoizedState,p=e.stateNode,v=p.getSnapshotBeforeUpdate(e.elementType===e.type?m:$t(e.type,m),y);p.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(O(163))}}catch(A){Be(e,e.return,A)}if(t=e.sibling,t!==null){t.return=e.return,U=t;break}U=e.return}return f=$d,$d=!1,f}function qi(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var a=i.destroy;i.destroy=void 0,a!==void 0&&ru(e,r,a)}i=i.next}while(i!==n)}}function cs(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function nu(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function Rm(t){var e=t.alternate;e!==null&&(t.alternate=null,Rm(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[tr],delete e[ha],delete e[Vl],delete e[bv],delete e[_v])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Fm(t){return t.tag===5||t.tag===3||t.tag===4}function Hd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Fm(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function iu(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=No));else if(n!==4&&(t=t.child,t!==null))for(iu(t,e,r),t=t.sibling;t!==null;)iu(t,e,r),t=t.sibling}function au(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(au(t,e,r),t=t.sibling;t!==null;)au(t,e,r),t=t.sibling}var rt=null,Ht=!1;function Cr(t,e,r){for(r=r.child;r!==null;)Pm(t,e,r),r=r.sibling}function Pm(t,e,r){if(ir&&typeof ir.onCommitFiberUnmount=="function")try{ir.onCommitFiberUnmount(rs,r)}catch{}switch(r.tag){case 5:lt||Hn(r,e);case 6:var n=rt,i=Ht;rt=null,Cr(t,e,r),rt=n,Ht=i,rt!==null&&(Ht?(t=rt,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):rt.removeChild(r.stateNode));break;case 18:rt!==null&&(Ht?(t=rt,r=r.stateNode,t.nodeType===8?$s(t.parentNode,r):t.nodeType===1&&$s(t,r),sa(t)):$s(rt,r.stateNode));break;case 4:n=rt,i=Ht,rt=r.stateNode.containerInfo,Ht=!0,Cr(t,e,r),rt=n,Ht=i;break;case 0:case 11:case 14:case 15:if(!lt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,s=a.destroy;a=a.tag,s!==void 0&&(a&2||a&4)&&ru(r,e,s),i=i.next}while(i!==n)}Cr(t,e,r);break;case 1:if(!lt&&(Hn(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(c){Be(r,e,c)}Cr(t,e,r);break;case 21:Cr(t,e,r);break;case 22:r.mode&1?(lt=(n=lt)||r.memoizedState!==null,Cr(t,e,r),lt=n):Cr(t,e,r);break;default:Cr(t,e,r)}}function Gd(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new Bv),e.forEach(function(n){var i=qv.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Vt(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var a=t,s=e,c=s;e:for(;c!==null;){switch(c.tag){case 5:rt=c.stateNode,Ht=!1;break e;case 3:rt=c.stateNode.containerInfo,Ht=!0;break e;case 4:rt=c.stateNode.containerInfo,Ht=!0;break e}c=c.return}if(rt===null)throw Error(O(160));Pm(a,s,i),rt=null,Ht=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(h){Be(i,e,h)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)jm(e,t),e=e.sibling}function jm(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Vt(e,t),Xt(t),n&4){try{qi(3,t,t.return),cs(3,t)}catch(m){Be(t,t.return,m)}try{qi(5,t,t.return)}catch(m){Be(t,t.return,m)}}break;case 1:Vt(e,t),Xt(t),n&512&&r!==null&&Hn(r,r.return);break;case 5:if(Vt(e,t),Xt(t),n&512&&r!==null&&Hn(r,r.return),t.flags&32){var i=t.stateNode;try{na(i,"")}catch(m){Be(t,t.return,m)}}if(n&4&&(i=t.stateNode,i!=null)){var a=t.memoizedProps,s=r!==null?r.memoizedProps:a,c=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{c==="input"&&a.type==="radio"&&a.name!=null&&of(i,a),Il(c,s);var h=Il(c,a);for(s=0;s<u.length;s+=2){var g=u[s],o=u[s+1];g==="style"?df(i,o):g==="dangerouslySetInnerHTML"?uf(i,o):g==="children"?na(i,o):Fu(i,g,o,h)}switch(c){case"input":_l(i,a);break;case"textarea":sf(i,a);break;case"select":var l=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var d=a.value;d!=null?Jn(i,!!a.multiple,d,!1):l!==!!a.multiple&&(a.defaultValue!=null?Jn(i,!!a.multiple,a.defaultValue,!0):Jn(i,!!a.multiple,a.multiple?[]:"",!1))}i[ha]=a}catch(m){Be(t,t.return,m)}}break;case 6:if(Vt(e,t),Xt(t),n&4){if(t.stateNode===null)throw Error(O(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(m){Be(t,t.return,m)}}break;case 3:if(Vt(e,t),Xt(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{sa(e.containerInfo)}catch(m){Be(t,t.return,m)}break;case 4:Vt(e,t),Xt(t);break;case 13:Vt(e,t),Xt(t),i=t.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(pc=Ve())),n&4&&Gd(t);break;case 22:if(g=r!==null&&r.memoizedState!==null,t.mode&1?(lt=(h=lt)||g,Vt(e,t),lt=h):Vt(e,t),Xt(t),n&8192){if(h=t.memoizedState!==null,(t.stateNode.isHidden=h)&&!g&&t.mode&1)for(U=t,g=t.child;g!==null;){for(o=U=g;U!==null;){switch(l=U,d=l.child,l.tag){case 0:case 11:case 14:case 15:qi(4,l,l.return);break;case 1:Hn(l,l.return);var f=l.stateNode;if(typeof f.componentWillUnmount=="function"){n=l,r=l.return;try{e=n,f.props=e.memoizedProps,f.state=e.memoizedState,f.componentWillUnmount()}catch(m){Be(n,r,m)}}break;case 5:Hn(l,l.return);break;case 22:if(l.memoizedState!==null){Yd(o);continue}}d!==null?(d.return=l,U=d):Yd(o)}g=g.sibling}e:for(g=null,o=t;;){if(o.tag===5){if(g===null){g=o;try{i=o.stateNode,h?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(c=o.stateNode,u=o.memoizedProps.style,s=u!=null&&u.hasOwnProperty("display")?u.display:null,c.style.display=cf("display",s))}catch(m){Be(t,t.return,m)}}}else if(o.tag===6){if(g===null)try{o.stateNode.nodeValue=h?"":o.memoizedProps}catch(m){Be(t,t.return,m)}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===t)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===t)break e;for(;o.sibling===null;){if(o.return===null||o.return===t)break e;g===o&&(g=null),o=o.return}g===o&&(g=null),o.sibling.return=o.return,o=o.sibling}}break;case 19:Vt(e,t),Xt(t),n&4&&Gd(t);break;case 21:break;default:Vt(e,t),Xt(t)}}function Xt(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(Fm(r)){var n=r;break e}r=r.return}throw Error(O(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(na(i,""),n.flags&=-33);var a=Hd(t);au(t,a,i);break;case 3:case 4:var s=n.stateNode.containerInfo,c=Hd(t);iu(t,c,s);break;default:throw Error(O(161))}}catch(u){Be(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Wv(t,e,r){U=t,zm(t)}function zm(t,e,r){for(var n=(t.mode&1)!==0;U!==null;){var i=U,a=i.child;if(i.tag===22&&n){var s=i.memoizedState!==null||Za;if(!s){var c=i.alternate,u=c!==null&&c.memoizedState!==null||lt;c=Za;var h=lt;if(Za=s,(lt=u)&&!h)for(U=i;U!==null;)s=U,u=s.child,s.tag===22&&s.memoizedState!==null?Qd(i):u!==null?(u.return=s,U=u):Qd(i);for(;a!==null;)U=a,zm(a),a=a.sibling;U=i,Za=c,lt=h}Jd(t)}else i.subtreeFlags&8772&&a!==null?(a.return=i,U=a):Jd(t)}}function Jd(t){for(;U!==null;){var e=U;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:lt||cs(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!lt)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:$t(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&kd(e,a,n);break;case 3:var s=e.updateQueue;if(s!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}kd(e,s,r)}break;case 5:var c=e.stateNode;if(r===null&&e.flags&4){r=c;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&r.focus();break;case"img":u.src&&(r.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var h=e.alternate;if(h!==null){var g=h.memoizedState;if(g!==null){var o=g.dehydrated;o!==null&&sa(o)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(O(163))}lt||e.flags&512&&nu(e)}catch(l){Be(e,e.return,l)}}if(e===t){U=null;break}if(r=e.sibling,r!==null){r.return=e.return,U=r;break}U=e.return}}function Yd(t){for(;U!==null;){var e=U;if(e===t){U=null;break}var r=e.sibling;if(r!==null){r.return=e.return,U=r;break}U=e.return}}function Qd(t){for(;U!==null;){var e=U;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{cs(4,e)}catch(u){Be(e,r,u)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(u){Be(e,i,u)}}var a=e.return;try{nu(e)}catch(u){Be(e,a,u)}break;case 5:var s=e.return;try{nu(e)}catch(u){Be(e,s,u)}}}catch(u){Be(e,e.return,u)}if(e===t){U=null;break}var c=e.sibling;if(c!==null){c.return=e.return,U=c;break}U=e.return}}var Vv=Math.ceil,Ho=Sr.ReactCurrentDispatcher,fc=Sr.ReactCurrentOwner,Bt=Sr.ReactCurrentBatchConfig,ge=0,Xe=null,He=null,nt=0,Et=0,Gn=Wr(0),qe=0,ya=null,dn=0,ds=0,mc=0,Zi=null,St=null,pc=0,ai=1/0,ur=null,Go=!1,ou=null,Rr=null,Ka=!1,Lr=null,Jo=0,Ki=0,su=null,mo=-1,po=0;function pt(){return ge&6?Ve():mo!==-1?mo:mo=Ve()}function Fr(t){return t.mode&1?ge&2&&nt!==0?nt&-nt:xv.transition!==null?(po===0&&(po=bf()),po):(t=Se,t!==0||(t=window.event,t=t===void 0?16:Df(t.type)),t):1}function Qt(t,e,r,n){if(50<Ki)throw Ki=0,su=null,Error(O(185));_a(t,r,n),(!(ge&2)||t!==Xe)&&(t===Xe&&(!(ge&2)&&(ds|=r),qe===4&&xr(t,nt)),_t(t,n),r===1&&ge===0&&!(e.mode&1)&&(ai=Ve()+500,ss&&Vr()))}function _t(t,e){var r=t.callbackNode;x0(t,e);var n=Do(t,t===Xe?nt:0);if(n===0)r!==null&&id(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&id(r),e===1)t.tag===0?Ev(qd.bind(null,t)):Qf(qd.bind(null,t)),Cv(function(){!(ge&6)&&Vr()}),r=null;else{switch(_f(n)){case 1:r=Uu;break;case 4:r=Cf;break;case 16:r=Io;break;case 536870912:r=Af;break;default:r=Io}r=Jm(r,Bm.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function Bm(t,e){if(mo=-1,po=0,ge&6)throw Error(O(327));var r=t.callbackNode;if(Kn()&&t.callbackNode!==r)return null;var n=Do(t,t===Xe?nt:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Yo(t,n);else{e=n;var i=ge;ge|=2;var a=Wm();(Xe!==t||nt!==e)&&(ur=null,ai=Ve()+500,on(t,e));do try{Gv();break}catch(c){Um(t,c)}while(1);ec(),Ho.current=a,ge=i,He!==null?e=0:(Xe=null,nt=0,e=qe)}if(e!==0){if(e===2&&(i=Nl(t),i!==0&&(n=i,e=lu(t,i))),e===1)throw r=ya,on(t,0),xr(t,n),_t(t,Ve()),r;if(e===6)xr(t,n);else{if(i=t.current.alternate,!(n&30)&&!$v(i)&&(e=Yo(t,n),e===2&&(a=Nl(t),a!==0&&(n=a,e=lu(t,a))),e===1))throw r=ya,on(t,0),xr(t,n),_t(t,Ve()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(O(345));case 2:qr(t,St,ur);break;case 3:if(xr(t,n),(n&130023424)===n&&(e=pc+500-Ve(),10<e)){if(Do(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){pt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Wl(qr.bind(null,t,St,ur),e);break}qr(t,St,ur);break;case 4:if(xr(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var s=31-Yt(n);a=1<<s,s=e[s],s>i&&(i=s),n&=~a}if(n=i,n=Ve()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Vv(n/1960))-n,10<n){t.timeoutHandle=Wl(qr.bind(null,t,St,ur),n);break}qr(t,St,ur);break;case 5:qr(t,St,ur);break;default:throw Error(O(329))}}}return _t(t,Ve()),t.callbackNode===r?Bm.bind(null,t):null}function lu(t,e){var r=Zi;return t.current.memoizedState.isDehydrated&&(on(t,e).flags|=256),t=Yo(t,e),t!==2&&(e=St,St=r,e!==null&&uu(e)),t}function uu(t){St===null?St=t:St.push.apply(St,t)}function $v(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!qt(a(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function xr(t,e){for(e&=~mc,e&=~ds,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Yt(e),n=1<<r;t[r]=-1,e&=~n}}function qd(t){if(ge&6)throw Error(O(327));Kn();var e=Do(t,0);if(!(e&1))return _t(t,Ve()),null;var r=Yo(t,e);if(t.tag!==0&&r===2){var n=Nl(t);n!==0&&(e=n,r=lu(t,n))}if(r===1)throw r=ya,on(t,0),xr(t,e),_t(t,Ve()),r;if(r===6)throw Error(O(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,qr(t,St,ur),_t(t,Ve()),null}function gc(t,e){var r=ge;ge|=1;try{return t(e)}finally{ge=r,ge===0&&(ai=Ve()+500,ss&&Vr())}}function hn(t){Lr!==null&&Lr.tag===0&&!(ge&6)&&Kn();var e=ge;ge|=1;var r=Bt.transition,n=Se;try{if(Bt.transition=null,Se=1,t)return t()}finally{Se=n,Bt.transition=r,ge=e,!(ge&6)&&Vr()}}function vc(){Et=Gn.current,De(Gn)}function on(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,Sv(r)),He!==null)for(r=He.return;r!==null;){var n=r;switch(Zu(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Ro();break;case 3:ni(),De(At),De(ut),oc();break;case 5:ac(n);break;case 4:ni();break;case 13:De(Ne);break;case 19:De(Ne);break;case 10:tc(n.type._context);break;case 22:case 23:vc()}r=r.return}if(Xe=t,He=t=Pr(t.current,null),nt=Et=e,qe=0,ya=null,mc=ds=dn=0,St=Zi=null,rn!==null){for(e=0;e<rn.length;e++)if(r=rn[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,a=r.pending;if(a!==null){var s=a.next;a.next=i,n.next=s}r.pending=n}rn=null}return t}function Um(t,e){do{var r=He;try{if(ec(),co.current=$o,Vo){for(var n=Re.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Vo=!1}if(cn=0,Ke=Qe=Re=null,Qi=!1,pa=0,fc.current=null,r===null||r.return===null){qe=1,ya=e,He=null;break}e:{var a=t,s=r.return,c=r,u=e;if(e=nt,c.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var h=u,g=c,o=g.tag;if(!(g.mode&1)&&(o===0||o===11||o===15)){var l=g.alternate;l?(g.updateQueue=l.updateQueue,g.memoizedState=l.memoizedState,g.lanes=l.lanes):(g.updateQueue=null,g.memoizedState=null)}var d=Pd(s);if(d!==null){d.flags&=-257,jd(d,s,c,a,e),d.mode&1&&Fd(a,h,e),e=d,u=h;var f=e.updateQueue;if(f===null){var m=new Set;m.add(u),e.updateQueue=m}else f.add(u);break e}else{if(!(e&1)){Fd(a,h,e),yc();break e}u=Error(O(426))}}else if(Oe&&c.mode&1){var y=Pd(s);if(y!==null){!(y.flags&65536)&&(y.flags|=256),jd(y,s,c,a,e),Ku(ii(u,c));break e}}a=u=ii(u,c),qe!==4&&(qe=2),Zi===null?Zi=[a]:Zi.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var p=_m(a,u,e);Dd(a,p);break e;case 1:c=u;var v=a.type,w=a.stateNode;if(!(a.flags&128)&&(typeof v.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Rr===null||!Rr.has(w)))){a.flags|=65536,e&=-e,a.lanes|=e;var A=Em(a,c,e);Dd(a,A);break e}}a=a.return}while(a!==null)}$m(r)}catch(M){e=M,He===r&&r!==null&&(He=r=r.return);continue}break}while(1)}function Wm(){var t=Ho.current;return Ho.current=$o,t===null?$o:t}function yc(){(qe===0||qe===3||qe===2)&&(qe=4),Xe===null||!(dn&268435455)&&!(ds&268435455)||xr(Xe,nt)}function Yo(t,e){var r=ge;ge|=2;var n=Wm();(Xe!==t||nt!==e)&&(ur=null,on(t,e));do try{Hv();break}catch(i){Um(t,i)}while(1);if(ec(),ge=r,Ho.current=n,He!==null)throw Error(O(261));return Xe=null,nt=0,qe}function Hv(){for(;He!==null;)Vm(He)}function Gv(){for(;He!==null&&!v0();)Vm(He)}function Vm(t){var e=Gm(t.alternate,t,Et);t.memoizedProps=t.pendingProps,e===null?$m(t):He=e,fc.current=null}function $m(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=zv(r,e),r!==null){r.flags&=32767,He=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{qe=6,He=null;return}}else if(r=jv(r,e,Et),r!==null){He=r;return}if(e=e.sibling,e!==null){He=e;return}He=e=t}while(e!==null);qe===0&&(qe=5)}function qr(t,e,r){var n=Se,i=Bt.transition;try{Bt.transition=null,Se=1,Jv(t,e,r,n)}finally{Bt.transition=i,Se=n}return null}function Jv(t,e,r,n){do Kn();while(Lr!==null);if(ge&6)throw Error(O(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(O(177));t.callbackNode=null,t.callbackPriority=0;var a=r.lanes|r.childLanes;if(M0(t,a),t===Xe&&(He=Xe=null,nt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Ka||(Ka=!0,Jm(Io,function(){return Kn(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=Bt.transition,Bt.transition=null;var s=Se;Se=1;var c=ge;ge|=4,fc.current=null,Uv(t,r),jm(r,t),fv(Bl),ko=!!zl,Bl=zl=null,t.current=r,Wv(r),y0(),ge=c,Se=s,Bt.transition=a}else t.current=r;if(Ka&&(Ka=!1,Lr=t,Jo=i),a=t.pendingLanes,a===0&&(Rr=null),C0(r.stateNode),_t(t,Ve()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Go)throw Go=!1,t=ou,ou=null,t;return Jo&1&&t.tag!==0&&Kn(),a=t.pendingLanes,a&1?t===su?Ki++:(Ki=0,su=t):Ki=0,Vr(),null}function Kn(){if(Lr!==null){var t=_f(Jo),e=Bt.transition,r=Se;try{if(Bt.transition=null,Se=16>t?16:t,Lr===null)var n=!1;else{if(t=Lr,Lr=null,Jo=0,ge&6)throw Error(O(331));var i=ge;for(ge|=4,U=t.current;U!==null;){var a=U,s=a.child;if(U.flags&16){var c=a.deletions;if(c!==null){for(var u=0;u<c.length;u++){var h=c[u];for(U=h;U!==null;){var g=U;switch(g.tag){case 0:case 11:case 15:qi(8,g,a)}var o=g.child;if(o!==null)o.return=g,U=o;else for(;U!==null;){g=U;var l=g.sibling,d=g.return;if(Rm(g),g===h){U=null;break}if(l!==null){l.return=d,U=l;break}U=d}}}var f=a.alternate;if(f!==null){var m=f.child;if(m!==null){f.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(m!==null)}}U=a}}if(a.subtreeFlags&2064&&s!==null)s.return=a,U=s;else e:for(;U!==null;){if(a=U,a.flags&2048)switch(a.tag){case 0:case 11:case 15:qi(9,a,a.return)}var p=a.sibling;if(p!==null){p.return=a.return,U=p;break e}U=a.return}}var v=t.current;for(U=v;U!==null;){s=U;var w=s.child;if(s.subtreeFlags&2064&&w!==null)w.return=s,U=w;else e:for(s=v;U!==null;){if(c=U,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:cs(9,c)}}catch(M){Be(c,c.return,M)}if(c===s){U=null;break e}var A=c.sibling;if(A!==null){A.return=c.return,U=A;break e}U=c.return}}if(ge=i,Vr(),ir&&typeof ir.onPostCommitFiberRoot=="function")try{ir.onPostCommitFiberRoot(rs,t)}catch{}n=!0}return n}finally{Se=r,Bt.transition=e}}return!1}function Zd(t,e,r){e=ii(r,e),e=_m(t,e,1),t=Nr(t,e,1),e=pt(),t!==null&&(_a(t,1,e),_t(t,e))}function Be(t,e,r){if(t.tag===3)Zd(t,t,r);else for(;e!==null;){if(e.tag===3){Zd(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Rr===null||!Rr.has(n))){t=ii(r,t),t=Em(e,t,1),e=Nr(e,t,1),t=pt(),e!==null&&(_a(e,1,t),_t(e,t));break}}e=e.return}}function Yv(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=pt(),t.pingedLanes|=t.suspendedLanes&r,Xe===t&&(nt&r)===r&&(qe===4||qe===3&&(nt&130023424)===nt&&500>Ve()-pc?on(t,0):mc|=r),_t(t,e)}function Hm(t,e){e===0&&(t.mode&1?(e=Wa,Wa<<=1,!(Wa&130023424)&&(Wa=4194304)):e=1);var r=pt();t=yr(t,e),t!==null&&(_a(t,e,r),_t(t,r))}function Qv(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),Hm(t,r)}function qv(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(O(314))}n!==null&&n.delete(e),Hm(t,r)}var Gm;Gm=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||At.current)Ct=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Ct=!1,Pv(t,e,r);Ct=!!(t.flags&131072)}else Ct=!1,Oe&&e.flags&1048576&&qf(e,jo,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;fo(t,e),t=e.pendingProps;var i=ei(e,ut.current);Zn(e,r),i=lc(null,e,n,t,i,r);var a=uc();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,bt(n)?(a=!0,Fo(e)):a=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,nc(e),i.updater=us,e.stateNode=i,i._reactInternals=e,Ql(e,n,t,r),e=Kl(null,e,n,!0,a,r)):(e.tag=0,Oe&&a&&qu(e),ft(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(fo(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=Kv(n),t=$t(n,t),i){case 0:e=Zl(null,e,n,t,r);break e;case 1:e=Ud(null,e,n,t,r);break e;case 11:e=zd(null,e,n,t,r);break e;case 14:e=Bd(null,e,n,$t(n.type,t),r);break e}throw Error(O(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:$t(n,i),Zl(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:$t(n,i),Ud(t,e,n,i,r);case 3:e:{if(Im(e),t===null)throw Error(O(387));n=e.pendingProps,a=e.memoizedState,i=a.element,rm(t,e),Uo(e,n,null,r);var s=e.memoizedState;if(n=s.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){i=ii(Error(O(423)),e),e=Wd(t,e,n,r,i);break e}else if(n!==i){i=ii(Error(O(424)),e),e=Wd(t,e,n,r,i);break e}else for(Lt=Or(e.stateNode.containerInfo.firstChild),It=e,Oe=!0,Jt=null,r=em(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(ti(),n===i){e=wr(t,e,r);break e}ft(t,e,n,r)}e=e.child}return e;case 5:return nm(e),t===null&&Gl(e),n=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,s=i.children,Ul(n,i)?s=null:a!==null&&Ul(n,a)&&(e.flags|=32),Lm(t,e),ft(t,e,s,r),e.child;case 6:return t===null&&Gl(e),null;case 13:return Dm(t,e,r);case 4:return ic(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=ri(e,null,n,r):ft(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:$t(n,i),zd(t,e,n,i,r);case 7:return ft(t,e,e.pendingProps,r),e.child;case 8:return ft(t,e,e.pendingProps.children,r),e.child;case 12:return ft(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,a=e.memoizedProps,s=i.value,Ee(zo,n._currentValue),n._currentValue=s,a!==null)if(qt(a.value,s)){if(a.children===i.children&&!At.current){e=wr(t,e,r);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var c=a.dependencies;if(c!==null){s=a.child;for(var u=c.firstContext;u!==null;){if(u.context===n){if(a.tag===1){u=mr(-1,r&-r),u.tag=2;var h=a.updateQueue;if(h!==null){h=h.shared;var g=h.pending;g===null?u.next=u:(u.next=g.next,g.next=u),h.pending=u}}a.lanes|=r,u=a.alternate,u!==null&&(u.lanes|=r),Jl(a.return,r,e),c.lanes|=r;break}u=u.next}}else if(a.tag===10)s=a.type===e.type?null:a.child;else if(a.tag===18){if(s=a.return,s===null)throw Error(O(341));s.lanes|=r,c=s.alternate,c!==null&&(c.lanes|=r),Jl(s,r,e),s=a.sibling}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===e){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}ft(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,Zn(e,r),i=Ut(i),n=n(i),e.flags|=1,ft(t,e,n,r),e.child;case 14:return n=e.type,i=$t(n,e.pendingProps),i=$t(n.type,i),Bd(t,e,n,i,r);case 15:return xm(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:$t(n,i),fo(t,e),e.tag=1,bt(n)?(t=!0,Fo(e)):t=!1,Zn(e,r),bm(e,n,i),Ql(e,n,i,r),Kl(null,e,n,!0,t,r);case 19:return km(t,e,r);case 22:return Mm(t,e,r)}throw Error(O(156,e.tag))};function Jm(t,e){return Sf(t,e)}function Zv(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zt(t,e,r,n){return new Zv(t,e,r,n)}function wc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Kv(t){if(typeof t=="function")return wc(t)?1:0;if(t!=null){if(t=t.$$typeof,t===ju)return 11;if(t===zu)return 14}return 2}function Pr(t,e){var r=t.alternate;return r===null?(r=zt(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function go(t,e,r,n,i,a){var s=2;if(n=t,typeof t=="function")wc(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Fn:return sn(r.children,i,a,e);case Pu:s=8,i|=8;break;case wl:return t=zt(12,r,e,i|2),t.elementType=wl,t.lanes=a,t;case Sl:return t=zt(13,r,e,i),t.elementType=Sl,t.lanes=a,t;case Cl:return t=zt(19,r,e,i),t.elementType=Cl,t.lanes=a,t;case rf:return hs(r,i,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ef:s=10;break e;case tf:s=9;break e;case ju:s=11;break e;case zu:s=14;break e;case br:s=16,n=null;break e}throw Error(O(130,t==null?t:typeof t,""))}return e=zt(s,r,e,i),e.elementType=t,e.type=n,e.lanes=a,e}function sn(t,e,r,n){return t=zt(7,t,n,e),t.lanes=r,t}function hs(t,e,r,n){return t=zt(22,t,n,e),t.elementType=rf,t.lanes=r,t.stateNode={isHidden:!1},t}function Ks(t,e,r){return t=zt(6,t,null,e),t.lanes=r,t}function Xs(t,e,r){return e=zt(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Xv(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Os(0),this.expirationTimes=Os(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Os(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Sc(t,e,r,n,i,a,s,c,u){return t=new Xv(t,e,r,c,u),e===1?(e=1,a===!0&&(e|=8)):e=0,a=zt(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},nc(a),t}function e1(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Rn,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function Ym(t){if(!t)return Br;t=t._reactInternals;e:{if(gn(t)!==t||t.tag!==1)throw Error(O(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(bt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(O(171))}if(t.tag===1){var r=t.type;if(bt(r))return Yf(t,r,e)}return e}function Qm(t,e,r,n,i,a,s,c,u){return t=Sc(r,n,!0,t,i,a,s,c,u),t.context=Ym(null),r=t.current,n=pt(),i=Fr(r),a=mr(n,i),a.callback=e??null,Nr(r,a,i),t.current.lanes=i,_a(t,i,n),_t(t,n),t}function fs(t,e,r,n){var i=e.current,a=pt(),s=Fr(i);return r=Ym(r),e.context===null?e.context=r:e.pendingContext=r,e=mr(a,s),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Nr(i,e,s),t!==null&&(Qt(t,i,s,a),uo(t,i,s)),s}function Qo(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Kd(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function Cc(t,e){Kd(t,e),(t=t.alternate)&&Kd(t,e)}function t1(){return null}var qm=typeof reportError=="function"?reportError:function(t){console.error(t)};function Ac(t){this._internalRoot=t}ms.prototype.render=Ac.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(O(409));fs(t,e,null,null)};ms.prototype.unmount=Ac.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;hn(function(){fs(null,t,null,null)}),e[vr]=null}};function ms(t){this._internalRoot=t}ms.prototype.unstable_scheduleHydration=function(t){if(t){var e=Mf();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Er.length&&e!==0&&e<Er[r].priority;r++);Er.splice(r,0,t),r===0&&If(t)}};function bc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ps(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Xd(){}function r1(t,e,r,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var h=Qo(s);a.call(h)}}var s=Qm(e,n,t,0,null,!1,!1,"",Xd);return t._reactRootContainer=s,t[vr]=s.current,ca(t.nodeType===8?t.parentNode:t),hn(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var c=n;n=function(){var h=Qo(u);c.call(h)}}var u=Sc(t,0,!1,null,null,!1,!1,"",Xd);return t._reactRootContainer=u,t[vr]=u.current,ca(t.nodeType===8?t.parentNode:t),hn(function(){fs(e,u,r,n)}),u}function gs(t,e,r,n,i){var a=r._reactRootContainer;if(a){var s=a;if(typeof i=="function"){var c=i;i=function(){var u=Qo(s);c.call(u)}}fs(e,s,t,i)}else s=r1(r,e,t,i,n);return Qo(s)}Ef=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Oi(e.pendingLanes);r!==0&&(Wu(e,r|1),_t(e,Ve()),!(ge&6)&&(ai=Ve()+500,Vr()))}break;case 13:hn(function(){var n=yr(t,1);if(n!==null){var i=pt();Qt(n,t,1,i)}}),Cc(t,1)}};Vu=function(t){if(t.tag===13){var e=yr(t,134217728);if(e!==null){var r=pt();Qt(e,t,134217728,r)}Cc(t,134217728)}};xf=function(t){if(t.tag===13){var e=Fr(t),r=yr(t,e);if(r!==null){var n=pt();Qt(r,t,e,n)}Cc(t,e)}};Mf=function(){return Se};Lf=function(t,e){var r=Se;try{return Se=t,e()}finally{Se=r}};kl=function(t,e,r){switch(e){case"input":if(_l(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=os(n);if(!i)throw Error(O(90));af(n),_l(n,i)}}}break;case"textarea":sf(t,r);break;case"select":e=r.value,e!=null&&Jn(t,!!r.multiple,e,!1)}};mf=gc;pf=hn;var n1={usingClientEntryPoint:!1,Events:[xa,Bn,os,hf,ff,gc]},Ei={findFiberByHostInstance:tn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},i1={bundleType:Ei.bundleType,version:Ei.version,rendererPackageName:Ei.rendererPackageName,rendererConfig:Ei.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Sr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=yf(t),t===null?null:t.stateNode},findFiberByHostInstance:Ei.findFiberByHostInstance||t1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xa.isDisabled&&Xa.supportsFiber)try{rs=Xa.inject(i1),ir=Xa}catch{}}kt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=n1;kt.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!bc(e))throw Error(O(200));return e1(t,e,null,r)};kt.createRoot=function(t,e){if(!bc(t))throw Error(O(299));var r=!1,n="",i=qm;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Sc(t,1,!1,null,null,r,!1,n,i),t[vr]=e.current,ca(t.nodeType===8?t.parentNode:t),new Ac(e)};kt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(O(188)):(t=Object.keys(t).join(","),Error(O(268,t)));return t=yf(e),t=t===null?null:t.stateNode,t};kt.flushSync=function(t){return hn(t)};kt.hydrate=function(t,e,r){if(!ps(e))throw Error(O(200));return gs(null,t,e,!0,r)};kt.hydrateRoot=function(t,e,r){if(!bc(t))throw Error(O(405));var n=r!=null&&r.hydratedSources||null,i=!1,a="",s=qm;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),e=Qm(e,null,t,1,r??null,i,!1,a,s),t[vr]=e.current,ca(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new ms(e)};kt.render=function(t,e,r){if(!ps(e))throw Error(O(200));return gs(null,t,e,!1,r)};kt.unmountComponentAtNode=function(t){if(!ps(t))throw Error(O(40));return t._reactRootContainer?(hn(function(){gs(null,null,t,!1,function(){t._reactRootContainer=null,t[vr]=null})}),!0):!1};kt.unstable_batchedUpdates=gc;kt.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!ps(r))throw Error(O(200));if(t==null||t._reactInternals===void 0)throw Error(O(38));return gs(t,e,r,!1,n)};kt.version="18.3.1-next-f1338f8080-20240426";function Zm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Zm)}catch(t){console.error(t)}}Zm(),qh.exports=kt;var _c=qh.exports;const a1=jh(_c),o1=Ph({__proto__:null,default:a1},[_c]);var eh=_c;vl.createRoot=eh.createRoot,vl.hydrateRoot=eh.hydrateRoot;/**
 * @remix-run/router v1.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Te(){return Te=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Te.apply(this,arguments)}var Ue;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ue||(Ue={}));const th="popstate";function s1(t){t===void 0&&(t={});function e(i,a){let{pathname:s="/",search:c="",hash:u=""}=or(i.location.hash.substr(1));return!s.startsWith("/")&&!s.startsWith(".")&&(s="/"+s),wa("",{pathname:s,search:c,hash:u},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(i,a){let s=i.document.querySelector("base"),c="";if(s&&s.getAttribute("href")){let u=i.location.href,h=u.indexOf("#");c=h===-1?u:u.slice(0,h)}return c+"#"+(typeof a=="string"?a:mn(a))}function n(i,a){fn(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(a)+")")}return u1(e,r,n,t)}function le(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function fn(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function l1(){return Math.random().toString(36).substr(2,8)}function rh(t,e){return{usr:t.state,key:t.key,idx:e}}function wa(t,e,r,n){return r===void 0&&(r=null),Te({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?or(e):e,{state:r,key:e&&e.key||n||l1()})}function mn(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function or(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function u1(t,e,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:a=!1}=n,s=i.history,c=Ue.Pop,u=null,h=g();h==null&&(h=0,s.replaceState(Te({},s.state,{idx:h}),""));function g(){return(s.state||{idx:null}).idx}function o(){c=Ue.Pop;let y=g(),p=y==null?null:y-h;h=y,u&&u({action:c,location:m.location,delta:p})}function l(y,p){c=Ue.Push;let v=wa(m.location,y,p);r&&r(v,y),h=g()+1;let w=rh(v,h),A=m.createHref(v);try{s.pushState(w,"",A)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;i.location.assign(A)}a&&u&&u({action:c,location:m.location,delta:1})}function d(y,p){c=Ue.Replace;let v=wa(m.location,y,p);r&&r(v,y),h=g();let w=rh(v,h),A=m.createHref(v);s.replaceState(w,"",A),a&&u&&u({action:c,location:m.location,delta:0})}function f(y){let p=i.location.origin!=="null"?i.location.origin:i.location.href,v=typeof y=="string"?y:mn(y);return v=v.replace(/ $/,"%20"),le(p,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,p)}let m={get action(){return c},get location(){return t(i,s)},listen(y){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(th,o),u=y,()=>{i.removeEventListener(th,o),u=null}},createHref(y){return e(i,y)},createURL:f,encodeLocation(y){let p=f(y);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:l,replace:d,go(y){return s.go(y)}};return m}var Ae;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Ae||(Ae={}));const c1=new Set(["lazy","caseSensitive","path","id","index","children"]);function d1(t){return t.index===!0}function qo(t,e,r,n){return r===void 0&&(r=[]),n===void 0&&(n={}),t.map((i,a)=>{let s=[...r,String(a)],c=typeof i.id=="string"?i.id:s.join("-");if(le(i.index!==!0||!i.children,"Cannot specify children on an index route"),le(!n[c],'Found a route id collision on id "'+c+`".  Route id's must be globally unique within Data Router usages`),d1(i)){let u=Te({},i,e(i),{id:c});return n[c]=u,u}else{let u=Te({},i,e(i),{id:c,children:void 0});return n[c]=u,i.children&&(u.children=qo(i.children,e,s,n)),u}})}function Xr(t,e,r){return r===void 0&&(r="/"),vo(t,e,r,!1)}function vo(t,e,r,n){let i=typeof e=="string"?or(e):e,a=ci(i.pathname||"/",r);if(a==null)return null;let s=Km(t);f1(s);let c=null;for(let u=0;c==null&&u<s.length;++u){let h=_1(a);c=A1(s[u],h,n)}return c}function h1(t,e){let{route:r,pathname:n,params:i}=t;return{id:r.id,pathname:n,params:i,data:e[r.id],handle:r.handle}}function Km(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(a,s,c)=>{let u={relativePath:c===void 0?a.path||"":c,caseSensitive:a.caseSensitive===!0,childrenIndex:s,route:a};u.relativePath.startsWith("/")&&(le(u.relativePath.startsWith(n),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(n.length));let h=pr([n,u.relativePath]),g=r.concat(u);a.children&&a.children.length>0&&(le(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),Km(a.children,e,g,h)),!(a.path==null&&!a.index)&&e.push({path:h,score:S1(h,a.index),routesMeta:g})};return t.forEach((a,s)=>{var c;if(a.path===""||!((c=a.path)!=null&&c.includes("?")))i(a,s);else for(let u of Xm(a.path))i(a,s,u)}),e}function Xm(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let s=Xm(n.join("/")),c=[];return c.push(...s.map(u=>u===""?a:[a,u].join("/"))),i&&c.push(...s),c.map(u=>t.startsWith("/")&&u===""?"/":u)}function f1(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:C1(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const m1=/^:[\w-]+$/,p1=3,g1=2,v1=1,y1=10,w1=-2,nh=t=>t==="*";function S1(t,e){let r=t.split("/"),n=r.length;return r.some(nh)&&(n+=w1),e&&(n+=g1),r.filter(i=>!nh(i)).reduce((i,a)=>i+(m1.test(a)?p1:a===""?v1:y1),n)}function C1(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function A1(t,e,r){r===void 0&&(r=!1);let{routesMeta:n}=t,i={},a="/",s=[];for(let c=0;c<n.length;++c){let u=n[c],h=c===n.length-1,g=a==="/"?e:e.slice(a.length)||"/",o=ih({path:u.relativePath,caseSensitive:u.caseSensitive,end:h},g),l=u.route;if(!o&&h&&r&&!n[n.length-1].route.index&&(o=ih({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},g)),!o)return null;Object.assign(i,o.params),s.push({params:i,pathname:pr([a,o.pathname]),pathnameBase:M1(pr([a,o.pathnameBase])),route:l}),o.pathnameBase!=="/"&&(a=pr([a,o.pathnameBase]))}return s}function ih(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=b1(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:n.reduce((h,g,o)=>{let{paramName:l,isOptional:d}=g;if(l==="*"){let m=c[o]||"";s=a.slice(0,a.length-m.length).replace(/(.)\/+$/,"$1")}const f=c[o];return d&&!f?h[l]=void 0:h[l]=(f||"").replace(/%2F/g,"/"),h},{}),pathname:a,pathnameBase:s,pattern:t}}function b1(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),fn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,c,u)=>(n.push({paramName:c,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function _1(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return fn(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function ci(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function E1(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?or(t):t;return{pathname:r?r.startsWith("/")?r:x1(r,e):e,search:L1(n),hash:I1(i)}}function x1(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function el(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function ep(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function Ec(t,e){let r=ep(t);return e?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function xc(t,e,r,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=or(t):(i=Te({},t),le(!i.pathname||!i.pathname.includes("?"),el("?","pathname","search",i)),le(!i.pathname||!i.pathname.includes("#"),el("#","pathname","hash",i)),le(!i.search||!i.search.includes("#"),el("#","search","hash",i)));let a=t===""||i.pathname==="",s=a?"/":i.pathname,c;if(s==null)c=r;else{let o=e.length-1;if(!n&&s.startsWith("..")){let l=s.split("/");for(;l[0]==="..";)l.shift(),o-=1;i.pathname=l.join("/")}c=o>=0?e[o]:"/"}let u=E1(i,c),h=s&&s!=="/"&&s.endsWith("/"),g=(a||s===".")&&r.endsWith("/");return!u.pathname.endsWith("/")&&(h||g)&&(u.pathname+="/"),u}const pr=t=>t.join("/").replace(/\/\/+/g,"/"),M1=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),L1=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,I1=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class Zo{constructor(e,r,n,i){i===void 0&&(i=!1),this.status=e,this.statusText=r||"",this.internal=i,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}}function vs(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const tp=["post","put","patch","delete"],D1=new Set(tp),k1=["get",...tp],T1=new Set(k1),O1=new Set([301,302,303,307,308]),N1=new Set([307,308]),tl={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},R1={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},xi={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Mc=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,F1=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),rp="remix-router-transitions";function P1(t){const e=t.window?t.window:typeof window<"u"?window:void 0,r=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",n=!r;le(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let S=t.detectErrorBoundary;i=b=>({hasErrorBoundary:S(b)})}else i=F1;let a={},s=qo(t.routes,i,void 0,a),c,u=t.basename||"/",h=t.dataStrategy||U1,g=t.patchRoutesOnNavigation,o=Te({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},t.future),l=null,d=new Set,f=null,m=null,y=null,p=t.hydrationData!=null,v=Xr(s,t.history.location,u),w=null;if(v==null&&!g){let S=wt(404,{pathname:t.history.location.pathname}),{matches:b,route:E}=ph(s);v=b,w={[E.id]:S}}v&&!t.hydrationData&&Oa(v,s,t.history.location.pathname).active&&(v=null);let A;if(v)if(v.some(S=>S.route.lazy))A=!1;else if(!v.some(S=>S.route.loader))A=!0;else if(o.v7_partialHydration){let S=t.hydrationData?t.hydrationData.loaderData:null,b=t.hydrationData?t.hydrationData.errors:null;if(b){let E=v.findIndex(T=>b[T.route.id]!==void 0);A=v.slice(0,E+1).every(T=>!du(T.route,S,b))}else A=v.every(E=>!du(E.route,S,b))}else A=t.hydrationData!=null;else if(A=!1,v=[],o.v7_partialHydration){let S=Oa(null,s,t.history.location.pathname);S.active&&S.matches&&(v=S.matches)}let M,C={historyAction:t.history.action,location:t.history.location,matches:v,initialized:A,navigation:tl,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||w,fetchers:new Map,blockers:new Map},N=Ue.Pop,D=!1,x,I=!1,F=new Map,te=null,ae=!1,ne=!1,Ge=[],ct=new Set,Ce=new Map,j=0,Z=-1,X=new Map,se=new Set,fe=new Map,et=new Map,k=new Set,P=new Map,R=new Map,J;function G(){if(l=t.history.listen(S=>{let{action:b,location:E,delta:T}=S;if(J){J(),J=void 0;return}fn(R.size===0||T!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let W=Wc({currentLocation:C.location,nextLocation:E,historyAction:b});if(W&&T!=null){let Y=new Promise(re=>{J=re});t.history.go(T*-1),Ta(W,{state:"blocked",location:E,proceed(){Ta(W,{state:"proceeding",proceed:void 0,reset:void 0,location:E}),Y.then(()=>t.history.go(T))},reset(){let re=new Map(C.blockers);re.set(W,xi),ce({blockers:re})}});return}return sr(b,E)}),r){ty(e,F);let S=()=>ry(e,F);e.addEventListener("pagehide",S),te=()=>e.removeEventListener("pagehide",S)}return C.initialized||sr(Ue.Pop,C.location,{initialHydration:!0}),M}function K(){l&&l(),te&&te(),d.clear(),x&&x.abort(),C.fetchers.forEach((S,b)=>ht(b)),C.blockers.forEach((S,b)=>Uc(b))}function xe(S){return d.add(S),()=>d.delete(S)}function ce(S,b){b===void 0&&(b={}),C=Te({},C,S);let E=[],T=[];o.v7_fetcherPersist&&C.fetchers.forEach((W,Y)=>{W.state==="idle"&&(k.has(Y)?T.push(Y):E.push(Y))}),[...d].forEach(W=>W(C,{deletedFetchers:T,viewTransitionOpts:b.viewTransitionOpts,flushSync:b.flushSync===!0})),o.v7_fetcherPersist&&(E.forEach(W=>C.fetchers.delete(W)),T.forEach(W=>ht(W)))}function Ze(S,b,E){var T,W;let{flushSync:Y}=E===void 0?{}:E,re=C.actionData!=null&&C.navigation.formMethod!=null&&Gt(C.navigation.formMethod)&&C.navigation.state==="loading"&&((T=S.state)==null?void 0:T._isRedirect)!==!0,$;b.actionData?Object.keys(b.actionData).length>0?$=b.actionData:$=null:re?$=C.actionData:$=null;let H=b.loaderData?fh(C.loaderData,b.loaderData,b.matches||[],b.errors):C.loaderData,V=C.blockers;V.size>0&&(V=new Map(V),V.forEach((pe,tt)=>V.set(tt,xi)));let Q=D===!0||C.navigation.formMethod!=null&&Gt(C.navigation.formMethod)&&((W=S.state)==null?void 0:W._isRedirect)!==!0;c&&(s=c,c=void 0),ae||N===Ue.Pop||(N===Ue.Push?t.history.push(S,S.state):N===Ue.Replace&&t.history.replace(S,S.state));let he;if(N===Ue.Pop){let pe=F.get(C.location.pathname);pe&&pe.has(S.pathname)?he={currentLocation:C.location,nextLocation:S}:F.has(S.pathname)&&(he={currentLocation:S,nextLocation:C.location})}else if(I){let pe=F.get(C.location.pathname);pe?pe.add(S.pathname):(pe=new Set([S.pathname]),F.set(C.location.pathname,pe)),he={currentLocation:C.location,nextLocation:S}}ce(Te({},b,{actionData:$,loaderData:H,historyAction:N,location:S,initialized:!0,navigation:tl,revalidation:"idle",restoreScrollPosition:$c(S,b.matches||C.matches),preventScrollReset:Q,blockers:V}),{viewTransitionOpts:he,flushSync:Y===!0}),N=Ue.Pop,D=!1,I=!1,ae=!1,ne=!1,Ge=[]}async function hi(S,b){if(typeof S=="number"){t.history.go(S);return}let E=cu(C.location,C.matches,u,o.v7_prependBasename,S,o.v7_relativeSplatPath,b==null?void 0:b.fromRouteId,b==null?void 0:b.relative),{path:T,submission:W,error:Y}=ah(o.v7_normalizeFormMethod,!1,E,b),re=C.location,$=wa(C.location,T,b&&b.state);$=Te({},$,t.history.encodeLocation($));let H=b&&b.replace!=null?b.replace:void 0,V=Ue.Push;H===!0?V=Ue.Replace:H===!1||W!=null&&Gt(W.formMethod)&&W.formAction===C.location.pathname+C.location.search&&(V=Ue.Replace);let Q=b&&"preventScrollReset"in b?b.preventScrollReset===!0:void 0,he=(b&&b.flushSync)===!0,pe=Wc({currentLocation:re,nextLocation:$,historyAction:V});if(pe){Ta(pe,{state:"blocked",location:$,proceed(){Ta(pe,{state:"proceeding",proceed:void 0,reset:void 0,location:$}),hi(S,b)},reset(){let tt=new Map(C.blockers);tt.set(pe,xi),ce({blockers:tt})}});return}return await sr(V,$,{submission:W,pendingError:Y,preventScrollReset:Q,replace:b&&b.replace,enableViewTransition:b&&b.viewTransition,flushSync:he})}function Gr(){if(me(),ce({revalidation:"loading"}),C.navigation.state!=="submitting"){if(C.navigation.state==="idle"){sr(C.historyAction,C.location,{startUninterruptedRevalidation:!0});return}sr(N||C.historyAction,C.navigation.location,{overrideNavigation:C.navigation,enableViewTransition:I===!0})}}async function sr(S,b,E){x&&x.abort(),x=null,N=S,ae=(E&&E.startUninterruptedRevalidation)===!0,Mg(C.location,C.matches),D=(E&&E.preventScrollReset)===!0,I=(E&&E.enableViewTransition)===!0;let T=c||s,W=E&&E.overrideNavigation,Y=Xr(T,b,u),re=(E&&E.flushSync)===!0,$=Oa(Y,T,b.pathname);if($.active&&$.matches&&(Y=$.matches),!Y){let{error:be,notFoundMatches:we,route:Pe}=Es(b.pathname);Ze(b,{matches:we,loaderData:{},errors:{[Pe.id]:be}},{flushSync:re});return}if(C.initialized&&!ne&&J1(C.location,b)&&!(E&&E.submission&&Gt(E.submission.formMethod))){Ze(b,{matches:Y},{flushSync:re});return}x=new AbortController;let H=En(t.history,b,x.signal,E&&E.submission),V;if(E&&E.pendingError)V=[en(Y).route.id,{type:Ae.error,error:E.pendingError}];else if(E&&E.submission&&Gt(E.submission.formMethod)){let be=await fi(H,b,E.submission,Y,$.active,{replace:E.replace,flushSync:re});if(be.shortCircuited)return;if(be.pendingActionResult){let[we,Pe]=be.pendingActionResult;if(xt(Pe)&&vs(Pe.error)&&Pe.error.status===404){x=null,Ze(b,{matches:be.matches,loaderData:{},errors:{[we]:Pe.error}});return}}Y=be.matches||Y,V=be.pendingActionResult,W=rl(b,E.submission),re=!1,$.active=!1,H=En(t.history,H.url,H.signal)}let{shortCircuited:Q,matches:he,loaderData:pe,errors:tt}=await Jr(H,b,Y,$.active,W,E&&E.submission,E&&E.fetcherSubmission,E&&E.replace,E&&E.initialHydration===!0,re,V);Q||(x=null,Ze(b,Te({matches:he||Y},mh(V),{loaderData:pe,errors:tt})))}async function fi(S,b,E,T,W,Y){Y===void 0&&(Y={}),me();let re=X1(b,E);if(ce({navigation:re},{flushSync:Y.flushSync===!0}),W){let V=await Na(T,b.pathname,S.signal);if(V.type==="aborted")return{shortCircuited:!0};if(V.type==="error"){let Q=en(V.partialMatches).route.id;return{matches:V.partialMatches,pendingActionResult:[Q,{type:Ae.error,error:V.error}]}}else if(V.matches)T=V.matches;else{let{notFoundMatches:Q,error:he,route:pe}=Es(b.pathname);return{matches:Q,pendingActionResult:[pe.id,{type:Ae.error,error:he}]}}}let $,H=Ri(T,b);if(!H.route.action&&!H.route.lazy)$={type:Ae.error,error:wt(405,{method:S.method,pathname:b.pathname,routeId:H.route.id})};else if($=(await Zt("action",C,S,[H],T,null))[H.route.id],S.signal.aborted)return{shortCircuited:!0};if(an($)){let V;return Y&&Y.replace!=null?V=Y.replace:V=ch($.response.headers.get("Location"),new URL(S.url),u)===C.location.pathname+C.location.search,await yt(S,$,!0,{submission:E,replace:V}),{shortCircuited:!0}}if(Ir($))throw wt(400,{type:"defer-action"});if(xt($)){let V=en(T,H.route.id);return(Y&&Y.replace)!==!0&&(N=Ue.Push),{matches:T,pendingActionResult:[V.route.id,$]}}return{matches:T,pendingActionResult:[H.route.id,$]}}async function Jr(S,b,E,T,W,Y,re,$,H,V,Q){let he=W||rl(b,Y),pe=Y||re||vh(he),tt=!ae&&(!o.v7_partialHydration||!H);if(T){if(tt){let je=wn(Q);ce(Te({navigation:he},je!==void 0?{actionData:je}:{}),{flushSync:V})}let ye=await Na(E,b.pathname,S.signal);if(ye.type==="aborted")return{shortCircuited:!0};if(ye.type==="error"){let je=en(ye.partialMatches).route.id;return{matches:ye.partialMatches,loaderData:{},errors:{[je]:ye.error}}}else if(ye.matches)E=ye.matches;else{let{error:je,notFoundMatches:An,route:vi}=Es(b.pathname);return{matches:An,loaderData:{},errors:{[vi.id]:je}}}}let be=c||s,[we,Pe]=sh(t.history,C,E,pe,b,o.v7_partialHydration&&H===!0,o.v7_skipActionErrorRevalidation,ne,Ge,ct,k,fe,se,be,u,Q);if(xs(ye=>!(E&&E.some(je=>je.route.id===ye))||we&&we.some(je=>je.route.id===ye)),Z=++j,we.length===0&&Pe.length===0){let ye=Sn();return Ze(b,Te({matches:E,loaderData:{},errors:Q&&xt(Q[1])?{[Q[0]]:Q[1].error}:null},mh(Q),ye?{fetchers:new Map(C.fetchers)}:{}),{flushSync:V}),{shortCircuited:!0}}if(tt){let ye={};if(!T){ye.navigation=he;let je=wn(Q);je!==void 0&&(ye.actionData=je)}Pe.length>0&&(ye.fetchers=_s(Pe)),ce(ye,{flushSync:V})}Pe.forEach(ye=>{q(ye.key),ye.controller&&Ce.set(ye.key,ye.controller)});let Cn=()=>Pe.forEach(ye=>q(ye.key));x&&x.signal.addEventListener("abort",Cn);let{loaderResults:pi,fetcherResults:lr}=await oe(C,E,we,Pe,S);if(S.signal.aborted)return{shortCircuited:!0};x&&x.signal.removeEventListener("abort",Cn),Pe.forEach(ye=>Ce.delete(ye.key));let Kt=eo(pi);if(Kt)return await yt(S,Kt.result,!0,{replace:$}),{shortCircuited:!0};if(Kt=eo(lr),Kt)return se.add(Kt.key),await yt(S,Kt.result,!0,{replace:$}),{shortCircuited:!0};let{loaderData:Ms,errors:gi}=hh(C,E,pi,Q,Pe,lr,P);P.forEach((ye,je)=>{ye.subscribe(An=>{(An||ye.done)&&P.delete(je)})}),o.v7_partialHydration&&H&&C.errors&&(gi=Te({},C.errors,gi));let Yr=Sn(),Ra=mi(Z),Fa=Yr||Ra||Pe.length>0;return Te({matches:E,loaderData:Ms,errors:gi},Fa?{fetchers:new Map(C.fetchers)}:{})}function wn(S){if(S&&!xt(S[1]))return{[S[0]]:S[1].data};if(C.actionData)return Object.keys(C.actionData).length===0?null:C.actionData}function _s(S){return S.forEach(b=>{let E=C.fetchers.get(b.key),T=Mi(void 0,E?E.data:void 0);C.fetchers.set(b.key,T)}),new Map(C.fetchers)}function Da(S,b,E,T){if(n)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");q(S);let W=(T&&T.flushSync)===!0,Y=c||s,re=cu(C.location,C.matches,u,o.v7_prependBasename,E,o.v7_relativeSplatPath,b,T==null?void 0:T.relative),$=Xr(Y,re,u),H=Oa($,Y,re);if(H.active&&H.matches&&($=H.matches),!$){de(S,b,wt(404,{pathname:re}),{flushSync:W});return}let{path:V,submission:Q,error:he}=ah(o.v7_normalizeFormMethod,!0,re,T);if(he){de(S,b,he,{flushSync:W});return}let pe=Ri($,V),tt=(T&&T.preventScrollReset)===!0;if(Q&&Gt(Q.formMethod)){ka(S,b,V,pe,$,H.active,W,tt,Q);return}fe.set(S,{routeId:b,path:V}),dt(S,b,V,pe,$,H.active,W,tt,Q)}async function ka(S,b,E,T,W,Y,re,$,H){me(),fe.delete(S);function V($e){if(!$e.route.action&&!$e.route.lazy){let bn=wt(405,{method:H.formMethod,pathname:E,routeId:b});return de(S,b,bn,{flushSync:re}),!0}return!1}if(!Y&&V(T))return;let Q=C.fetchers.get(S);ee(S,ey(H,Q),{flushSync:re});let he=new AbortController,pe=En(t.history,E,he.signal,H);if(Y){let $e=await Na(W,E,pe.signal);if($e.type==="aborted")return;if($e.type==="error"){de(S,b,$e.error,{flushSync:re});return}else if($e.matches){if(W=$e.matches,T=Ri(W,E),V(T))return}else{de(S,b,wt(404,{pathname:E}),{flushSync:re});return}}Ce.set(S,he);let tt=j,we=(await Zt("action",C,pe,[T],W,S))[T.route.id];if(pe.signal.aborted){Ce.get(S)===he&&Ce.delete(S);return}if(o.v7_fetcherPersist&&k.has(S)){if(an(we)||xt(we)){ee(S,Ar(void 0));return}}else{if(an(we))if(Ce.delete(S),Z>tt){ee(S,Ar(void 0));return}else return se.add(S),ee(S,Mi(H)),yt(pe,we,!1,{fetcherSubmission:H,preventScrollReset:$});if(xt(we)){de(S,b,we.error);return}}if(Ir(we))throw wt(400,{type:"defer-action"});let Pe=C.navigation.location||C.location,Cn=En(t.history,Pe,he.signal),pi=c||s,lr=C.navigation.state!=="idle"?Xr(pi,C.navigation.location,u):C.matches;le(lr,"Didn't find any matches after fetcher action");let Kt=++j;X.set(S,Kt);let Ms=Mi(H,we.data);C.fetchers.set(S,Ms);let[gi,Yr]=sh(t.history,C,lr,H,Pe,!1,o.v7_skipActionErrorRevalidation,ne,Ge,ct,k,fe,se,pi,u,[T.route.id,we]);Yr.filter($e=>$e.key!==S).forEach($e=>{let bn=$e.key,Hc=C.fetchers.get(bn),Dg=Mi(void 0,Hc?Hc.data:void 0);C.fetchers.set(bn,Dg),q(bn),$e.controller&&Ce.set(bn,$e.controller)}),ce({fetchers:new Map(C.fetchers)});let Ra=()=>Yr.forEach($e=>q($e.key));he.signal.addEventListener("abort",Ra);let{loaderResults:Fa,fetcherResults:ye}=await oe(C,lr,gi,Yr,Cn);if(he.signal.aborted)return;he.signal.removeEventListener("abort",Ra),X.delete(S),Ce.delete(S),Yr.forEach($e=>Ce.delete($e.key));let je=eo(Fa);if(je)return yt(Cn,je.result,!1,{preventScrollReset:$});if(je=eo(ye),je)return se.add(je.key),yt(Cn,je.result,!1,{preventScrollReset:$});let{loaderData:An,errors:vi}=hh(C,lr,Fa,void 0,Yr,ye,P);if(C.fetchers.has(S)){let $e=Ar(we.data);C.fetchers.set(S,$e)}mi(Kt),C.navigation.state==="loading"&&Kt>Z?(le(N,"Expected pending action"),x&&x.abort(),Ze(C.navigation.location,{matches:lr,loaderData:An,errors:vi,fetchers:new Map(C.fetchers)})):(ce({errors:vi,loaderData:fh(C.loaderData,An,lr,vi),fetchers:new Map(C.fetchers)}),ne=!1)}async function dt(S,b,E,T,W,Y,re,$,H){let V=C.fetchers.get(S);ee(S,Mi(H,V?V.data:void 0),{flushSync:re});let Q=new AbortController,he=En(t.history,E,Q.signal);if(Y){let we=await Na(W,E,he.signal);if(we.type==="aborted")return;if(we.type==="error"){de(S,b,we.error,{flushSync:re});return}else if(we.matches)W=we.matches,T=Ri(W,E);else{de(S,b,wt(404,{pathname:E}),{flushSync:re});return}}Ce.set(S,Q);let pe=j,be=(await Zt("loader",C,he,[T],W,S))[T.route.id];if(Ir(be)&&(be=await Lc(be,he.signal,!0)||be),Ce.get(S)===Q&&Ce.delete(S),!he.signal.aborted){if(k.has(S)){ee(S,Ar(void 0));return}if(an(be))if(Z>pe){ee(S,Ar(void 0));return}else{se.add(S),await yt(he,be,!1,{preventScrollReset:$});return}if(xt(be)){de(S,b,be.error);return}le(!Ir(be),"Unhandled fetcher deferred data"),ee(S,Ar(be.data))}}async function yt(S,b,E,T){let{submission:W,fetcherSubmission:Y,preventScrollReset:re,replace:$}=T===void 0?{}:T;b.response.headers.has("X-Remix-Revalidate")&&(ne=!0);let H=b.response.headers.get("Location");le(H,"Expected a Location header on the redirect Response"),H=ch(H,new URL(S.url),u);let V=wa(C.location,H,{_isRedirect:!0});if(r){let we=!1;if(b.response.headers.has("X-Remix-Reload-Document"))we=!0;else if(Mc.test(H)){const Pe=t.history.createURL(H);we=Pe.origin!==e.location.origin||ci(Pe.pathname,u)==null}if(we){$?e.location.replace(H):e.location.assign(H);return}}x=null;let Q=$===!0||b.response.headers.has("X-Remix-Replace")?Ue.Replace:Ue.Push,{formMethod:he,formAction:pe,formEncType:tt}=C.navigation;!W&&!Y&&he&&pe&&tt&&(W=vh(C.navigation));let be=W||Y;if(N1.has(b.response.status)&&be&&Gt(be.formMethod))await sr(Q,V,{submission:Te({},be,{formAction:H}),preventScrollReset:re||D,enableViewTransition:E?I:void 0});else{let we=rl(V,W);await sr(Q,V,{overrideNavigation:we,fetcherSubmission:Y,preventScrollReset:re||D,enableViewTransition:E?I:void 0})}}async function Zt(S,b,E,T,W,Y){let re,$={};try{re=await W1(h,S,b,E,T,W,Y,a,i)}catch(H){return T.forEach(V=>{$[V.route.id]={type:Ae.error,error:H}}),$}for(let[H,V]of Object.entries(re))if(Y1(V)){let Q=V.result;$[H]={type:Ae.redirect,response:H1(Q,E,H,W,u,o.v7_relativeSplatPath)}}else $[H]=await $1(V);return $}async function oe(S,b,E,T,W){let Y=S.matches,re=Zt("loader",S,W,E,b,null),$=Promise.all(T.map(async Q=>{if(Q.matches&&Q.match&&Q.controller){let pe=(await Zt("loader",S,En(t.history,Q.path,Q.controller.signal),[Q.match],Q.matches,Q.key))[Q.match.route.id];return{[Q.key]:pe}}else return Promise.resolve({[Q.key]:{type:Ae.error,error:wt(404,{pathname:Q.path})}})})),H=await re,V=(await $).reduce((Q,he)=>Object.assign(Q,he),{});return await Promise.all([Z1(b,H,W.signal,Y,S.loaderData),K1(b,V,T)]),{loaderResults:H,fetcherResults:V}}function me(){ne=!0,Ge.push(...xs()),fe.forEach((S,b)=>{Ce.has(b)&&ct.add(b),q(b)})}function ee(S,b,E){E===void 0&&(E={}),C.fetchers.set(S,b),ce({fetchers:new Map(C.fetchers)},{flushSync:(E&&E.flushSync)===!0})}function de(S,b,E,T){T===void 0&&(T={});let W=en(C.matches,b);ht(S),ce({errors:{[W.route.id]:E},fetchers:new Map(C.fetchers)},{flushSync:(T&&T.flushSync)===!0})}function Ot(S){return o.v7_fetcherPersist&&(et.set(S,(et.get(S)||0)+1),k.has(S)&&k.delete(S)),C.fetchers.get(S)||R1}function ht(S){let b=C.fetchers.get(S);Ce.has(S)&&!(b&&b.state==="loading"&&X.has(S))&&q(S),fe.delete(S),X.delete(S),se.delete(S),k.delete(S),ct.delete(S),C.fetchers.delete(S)}function ve(S){if(o.v7_fetcherPersist){let b=(et.get(S)||0)-1;b<=0?(et.delete(S),k.add(S)):et.set(S,b)}else ht(S);ce({fetchers:new Map(C.fetchers)})}function q(S){let b=Ce.get(S);b&&(b.abort(),Ce.delete(S))}function Nt(S){for(let b of S){let E=Ot(b),T=Ar(E.data);C.fetchers.set(b,T)}}function Sn(){let S=[],b=!1;for(let E of se){let T=C.fetchers.get(E);le(T,"Expected fetcher: "+E),T.state==="loading"&&(se.delete(E),S.push(E),b=!0)}return Nt(S),b}function mi(S){let b=[];for(let[E,T]of X)if(T<S){let W=C.fetchers.get(E);le(W,"Expected fetcher: "+E),W.state==="loading"&&(q(E),X.delete(E),b.push(E))}return Nt(b),b.length>0}function Eg(S,b){let E=C.blockers.get(S)||xi;return R.get(S)!==b&&R.set(S,b),E}function Uc(S){C.blockers.delete(S),R.delete(S)}function Ta(S,b){let E=C.blockers.get(S)||xi;le(E.state==="unblocked"&&b.state==="blocked"||E.state==="blocked"&&b.state==="blocked"||E.state==="blocked"&&b.state==="proceeding"||E.state==="blocked"&&b.state==="unblocked"||E.state==="proceeding"&&b.state==="unblocked","Invalid blocker state transition: "+E.state+" -> "+b.state);let T=new Map(C.blockers);T.set(S,b),ce({blockers:T})}function Wc(S){let{currentLocation:b,nextLocation:E,historyAction:T}=S;if(R.size===0)return;R.size>1&&fn(!1,"A router only supports one blocker at a time");let W=Array.from(R.entries()),[Y,re]=W[W.length-1],$=C.blockers.get(Y);if(!($&&$.state==="proceeding")&&re({currentLocation:b,nextLocation:E,historyAction:T}))return Y}function Es(S){let b=wt(404,{pathname:S}),E=c||s,{matches:T,route:W}=ph(E);return xs(),{notFoundMatches:T,route:W,error:b}}function xs(S){let b=[];return P.forEach((E,T)=>{(!S||S(T))&&(E.cancel(),b.push(T),P.delete(T))}),b}function xg(S,b,E){if(f=S,y=b,m=E||null,!p&&C.navigation===tl){p=!0;let T=$c(C.location,C.matches);T!=null&&ce({restoreScrollPosition:T})}return()=>{f=null,y=null,m=null}}function Vc(S,b){return m&&m(S,b.map(T=>h1(T,C.loaderData)))||S.key}function Mg(S,b){if(f&&y){let E=Vc(S,b);f[E]=y()}}function $c(S,b){if(f){let E=Vc(S,b),T=f[E];if(typeof T=="number")return T}return null}function Oa(S,b,E){if(g)if(S){if(Object.keys(S[0].params).length>0)return{active:!0,matches:vo(b,E,u,!0)}}else return{active:!0,matches:vo(b,E,u,!0)||[]};return{active:!1,matches:null}}async function Na(S,b,E){if(!g)return{type:"success",matches:S};let T=S;for(;;){let W=c==null,Y=c||s,re=a;try{await g({path:b,matches:T,patch:(V,Q)=>{E.aborted||uh(V,Q,Y,re,i)}})}catch(V){return{type:"error",error:V,partialMatches:T}}finally{W&&!E.aborted&&(s=[...s])}if(E.aborted)return{type:"aborted"};let $=Xr(Y,b,u);if($)return{type:"success",matches:$};let H=vo(Y,b,u,!0);if(!H||T.length===H.length&&T.every((V,Q)=>V.route.id===H[Q].route.id))return{type:"success",matches:null};T=H}}function Lg(S){a={},c=qo(S,i,void 0,a)}function Ig(S,b){let E=c==null;uh(S,b,c||s,a,i),E&&(s=[...s],ce({}))}return M={get basename(){return u},get future(){return o},get state(){return C},get routes(){return s},get window(){return e},initialize:G,subscribe:xe,enableScrollRestoration:xg,navigate:hi,fetch:Da,revalidate:Gr,createHref:S=>t.history.createHref(S),encodeLocation:S=>t.history.encodeLocation(S),getFetcher:Ot,deleteFetcher:ve,dispose:K,getBlocker:Eg,deleteBlocker:Uc,patchRoutes:Ig,_internalFetchControllers:Ce,_internalActiveDeferreds:P,_internalSetRoutes:Lg},M}function j1(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function cu(t,e,r,n,i,a,s,c){let u,h;if(s){u=[];for(let o of e)if(u.push(o),o.route.id===s){h=o;break}}else u=e,h=e[e.length-1];let g=xc(i||".",Ec(u,a),ci(t.pathname,r)||t.pathname,c==="path");if(i==null&&(g.search=t.search,g.hash=t.hash),(i==null||i===""||i===".")&&h){let o=Ic(g.search);if(h.route.index&&!o)g.search=g.search?g.search.replace(/^\?/,"?index&"):"?index";else if(!h.route.index&&o){let l=new URLSearchParams(g.search),d=l.getAll("index");l.delete("index"),d.filter(m=>m).forEach(m=>l.append("index",m));let f=l.toString();g.search=f?"?"+f:""}}return n&&r!=="/"&&(g.pathname=g.pathname==="/"?r:pr([r,g.pathname])),mn(g)}function ah(t,e,r,n){if(!n||!j1(n))return{path:r};if(n.formMethod&&!q1(n.formMethod))return{path:r,error:wt(405,{method:n.formMethod})};let i=()=>({path:r,error:wt(400,{type:"invalid-body"})}),a=n.formMethod||"get",s=t?a.toUpperCase():a.toLowerCase(),c=ap(r);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!Gt(s))return i();let l=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((d,f)=>{let[m,y]=f;return""+d+m+"="+y+`
`},""):String(n.body);return{path:r,submission:{formMethod:s,formAction:c,formEncType:n.formEncType,formData:void 0,json:void 0,text:l}}}else if(n.formEncType==="application/json"){if(!Gt(s))return i();try{let l=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:r,submission:{formMethod:s,formAction:c,formEncType:n.formEncType,formData:void 0,json:l,text:void 0}}}catch{return i()}}}le(typeof FormData=="function","FormData is not available in this environment");let u,h;if(n.formData)u=hu(n.formData),h=n.formData;else if(n.body instanceof FormData)u=hu(n.body),h=n.body;else if(n.body instanceof URLSearchParams)u=n.body,h=dh(u);else if(n.body==null)u=new URLSearchParams,h=new FormData;else try{u=new URLSearchParams(n.body),h=dh(u)}catch{return i()}let g={formMethod:s,formAction:c,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:h,json:void 0,text:void 0};if(Gt(g.formMethod))return{path:r,submission:g};let o=or(r);return e&&o.search&&Ic(o.search)&&u.append("index",""),o.search="?"+u,{path:mn(o),submission:g}}function oh(t,e,r){r===void 0&&(r=!1);let n=t.findIndex(i=>i.route.id===e);return n>=0?t.slice(0,r?n+1:n):t}function sh(t,e,r,n,i,a,s,c,u,h,g,o,l,d,f,m){let y=m?xt(m[1])?m[1].error:m[1].data:void 0,p=t.createURL(e.location),v=t.createURL(i),w=r;a&&e.errors?w=oh(r,Object.keys(e.errors)[0],!0):m&&xt(m[1])&&(w=oh(r,m[0]));let A=m?m[1].statusCode:void 0,M=s&&A&&A>=400,C=w.filter((D,x)=>{let{route:I}=D;if(I.lazy)return!0;if(I.loader==null)return!1;if(a)return du(I,e.loaderData,e.errors);if(z1(e.loaderData,e.matches[x],D)||u.some(ae=>ae===D.route.id))return!0;let F=e.matches[x],te=D;return lh(D,Te({currentUrl:p,currentParams:F.params,nextUrl:v,nextParams:te.params},n,{actionResult:y,actionStatus:A,defaultShouldRevalidate:M?!1:c||p.pathname+p.search===v.pathname+v.search||p.search!==v.search||np(F,te)}))}),N=[];return o.forEach((D,x)=>{if(a||!r.some(ne=>ne.route.id===D.routeId)||g.has(x))return;let I=Xr(d,D.path,f);if(!I){N.push({key:x,routeId:D.routeId,path:D.path,matches:null,match:null,controller:null});return}let F=e.fetchers.get(x),te=Ri(I,D.path),ae=!1;l.has(x)?ae=!1:h.has(x)?(h.delete(x),ae=!0):F&&F.state!=="idle"&&F.data===void 0?ae=c:ae=lh(te,Te({currentUrl:p,currentParams:e.matches[e.matches.length-1].params,nextUrl:v,nextParams:r[r.length-1].params},n,{actionResult:y,actionStatus:A,defaultShouldRevalidate:M?!1:c})),ae&&N.push({key:x,routeId:D.routeId,path:D.path,matches:I,match:te,controller:new AbortController})}),[C,N]}function du(t,e,r){if(t.lazy)return!0;if(!t.loader)return!1;let n=e!=null&&e[t.id]!==void 0,i=r!=null&&r[t.id]!==void 0;return!n&&i?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!n&&!i}function z1(t,e,r){let n=!e||r.route.id!==e.route.id,i=t[r.route.id]===void 0;return n||i}function np(t,e){let r=t.route.path;return t.pathname!==e.pathname||r!=null&&r.endsWith("*")&&t.params["*"]!==e.params["*"]}function lh(t,e){if(t.route.shouldRevalidate){let r=t.route.shouldRevalidate(e);if(typeof r=="boolean")return r}return e.defaultShouldRevalidate}function uh(t,e,r,n,i){var a;let s;if(t){let h=n[t];le(h,"No route found to patch children into: routeId = "+t),h.children||(h.children=[]),s=h.children}else s=r;let c=e.filter(h=>!s.some(g=>ip(h,g))),u=qo(c,i,[t||"_","patch",String(((a=s)==null?void 0:a.length)||"0")],n);s.push(...u)}function ip(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((r,n)=>{var i;return(i=e.children)==null?void 0:i.some(a=>ip(r,a))}):!1}async function B1(t,e,r){if(!t.lazy)return;let n=await t.lazy();if(!t.lazy)return;let i=r[t.id];le(i,"No route found in manifest");let a={};for(let s in n){let u=i[s]!==void 0&&s!=="hasErrorBoundary";fn(!u,'Route "'+i.id+'" has a static property "'+s+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+s+'" will be ignored.')),!u&&!c1.has(s)&&(a[s]=n[s])}Object.assign(i,a),Object.assign(i,Te({},e(i),{lazy:void 0}))}async function U1(t){let{matches:e}=t,r=e.filter(i=>i.shouldLoad);return(await Promise.all(r.map(i=>i.resolve()))).reduce((i,a,s)=>Object.assign(i,{[r[s].route.id]:a}),{})}async function W1(t,e,r,n,i,a,s,c,u,h){let g=a.map(d=>d.route.lazy?B1(d.route,u,c):void 0),o=a.map((d,f)=>{let m=g[f],y=i.some(v=>v.route.id===d.route.id);return Te({},d,{shouldLoad:y,resolve:async v=>(v&&n.method==="GET"&&(d.route.lazy||d.route.loader)&&(y=!0),y?V1(e,n,d,m,v,h):Promise.resolve({type:Ae.data,result:void 0}))})}),l=await t({matches:o,request:n,params:a[0].params,fetcherKey:s,context:h});try{await Promise.all(g)}catch{}return l}async function V1(t,e,r,n,i,a){let s,c,u=h=>{let g,o=new Promise((f,m)=>g=m);c=()=>g(),e.signal.addEventListener("abort",c);let l=f=>typeof h!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+t+'" [routeId: '+r.route.id+"]"))):h({request:e,params:r.params,context:a},...f!==void 0?[f]:[]),d=(async()=>{try{return{type:"data",result:await(i?i(m=>l(m)):l())}}catch(f){return{type:"error",result:f}}})();return Promise.race([d,o])};try{let h=r.route[t];if(n)if(h){let g,[o]=await Promise.all([u(h).catch(l=>{g=l}),n]);if(g!==void 0)throw g;s=o}else if(await n,h=r.route[t],h)s=await u(h);else if(t==="action"){let g=new URL(e.url),o=g.pathname+g.search;throw wt(405,{method:e.method,pathname:o,routeId:r.route.id})}else return{type:Ae.data,result:void 0};else if(h)s=await u(h);else{let g=new URL(e.url),o=g.pathname+g.search;throw wt(404,{pathname:o})}le(s.result!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+r.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(h){return{type:Ae.error,result:h}}finally{c&&e.signal.removeEventListener("abort",c)}return s}async function $1(t){let{result:e,type:r}=t;if(op(e)){let h;try{let g=e.headers.get("Content-Type");g&&/\bapplication\/json\b/.test(g)?e.body==null?h=null:h=await e.json():h=await e.text()}catch(g){return{type:Ae.error,error:g}}return r===Ae.error?{type:Ae.error,error:new Zo(e.status,e.statusText,h),statusCode:e.status,headers:e.headers}:{type:Ae.data,data:h,statusCode:e.status,headers:e.headers}}if(r===Ae.error){if(gh(e)){var n;if(e.data instanceof Error){var i;return{type:Ae.error,error:e.data,statusCode:(i=e.init)==null?void 0:i.status}}e=new Zo(((n=e.init)==null?void 0:n.status)||500,void 0,e.data)}return{type:Ae.error,error:e,statusCode:vs(e)?e.status:void 0}}if(Q1(e)){var a,s;return{type:Ae.deferred,deferredData:e,statusCode:(a=e.init)==null?void 0:a.status,headers:((s=e.init)==null?void 0:s.headers)&&new Headers(e.init.headers)}}if(gh(e)){var c,u;return{type:Ae.data,data:e.data,statusCode:(c=e.init)==null?void 0:c.status,headers:(u=e.init)!=null&&u.headers?new Headers(e.init.headers):void 0}}return{type:Ae.data,data:e}}function H1(t,e,r,n,i,a){let s=t.headers.get("Location");if(le(s,"Redirects returned/thrown from loaders/actions must have a Location header"),!Mc.test(s)){let c=n.slice(0,n.findIndex(u=>u.route.id===r)+1);s=cu(new URL(e.url),c,i,!0,s,a),t.headers.set("Location",s)}return t}function ch(t,e,r){if(Mc.test(t)){let n=t,i=n.startsWith("//")?new URL(e.protocol+n):new URL(n),a=ci(i.pathname,r)!=null;if(i.origin===e.origin&&a)return i.pathname+i.search+i.hash}return t}function En(t,e,r,n){let i=t.createURL(ap(e)).toString(),a={signal:r};if(n&&Gt(n.formMethod)){let{formMethod:s,formEncType:c}=n;a.method=s.toUpperCase(),c==="application/json"?(a.headers=new Headers({"Content-Type":c}),a.body=JSON.stringify(n.json)):c==="text/plain"?a.body=n.text:c==="application/x-www-form-urlencoded"&&n.formData?a.body=hu(n.formData):a.body=n.formData}return new Request(i,a)}function hu(t){let e=new URLSearchParams;for(let[r,n]of t.entries())e.append(r,typeof n=="string"?n:n.name);return e}function dh(t){let e=new FormData;for(let[r,n]of t.entries())e.append(r,n);return e}function G1(t,e,r,n,i){let a={},s=null,c,u=!1,h={},g=r&&xt(r[1])?r[1].error:void 0;return t.forEach(o=>{if(!(o.route.id in e))return;let l=o.route.id,d=e[l];if(le(!an(d),"Cannot handle redirect results in processLoaderData"),xt(d)){let f=d.error;if(g!==void 0&&(f=g,g=void 0),s=s||{},i)s[l]=f;else{let m=en(t,l);s[m.route.id]==null&&(s[m.route.id]=f)}a[l]=void 0,u||(u=!0,c=vs(d.error)?d.error.status:500),d.headers&&(h[l]=d.headers)}else Ir(d)?(n.set(l,d.deferredData),a[l]=d.deferredData.data,d.statusCode!=null&&d.statusCode!==200&&!u&&(c=d.statusCode),d.headers&&(h[l]=d.headers)):(a[l]=d.data,d.statusCode&&d.statusCode!==200&&!u&&(c=d.statusCode),d.headers&&(h[l]=d.headers))}),g!==void 0&&r&&(s={[r[0]]:g},a[r[0]]=void 0),{loaderData:a,errors:s,statusCode:c||200,loaderHeaders:h}}function hh(t,e,r,n,i,a,s){let{loaderData:c,errors:u}=G1(e,r,n,s,!1);return i.forEach(h=>{let{key:g,match:o,controller:l}=h,d=a[g];if(le(d,"Did not find corresponding fetcher result"),!(l&&l.signal.aborted))if(xt(d)){let f=en(t.matches,o==null?void 0:o.route.id);u&&u[f.route.id]||(u=Te({},u,{[f.route.id]:d.error})),t.fetchers.delete(g)}else if(an(d))le(!1,"Unhandled fetcher revalidation redirect");else if(Ir(d))le(!1,"Unhandled fetcher deferred data");else{let f=Ar(d.data);t.fetchers.set(g,f)}}),{loaderData:c,errors:u}}function fh(t,e,r,n){let i=Te({},e);for(let a of r){let s=a.route.id;if(e.hasOwnProperty(s)?e[s]!==void 0&&(i[s]=e[s]):t[s]!==void 0&&a.route.loader&&(i[s]=t[s]),n&&n.hasOwnProperty(s))break}return i}function mh(t){return t?xt(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function en(t,e){return(e?t.slice(0,t.findIndex(n=>n.route.id===e)+1):[...t]).reverse().find(n=>n.route.hasErrorBoundary===!0)||t[0]}function ph(t){let e=t.length===1?t[0]:t.find(r=>r.index||!r.path||r.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function wt(t,e){let{pathname:r,routeId:n,method:i,type:a,message:s}=e===void 0?{}:e,c="Unknown Server Error",u="Unknown @remix-run/router error";return t===400?(c="Bad Request",i&&r&&n?u="You made a "+i+' request to "'+r+'" but '+('did not provide a `loader` for route "'+n+'", ')+"so there is no way to handle the request.":a==="defer-action"?u="defer() is not supported in actions":a==="invalid-body"&&(u="Unable to encode submission body")):t===403?(c="Forbidden",u='Route "'+n+'" does not match URL "'+r+'"'):t===404?(c="Not Found",u='No route matches URL "'+r+'"'):t===405&&(c="Method Not Allowed",i&&r&&n?u="You made a "+i.toUpperCase()+' request to "'+r+'" but '+('did not provide an `action` for route "'+n+'", ')+"so there is no way to handle the request.":i&&(u='Invalid request method "'+i.toUpperCase()+'"')),new Zo(t||500,c,new Error(u),!0)}function eo(t){let e=Object.entries(t);for(let r=e.length-1;r>=0;r--){let[n,i]=e[r];if(an(i))return{key:n,result:i}}}function ap(t){let e=typeof t=="string"?or(t):t;return mn(Te({},e,{hash:""}))}function J1(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function Y1(t){return op(t.result)&&O1.has(t.result.status)}function Ir(t){return t.type===Ae.deferred}function xt(t){return t.type===Ae.error}function an(t){return(t&&t.type)===Ae.redirect}function gh(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function Q1(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function op(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function q1(t){return T1.has(t.toLowerCase())}function Gt(t){return D1.has(t.toLowerCase())}async function Z1(t,e,r,n,i){let a=Object.entries(e);for(let s=0;s<a.length;s++){let[c,u]=a[s],h=t.find(l=>(l==null?void 0:l.route.id)===c);if(!h)continue;let g=n.find(l=>l.route.id===h.route.id),o=g!=null&&!np(g,h)&&(i&&i[h.route.id])!==void 0;Ir(u)&&o&&await Lc(u,r,!1).then(l=>{l&&(e[c]=l)})}}async function K1(t,e,r){for(let n=0;n<r.length;n++){let{key:i,routeId:a,controller:s}=r[n],c=e[i];t.find(h=>(h==null?void 0:h.route.id)===a)&&Ir(c)&&(le(s,"Expected an AbortController for revalidating fetcher deferred result"),await Lc(c,s.signal,!0).then(h=>{h&&(e[i]=h)}))}}async function Lc(t,e,r){if(r===void 0&&(r=!1),!await t.deferredData.resolveData(e)){if(r)try{return{type:Ae.data,data:t.deferredData.unwrappedData}}catch(i){return{type:Ae.error,error:i}}return{type:Ae.data,data:t.deferredData.data}}}function Ic(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function Ri(t,e){let r=typeof e=="string"?or(e).search:e.search;if(t[t.length-1].route.index&&Ic(r||""))return t[t.length-1];let n=ep(t);return n[n.length-1]}function vh(t){let{formMethod:e,formAction:r,formEncType:n,text:i,formData:a,json:s}=t;if(!(!e||!r||!n)){if(i!=null)return{formMethod:e,formAction:r,formEncType:n,formData:void 0,json:void 0,text:i};if(a!=null)return{formMethod:e,formAction:r,formEncType:n,formData:a,json:void 0,text:void 0};if(s!==void 0)return{formMethod:e,formAction:r,formEncType:n,formData:void 0,json:s,text:void 0}}}function rl(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function X1(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Mi(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function ey(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function Ar(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function ty(t,e){try{let r=t.sessionStorage.getItem(rp);if(r){let n=JSON.parse(r);for(let[i,a]of Object.entries(n||{}))a&&Array.isArray(a)&&e.set(i,new Set(a||[]))}}catch{}}function ry(t,e){if(e.size>0){let r={};for(let[n,i]of e)r[n]=[...i];try{t.sessionStorage.setItem(rp,JSON.stringify(r))}catch(n){fn(!1,"Failed to save applied view transitions in sessionStorage ("+n+").")}}}/**
 * React Router v6.28.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Sa(){return Sa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Sa.apply(this,arguments)}const ys=L.createContext(null),sp=L.createContext(null),vn=L.createContext(null),ws=L.createContext(null),yn=L.createContext({outlet:null,matches:[],isDataRoute:!1}),lp=L.createContext(null);function ny(t,e){let{relative:r}=e===void 0?{}:e;La()||le(!1);let{basename:n,navigator:i}=L.useContext(vn),{hash:a,pathname:s,search:c}=cp(t,{relative:r}),u=s;return n!=="/"&&(u=s==="/"?n:pr([n,s])),i.createHref({pathname:u,search:c,hash:a})}function La(){return L.useContext(ws)!=null}function Ss(){return La()||le(!1),L.useContext(ws).location}function up(t){L.useContext(vn).static||L.useLayoutEffect(t)}function Dc(){let{isDataRoute:t}=L.useContext(yn);return t?py():iy()}function iy(){La()||le(!1);let t=L.useContext(ys),{basename:e,future:r,navigator:n}=L.useContext(vn),{matches:i}=L.useContext(yn),{pathname:a}=Ss(),s=JSON.stringify(Ec(i,r.v7_relativeSplatPath)),c=L.useRef(!1);return up(()=>{c.current=!0}),L.useCallback(function(h,g){if(g===void 0&&(g={}),!c.current)return;if(typeof h=="number"){n.go(h);return}let o=xc(h,JSON.parse(s),a,g.relative==="path");t==null&&e!=="/"&&(o.pathname=o.pathname==="/"?e:pr([e,o.pathname])),(g.replace?n.replace:n.push)(o,g.state,g)},[e,n,s,a,t])}function cp(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=L.useContext(vn),{matches:i}=L.useContext(yn),{pathname:a}=Ss(),s=JSON.stringify(Ec(i,n.v7_relativeSplatPath));return L.useMemo(()=>xc(t,JSON.parse(s),a,r==="path"),[t,s,a,r])}function ay(t,e,r,n){La()||le(!1);let{navigator:i}=L.useContext(vn),{matches:a}=L.useContext(yn),s=a[a.length-1],c=s?s.params:{};s&&s.pathname;let u=s?s.pathnameBase:"/";s&&s.route;let h=Ss(),g;if(e){var o;let y=typeof e=="string"?or(e):e;u==="/"||(o=y.pathname)!=null&&o.startsWith(u)||le(!1),g=y}else g=h;let l=g.pathname||"/",d=l;if(u!=="/"){let y=u.replace(/^\//,"").split("/");d="/"+l.replace(/^\//,"").split("/").slice(y.length).join("/")}let f=Xr(t,{pathname:d}),m=cy(f&&f.map(y=>Object.assign({},y,{params:Object.assign({},c,y.params),pathname:pr([u,i.encodeLocation?i.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?u:pr([u,i.encodeLocation?i.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),a,r,n);return e&&m?L.createElement(ws.Provider,{value:{location:Sa({pathname:"/",search:"",hash:"",state:null,key:"default"},g),navigationType:Ue.Pop}},m):m}function oy(){let t=my(),e=vs(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},a=null;return L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},e),r?L.createElement("pre",{style:i},r):null,a)}const sy=L.createElement(oy,null);class ly extends L.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?L.createElement(yn.Provider,{value:this.props.routeContext},L.createElement(lp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function uy(t){let{routeContext:e,match:r,children:n}=t,i=L.useContext(ys);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),L.createElement(yn.Provider,{value:e},n)}function cy(t,e,r,n){var i;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var a;if(!r)return null;if(r.errors)t=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let s=t,c=(i=r)==null?void 0:i.errors;if(c!=null){let g=s.findIndex(o=>o.route.id&&(c==null?void 0:c[o.route.id])!==void 0);g>=0||le(!1),s=s.slice(0,Math.min(s.length,g+1))}let u=!1,h=-1;if(r&&n&&n.v7_partialHydration)for(let g=0;g<s.length;g++){let o=s[g];if((o.route.HydrateFallback||o.route.hydrateFallbackElement)&&(h=g),o.route.id){let{loaderData:l,errors:d}=r,f=o.route.loader&&l[o.route.id]===void 0&&(!d||d[o.route.id]===void 0);if(o.route.lazy||f){u=!0,h>=0?s=s.slice(0,h+1):s=[s[0]];break}}}return s.reduceRight((g,o,l)=>{let d,f=!1,m=null,y=null;r&&(d=c&&o.route.id?c[o.route.id]:void 0,m=o.route.errorElement||sy,u&&(h<0&&l===0?(gy("route-fallback",!1),f=!0,y=null):h===l&&(f=!0,y=o.route.hydrateFallbackElement||null)));let p=e.concat(s.slice(0,l+1)),v=()=>{let w;return d?w=m:f?w=y:o.route.Component?w=L.createElement(o.route.Component,null):o.route.element?w=o.route.element:w=g,L.createElement(uy,{match:o,routeContext:{outlet:g,matches:p,isDataRoute:r!=null},children:w})};return r&&(o.route.ErrorBoundary||o.route.errorElement||l===0)?L.createElement(ly,{location:r.location,revalidation:r.revalidation,component:m,error:d,children:v(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):v()},null)}var dp=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(dp||{}),Ko=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Ko||{});function dy(t){let e=L.useContext(ys);return e||le(!1),e}function hy(t){let e=L.useContext(sp);return e||le(!1),e}function fy(t){let e=L.useContext(yn);return e||le(!1),e}function hp(t){let e=fy(),r=e.matches[e.matches.length-1];return r.route.id||le(!1),r.route.id}function my(){var t;let e=L.useContext(lp),r=hy(Ko.UseRouteError),n=hp(Ko.UseRouteError);return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function py(){let{router:t}=dy(dp.UseNavigateStable),e=hp(Ko.UseNavigateStable),r=L.useRef(!1);return up(()=>{r.current=!0}),L.useCallback(function(i,a){a===void 0&&(a={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Sa({fromRouteId:e},a)))},[t,e])}const yh={};function gy(t,e,r){!e&&!yh[t]&&(yh[t]=!0)}const wh={};function vy(t,e){wh[e]||(wh[e]=!0,console.warn(e))}const xn=(t,e,r)=>vy(t," React Router Future Flag Warning: "+e+". "+("You can use the `"+t+"` future flag to opt-in early. ")+("For more information, see "+r+"."));function yy(t,e){(t==null?void 0:t.v7_startTransition)===void 0&&xn("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),(t==null?void 0:t.v7_relativeSplatPath)===void 0&&(!e||!e.v7_relativeSplatPath)&&xn("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath"),e&&(e.v7_fetcherPersist===void 0&&xn("v7_fetcherPersist","The persistence behavior of fetchers is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_fetcherpersist"),e.v7_normalizeFormMethod===void 0&&xn("v7_normalizeFormMethod","Casing of `formMethod` fields is being normalized to uppercase in v7","https://reactrouter.com/v6/upgrading/future#v7_normalizeformmethod"),e.v7_partialHydration===void 0&&xn("v7_partialHydration","`RouterProvider` hydration behavior is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_partialhydration"),e.v7_skipActionErrorRevalidation===void 0&&xn("v7_skipActionErrorRevalidation","The revalidation behavior after 4xx/5xx `action` responses is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_skipactionerrorrevalidation"))}function wy(t){let{basename:e="/",children:r=null,location:n,navigationType:i=Ue.Pop,navigator:a,static:s=!1,future:c}=t;La()&&le(!1);let u=e.replace(/^\/*/,"/"),h=L.useMemo(()=>({basename:u,navigator:a,static:s,future:Sa({v7_relativeSplatPath:!1},c)}),[u,c,a,s]);typeof n=="string"&&(n=or(n));let{pathname:g="/",search:o="",hash:l="",state:d=null,key:f="default"}=n,m=L.useMemo(()=>{let y=ci(g,u);return y==null?null:{location:{pathname:y,search:o,hash:l,state:d,key:f},navigationType:i}},[u,g,o,l,d,f,i]);return m==null?null:L.createElement(vn.Provider,{value:h},L.createElement(ws.Provider,{children:r,value:m}))}new Promise(()=>{});function Sy(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:L.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:L.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:L.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.28.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ca(){return Ca=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ca.apply(this,arguments)}function Cy(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function Ay(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function by(t,e){return t.button===0&&(!e||e==="_self")&&!Ay(t)}const _y=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Ey="6";try{window.__reactRouterVersion=Ey}catch{}function xy(t,e){return P1({basename:e==null?void 0:e.basename,future:Ca({},e==null?void 0:e.future,{v7_prependBasename:!0}),history:s1({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||My(),routes:t,mapRouteProperties:Sy,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function My(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=Ca({},e,{errors:Ly(e.errors)})),e}function Ly(t){if(!t)return null;let e=Object.entries(t),r={};for(let[n,i]of e)if(i&&i.__type==="RouteErrorResponse")r[n]=new Zo(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let a=window[i.__subType];if(typeof a=="function")try{let s=new a(i.message);s.stack="",r[n]=s}catch{}}if(r[n]==null){let a=new Error(i.message);a.stack="",r[n]=a}}else r[n]=i;return r}const Iy=L.createContext({isTransitioning:!1}),Dy=L.createContext(new Map),ky="startTransition",Sh=Jg[ky],Ty="flushSync",Ch=o1[Ty];function Oy(t){Sh?Sh(t):t()}function Li(t){Ch?Ch(t):t()}class Ny{constructor(){this.status="pending",this.promise=new Promise((e,r)=>{this.resolve=n=>{this.status==="pending"&&(this.status="resolved",e(n))},this.reject=n=>{this.status==="pending"&&(this.status="rejected",r(n))}})}}function Ry(t){let{fallbackElement:e,router:r,future:n}=t,[i,a]=L.useState(r.state),[s,c]=L.useState(),[u,h]=L.useState({isTransitioning:!1}),[g,o]=L.useState(),[l,d]=L.useState(),[f,m]=L.useState(),y=L.useRef(new Map),{v7_startTransition:p}=n||{},v=L.useCallback(D=>{p?Oy(D):D()},[p]),w=L.useCallback((D,x)=>{let{deletedFetchers:I,flushSync:F,viewTransitionOpts:te}=x;I.forEach(ne=>y.current.delete(ne)),D.fetchers.forEach((ne,Ge)=>{ne.data!==void 0&&y.current.set(Ge,ne.data)});let ae=r.window==null||r.window.document==null||typeof r.window.document.startViewTransition!="function";if(!te||ae){F?Li(()=>a(D)):v(()=>a(D));return}if(F){Li(()=>{l&&(g&&g.resolve(),l.skipTransition()),h({isTransitioning:!0,flushSync:!0,currentLocation:te.currentLocation,nextLocation:te.nextLocation})});let ne=r.window.document.startViewTransition(()=>{Li(()=>a(D))});ne.finished.finally(()=>{Li(()=>{o(void 0),d(void 0),c(void 0),h({isTransitioning:!1})})}),Li(()=>d(ne));return}l?(g&&g.resolve(),l.skipTransition(),m({state:D,currentLocation:te.currentLocation,nextLocation:te.nextLocation})):(c(D),h({isTransitioning:!0,flushSync:!1,currentLocation:te.currentLocation,nextLocation:te.nextLocation}))},[r.window,l,g,y,v]);L.useLayoutEffect(()=>r.subscribe(w),[r,w]),L.useEffect(()=>{u.isTransitioning&&!u.flushSync&&o(new Ny)},[u]),L.useEffect(()=>{if(g&&s&&r.window){let D=s,x=g.promise,I=r.window.document.startViewTransition(async()=>{v(()=>a(D)),await x});I.finished.finally(()=>{o(void 0),d(void 0),c(void 0),h({isTransitioning:!1})}),d(I)}},[v,s,g,r.window]),L.useEffect(()=>{g&&s&&i.location.key===s.location.key&&g.resolve()},[g,l,i.location,s]),L.useEffect(()=>{!u.isTransitioning&&f&&(c(f.state),h({isTransitioning:!0,flushSync:!1,currentLocation:f.currentLocation,nextLocation:f.nextLocation}),m(void 0))},[u.isTransitioning,f]),L.useEffect(()=>{},[]);let A=L.useMemo(()=>({createHref:r.createHref,encodeLocation:r.encodeLocation,go:D=>r.navigate(D),push:(D,x,I)=>r.navigate(D,{state:x,preventScrollReset:I==null?void 0:I.preventScrollReset}),replace:(D,x,I)=>r.navigate(D,{replace:!0,state:x,preventScrollReset:I==null?void 0:I.preventScrollReset})}),[r]),M=r.basename||"/",C=L.useMemo(()=>({router:r,navigator:A,static:!1,basename:M}),[r,A,M]),N=L.useMemo(()=>({v7_relativeSplatPath:r.future.v7_relativeSplatPath}),[r.future.v7_relativeSplatPath]);return L.useEffect(()=>yy(n,r.future),[n,r.future]),L.createElement(L.Fragment,null,L.createElement(ys.Provider,{value:C},L.createElement(sp.Provider,{value:i},L.createElement(Dy.Provider,{value:y.current},L.createElement(Iy.Provider,{value:u},L.createElement(wy,{basename:M,location:i.location,navigationType:i.historyAction,navigator:A,future:N},i.initialized||r.future.v7_partialHydration?L.createElement(Fy,{routes:r.routes,future:r.future,state:i}):e))))),null)}const Fy=L.memo(Py);function Py(t){let{routes:e,future:r,state:n}=t;return ay(e,void 0,n,r)}const jy=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",zy=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,kc=L.forwardRef(function(e,r){let{onClick:n,relative:i,reloadDocument:a,replace:s,state:c,target:u,to:h,preventScrollReset:g,viewTransition:o}=e,l=Cy(e,_y),{basename:d}=L.useContext(vn),f,m=!1;if(typeof h=="string"&&zy.test(h)&&(f=h,jy))try{let w=new URL(window.location.href),A=h.startsWith("//")?new URL(w.protocol+h):new URL(h),M=ci(A.pathname,d);A.origin===w.origin&&M!=null?h=M+A.search+A.hash:m=!0}catch{}let y=ny(h,{relative:i}),p=By(h,{replace:s,state:c,target:u,preventScrollReset:g,relative:i,viewTransition:o});function v(w){n&&n(w),w.defaultPrevented||p(w)}return L.createElement("a",Ca({},l,{href:f||y,onClick:m||a?n:v,ref:r,target:u}))});var Ah;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Ah||(Ah={}));var bh;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(bh||(bh={}));function By(t,e){let{target:r,replace:n,state:i,preventScrollReset:a,relative:s,viewTransition:c}=e===void 0?{}:e,u=Dc(),h=Ss(),g=cp(t,{relative:s});return L.useCallback(o=>{if(by(o,r)){o.preventDefault();let l=n!==void 0?n:mn(h)===mn(g);u(t,{replace:l,state:i,preventScrollReset:a,relative:s,viewTransition:c})}},[h,u,g,n,i,r,t,a,s,c])}function Uy({color:t}){return Ie("svg",{xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"0 0 24 24",children:[B("circle",{cx:"18",cy:"12",r:"0",fill:t,children:B("animate",{attributeName:"r",begin:".67",calcMode:"spline",dur:"1.5s",keySplines:"0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8",repeatCount:"indefinite",values:"0;2;0;0"})}),B("circle",{cx:"12",cy:"12",r:"0",fill:t,children:B("animate",{attributeName:"r",begin:".33",calcMode:"spline",dur:"1.5s",keySplines:"0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8",repeatCount:"indefinite",values:"0;2;0;0"})}),B("circle",{cx:"6",cy:"12",r:"0",fill:t,children:B("animate",{attributeName:"r",begin:"0",calcMode:"spline",dur:"1.5s",keySplines:"0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8",repeatCount:"indefinite",values:"0;2;0;0"})})]})}function fp(){return Ie("div",{className:"w-full h-full flex flex-col justify-center items-center",children:[B("p",{children:"Initializing the scanner..."}),B(Uy,{color:"black"}),B("p",{children:"(This can also be done in the background)"})]})}function Wy({color:t}){return B("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",children:B("path",{fill:t,d:"M7.15 21.1q-.375-.375-.375-.888t.375-.887L14.475 12l-7.35-7.35q-.35-.35-.35-.875t.375-.9q.375-.375.888-.375t.887.375l8.4 8.425q.15.15.213.325T17.6 12q0 .2-.063.375t-.212.325L8.9 21.125q-.35.35-.863.35T7.15 21.1Z"})})}function Xi({children:t,to:e}){return Ie(kc,{to:e,className:"w-full p-4 py-8 flex justify-between items-center transition hover:bg-gray-100",children:[B("div",{className:"flex items-center gap-4",children:t}),B(Wy,{color:"black"})]})}function Xo({children:t,when:e}){return e?B(e0,{children:t}):null}function Vy({color:t}){return B("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",className:"inline flex-shrink-0",children:B("path",{fill:t,d:"M12 17q.425 0 .713-.288T13 16v-4q0-.425-.288-.713T12 11q-.425 0-.713.288T11 12v4q0 .425.288.713T12 17Zm0-8q.425 0 .713-.288T13 8q0-.425-.288-.713T12 7q-.425 0-.713.288T11 8q0 .425.288.713T12 9Zm0 13q-2.075 0-3.9-.788t-3.175-2.137q-1.35-1.35-2.137-3.175T2 12q0-2.075.788-3.9t2.137-3.175q1.35-1.35 3.175-2.137T12 2q2.075 0 3.9.788t3.175 2.137q1.35 1.35 2.138 3.175T22 12q0 2.075-.788 3.9t-2.137 3.175q-1.35 1.35-3.175 2.138T12 22Z"})})}function mp({color:t}){return B("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",children:B("path",{fill:t,d:"M0 2a2 2 0 0 1 2-2h4v2H2v4H0V2m24 20a2 2 0 0 1-2 2h-4v-2h4v-4h2v4M2 24a2 2 0 0 1-2-2v-4h2v4h4v2H2M22 0a2 2 0 0 1 2 2v4h-2V2h-4V0h4Z"})})}function pp({color:t}){return B("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",children:B("path",{fill:t,d:"m9.25 22l-.4-3.2q-.325-.125-.613-.3t-.562-.375L4.7 19.375l-2.75-4.75l2.575-1.95Q4.5 12.5 4.5 12.337v-.674q0-.163.025-.338L1.95 9.375l2.75-4.75l2.975 1.25q.275-.2.575-.375t.6-.3l.4-3.2h5.5l.4 3.2q.325.125.613.3t.562.375l2.975-1.25l2.75 4.75l-2.575 1.95q.025.175.025.338v.674q0 .163-.05.338l2.575 1.95l-2.75 4.75l-2.95-1.25q-.275.2-.575.375t-.6.3l-.4 3.2h-5.5Zm2.8-6.5q1.45 0 2.475-1.025T15.55 12q0-1.45-1.025-2.475T12.05 8.5q-1.475 0-2.488 1.025T8.55 12q0 1.45 1.012 2.475T12.05 15.5Z"})})}var _;(t=>{(h=>(h.Debug="debug",h.Info="info",h.Warn="warn",h.Error="error",h.Quiet="quiet"))(t.Level||(t.Level={}));let e=new Map([["debug",1],["info",2],["warn",3],["error",4],["quiet",5]]),r="debug";function n(h){r=h}t.setLevel=n;function i(h,...g){if(!(e.get(r)>e.get(h)))switch(h){case"debug":{console.debug(...g);break}case"info":{console.log(...g);break}case"warn":{console.warn(...g);break}case"error":{console.error(...g);break}}}t.log=i;function a(...h){i("warn",...h)}t.warn=a;function s(...h){i("debug",...h)}t.debug=s;function c(...h){i("info",...h)}t.info=c;function u(...h){i("error",...h)}t.error=u})(_||(_={}));var $y=class{constructor(e){this.overrideThreadsSupport="auto",this.overrideSimdSupport="auto",this.workerCommandId=1,this.workerTasks=new Map,this.workerListeners=[];var r,n;this.libraryLocation=e.libraryLocation,this.isPreloadEngine=(r=e.preloadEngine)!=null?r:!1,this.workerMessageListener=this.onWorkerMessage.bind(this),this.dataCaptureWorker.addEventListener("message",this.workerMessageListener),this.overrideThreadsSupport=e.overrideThreadsSupport,this.overrideSimdSupport=e.overrideSimdSupport,this.verifyResponseHash=e.verifyResponseHash,this.highEndBlurryRecognition=(n=e.highEndBlurryRecognition)!=null?n:!1,typeof e.loadProgressNotifier=="function"&&this.addWorkerListener(i=>{var a;i.type==="loadLibraryProgress"&&((a=e.loadProgressNotifier)==null||a.call(e,i.payload))})}get dataCaptureWorker(){return this._dataCaptureWorker!=null||(this._dataCaptureWorker=void 0),this._dataCaptureWorker}get name(){return"CoreLoader"}get fixedWasmMemory(){return null}static async create(e){var r;let n=new this(e);return await n.workerCommand("setLogLevel",{level:(r=e.logLevel)!=null?r:_.Level.Debug}),await n.load(),n}async load(){var e;try{await this.workerCommand("loadLibrary",{libraryLocation:this.libraryLocation,locationPath:window.location.pathname,referredOrigin:window.location.origin,preloadEngine:this.isPreloadEngine,writableDataPathOverride:(e=localStorage.getItem("scanditWritableDataPathOverride"))!=null?e:void 0,overrideThreadsSupport:this.overrideThreadsSupport,overrideSimdSupport:this.overrideSimdSupport,verifyResponseHash:this.verifyResponseHash,fixedWasmMemory:this.fixedWasmMemory})}catch(r){if(r!=null&&typeof r=="object"&&typeof r.error=="string"&&r.error.includes("BlockedIndexedDB"))return await this.terminateDataCaptureWorker(!1),this.dataCaptureWorker.addEventListener("message",this.workerMessageListener),localStorage.setItem("scanditWritableDataPathOverride",`/scandit_sync_folder_${[...crypto.getRandomValues(new Uint32Array(2))].map(n=>n.toString(32)).join("")}`),this.load();throw r}}async workerCommand(e,r,n){return new Promise((i,a)=>{let s=this.workerCommandId++;this.workerTasks.set(s,{resolve:i,reject:a,command:e});let c={...r,command:e,id:s};this.dataCaptureWorker.postMessage(c,n)})}async terminateDataCaptureWorker(e=!0){var r,n;e&&await this.workerCommand("dispose",{}),(r=this._dataCaptureWorker)==null||r.removeEventListener("message",this.workerMessageListener),(n=this._dataCaptureWorker)==null||n.terminate(),this._dataCaptureWorker=void 0}addWorkerListener(e){this.workerListeners.push(e)}removeWorkerListener(e){this.workerListeners.includes(e)&&this.workerListeners.splice(this.workerListeners.indexOf(e),1)}getOptions(){return{libraryLocation:this.libraryLocation,overrideThreadsSupport:this.overrideThreadsSupport,overrideSimdSupport:this.overrideSimdSupport,verifyResponseHash:this.verifyResponseHash}}onWorkerMessage(e){let r=e.data;if(r.type==="workerTaskId"&&typeof r.id=="number"){let{id:n,error:i,payload:a}=r,s=this.workerTasks.get(n);i==null?s==null||s.resolve(a):s==null||s.reject(r),this.workerTasks.delete(n)}else for(let n of this.workerListeners)n(r)}},Hy=Object.create,gp=Object.defineProperty,Gy=Object.getOwnPropertyDescriptor,Jy=Object.getOwnPropertyNames,Yy=Object.getPrototypeOf,Qy=Object.prototype.hasOwnProperty,Tc=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),qy=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of Jy(e))!Qy.call(t,i)&&i!==r&&gp(t,i,{get:()=>e[i],enumerable:!(n=Gy(e,i))||n.enumerable});return t},Oc=(t,e,r)=>(r=t!=null?Hy(Yy(t)):{},qy(e||!t||!t.__esModule?gp(r,"default",{value:t,enumerable:!0}):r,t)),Mt=class vp extends Error{constructor(e){super(e.message),Object.setPrototypeOf(this,vp.prototype),this.name=e.name}toString(){return`${this.name}: ${this.message}`}};function Zy(t,e=location){return t+=t.endsWith("/")?"":"/",/^https?:\/\//.test(t)?t:(t=t.split("/").filter(r=>r.length>0).join("/"),t=t===""?"/":`/${t}/`,e.protocol==="file:"||e.origin==="null"?`${e.href.split("/").slice(0,-1).join("/")}${t}`:`${e.origin}${t}`)}var Ky=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11])),Xy=()=>(async t=>{try{return typeof MessageChannel<"u"&&new MessageChannel().port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(t)}catch{return!1}})(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11]));function yp(){return typeof crossOriginIsolated>"u"?!1:crossOriginIsolated}function wp(){try{return new WebAssembly.Memory({initial:1,maximum:1,shared:!0}).buffer.constructor.name==="SharedArrayBuffer"}catch{return!1}}async function ew(){return Ky()}async function Sp(){if(!await Xy())return!1;let t=null;try{t=new Worker(URL.createObjectURL(new Blob(['postMessage("Worker" in self);'],{type:"text/javascript"})),{name:"nestedWorkerTest"})}catch{return!1}return new Promise(e=>{if(t==null){e(!1);return}t.onmessage=r=>{t==null||t.terminate(),e(r.data)}})}async function tw(){let t=await Sp();return yp()&&wp()&&t}function rw(t){return typeof t=="object"&&t!=null}function Cp(t){console.warn("Reached unexpected case",t)}var nw='data:image/svg+xml,<svg width="32" height="32" viewBox="0 0 32 32" fill="none"%0A    xmlns="http://www.w3.org/2000/svg">%0A    <rect opacity="0.35" width="32" height="32" rx="16" fill="%23DAE1E7" />%0A<path d="M7.98828 21.082C8.59668 21.082 9.08887 20.5898 9.08887 19.9814C9.08887 19.3662 8.59668 18.8809 7.98828 18.8809C7.37305 18.8809 6.8877 19.3662 6.8877 19.9814C6.8877 20.5898 7.37305 21.082 7.98828 21.082Z" fill="%23F1F5F8" />%0A<path d="M14.3662 21.2188C16.6152 21.2188 18.1807 19.7969 18.1807 17.6914C18.1807 15.8115 16.8408 14.4854 14.9541 14.4854C13.9492 14.4854 13.1426 14.8818 12.7393 15.5176H12.6982L12.9307 12.7764H16.8271C17.3467 12.7764 17.6748 12.4551 17.6748 11.9561C17.6748 11.457 17.3398 11.1357 16.8271 11.1357H12.5C11.7002 11.1357 11.2695 11.4707 11.2012 12.3047L10.9141 15.9209C10.9072 15.9551 10.9072 15.9756 10.9072 16.0029C10.8799 16.5566 11.2012 17.0283 11.8779 17.0283C12.3359 17.0283 12.541 16.9258 12.9443 16.5498C13.293 16.2148 13.7852 15.9619 14.373 15.9619C15.4463 15.9619 16.2119 16.7002 16.2119 17.7393C16.2119 18.8057 15.4395 19.5781 14.3662 19.5781C13.4775 19.5781 12.8965 19.1475 12.541 18.4365C12.3086 18.0674 12.0488 17.9238 11.6387 17.9238C11.1055 17.9238 10.7773 18.2383 10.7773 18.7646C10.7773 19.0107 10.8389 19.2227 10.9414 19.4414C11.4336 20.4873 12.8008 21.2188 14.3662 21.2188Z" fill="%23F1F5F8" />%0A<path d="M19.9307 21.1436C20.2861 21.1436 20.4844 21.0273 20.7578 20.6035L22.1865 18.457H22.2275L23.6836 20.6377C23.9092 20.9795 24.1006 21.1436 24.4902 21.1436C25.0303 21.1436 25.4404 20.8018 25.4404 20.2617C25.4404 20.043 25.3721 19.8516 25.2217 19.6465L23.5195 17.2949L25.1943 15.0596C25.3857 14.8135 25.4609 14.6152 25.4609 14.3691C25.4609 13.8633 25.085 13.5215 24.5244 13.5215C24.1553 13.5215 23.9434 13.6855 23.6768 14.1025L22.3369 16.1465H22.2959L20.9287 14.0889C20.6621 13.665 20.4502 13.5215 20.0469 13.5215C19.5 13.5215 19.0898 13.8975 19.0898 14.3965C19.0898 14.6289 19.1582 14.8271 19.3018 15.0186L21.0107 17.3496L19.2949 19.6465C19.1035 19.8994 19.0283 20.0908 19.0283 20.3301C19.0283 20.8086 19.4043 21.1436 19.9307 21.1436Z" fill="%23F1F5F8" />%0A%0A</svg>%0A',iw='data:image/svg+xml,<svg width="32" height="32" viewBox="0 0 32 32" fill="none"%0A    xmlns="http://www.w3.org/2000/svg">%0A    <rect opacity="0.35" width="32" height="32" rx="16" fill="%23DAE1E7" />%0A<path d="M12.2881 21.1436C12.8965 21.1436 13.3066 20.7334 13.3066 20.1113V12.1406C13.3066 11.4297 12.8691 10.9854 12.1377 10.9854C11.7139 10.9854 11.3857 11.0469 10.9072 11.375L8.95215 12.7285C8.63086 12.9541 8.50781 13.1865 8.50781 13.501C8.50781 13.9385 8.81543 14.2393 9.23242 14.2393C9.44434 14.2393 9.58789 14.1914 9.7793 14.0547L11.2217 13.0498H11.2627V20.1113C11.2627 20.7334 11.6797 21.1436 12.2881 21.1436ZM16.9023 20.3164C17.2441 20.3164 17.4014 20.1865 17.6816 19.9131L19.3633 18.2451L21.0381 19.9062C21.3184 20.1865 21.4824 20.3164 21.8174 20.3164C22.2617 20.3164 22.6377 19.9746 22.6377 19.5234C22.6377 19.2158 22.4873 19.0176 22.2549 18.7852L20.5254 17.0488L22.2549 15.3057C22.4873 15.0732 22.6377 14.875 22.6377 14.5674C22.6377 14.1162 22.2617 13.7744 21.8174 13.7744C21.4824 13.7744 21.3184 13.9043 21.0381 14.1846L19.3633 15.8457L17.6885 14.1846C17.4082 13.9043 17.251 13.7744 16.9092 13.7744C16.4648 13.7744 16.0889 14.1162 16.0889 14.5674C16.0889 14.8818 16.2393 15.0732 16.4717 15.3057L18.1943 17.0488L16.4717 18.7852C16.2324 19.0244 16.0889 19.2158 16.0889 19.5234C16.0889 19.9814 16.458 20.3164 16.9023 20.3164Z" fill="%23F1F5F8" />%0A%0A</svg>%0A',aw='data:image/svg+xml,<svg width="32" height="32" viewBox="0 0 32 32" fill="none"%0A    xmlns="http://www.w3.org/2000/svg">%0A    <rect opacity="0.5" width="32" height="32" rx="16" fill="white" />%0A<path d="M7.98828 21.082C8.59668 21.082 9.08887 20.5898 9.08887 19.9814C9.08887 19.3662 8.59668 18.8809 7.98828 18.8809C7.37305 18.8809 6.8877 19.3662 6.8877 19.9814C6.8877 20.5898 7.37305 21.082 7.98828 21.082Z" fill="white" />%0A<path d="M14.3662 21.2188C16.6152 21.2188 18.1807 19.7969 18.1807 17.6914C18.1807 15.8115 16.8408 14.4854 14.9541 14.4854C13.9492 14.4854 13.1426 14.8818 12.7393 15.5176H12.6982L12.9307 12.7764H16.8271C17.3467 12.7764 17.6748 12.4551 17.6748 11.9561C17.6748 11.457 17.3398 11.1357 16.8271 11.1357H12.5C11.7002 11.1357 11.2695 11.4707 11.2012 12.3047L10.9141 15.9209C10.9072 15.9551 10.9072 15.9756 10.9072 16.0029C10.8799 16.5566 11.2012 17.0283 11.8779 17.0283C12.3359 17.0283 12.541 16.9258 12.9443 16.5498C13.293 16.2148 13.7852 15.9619 14.373 15.9619C15.4463 15.9619 16.2119 16.7002 16.2119 17.7393C16.2119 18.8057 15.4395 19.5781 14.3662 19.5781C13.4775 19.5781 12.8965 19.1475 12.541 18.4365C12.3086 18.0674 12.0488 17.9238 11.6387 17.9238C11.1055 17.9238 10.7773 18.2383 10.7773 18.7646C10.7773 19.0107 10.8389 19.2227 10.9414 19.4414C11.4336 20.4873 12.8008 21.2188 14.3662 21.2188Z" fill="white" />%0A<path d="M19.9307 21.1436C20.2861 21.1436 20.4844 21.0273 20.7578 20.6035L22.1865 18.457H22.2275L23.6836 20.6377C23.9092 20.9795 24.1006 21.1436 24.4902 21.1436C25.0303 21.1436 25.4404 20.8018 25.4404 20.2617C25.4404 20.043 25.3721 19.8516 25.2217 19.6465L23.5195 17.2949L25.1943 15.0596C25.3857 14.8135 25.4609 14.6152 25.4609 14.3691C25.4609 13.8633 25.085 13.5215 24.5244 13.5215C24.1553 13.5215 23.9434 13.6855 23.6768 14.1025L22.3369 16.1465H22.2959L20.9287 14.0889C20.6621 13.665 20.4502 13.5215 20.0469 13.5215C19.5 13.5215 19.0898 13.8975 19.0898 14.3965C19.0898 14.6289 19.1582 14.8271 19.3018 15.0186L21.0107 17.3496L19.2949 19.6465C19.1035 19.8994 19.0283 20.0908 19.0283 20.3301C19.0283 20.8086 19.4043 21.1436 19.9307 21.1436Z" fill="white" />%0A%0A</svg>%0A',ow='data:image/svg+xml,<?xml version="1.0" encoding="UTF-8"?>%0A<svg width="24px" height="24px" viewBox="0 0 24 24" version="1.1"%0A    xmlns="http://www.w3.org/2000/svg"%0A    xmlns:xlink="http://www.w3.org/1999/xlink">%0A    <title>Icons / With Shadow / Clicked / Camera Rotate Back</title>%0A    <defs>%0A        <filter x="-106.3%" y="-106.2%" width="312.5%" height="312.5%" filterUnits="objectBoundingBox" id="filter-1">%0A            <feOffset dx="0" dy="0" in="SourceAlpha" result="shadowOffsetOuter1"></feOffset>%0A            <feGaussianBlur stdDeviation="4" in="shadowOffsetOuter1" result="shadowBlurOuter1"></feGaussianBlur>%0A            <feColorMatrix values="0 0 0 0 0.105882353   0 0 0 0 0.125490196   0 0 0 0 0.149019608  0 0 0 0.32 0" type="matrix" in="shadowBlurOuter1" result="shadowMatrixOuter1"></feColorMatrix>%0A            <feMerge>%0A                <feMergeNode in="shadowMatrixOuter1"></feMergeNode>%0A                <feMergeNode in="SourceGraphic"></feMergeNode>%0A            </feMerge>%0A        </filter>%0A    </defs>%0A    <g id="Icons-/-With-Shadow-/-Clicked-/-Camera-Rotate-Back" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">%0A        <rect id="Bg" fill="%23FFFFFF" opacity="0" x="0" y="0" width="24" height="24"></rect>%0A        <g id="camera-rotate" filter="url(%23filter-1)" opacity="0.639999986" transform="translate(12.000000, 12.000000) scale(-1, 1) translate(-12.000000, -12.000000) translate(4.000000, 4.000000)" stroke="%23FFFFFF" stroke-linejoin="round" stroke-width="2">%0A            <polyline id="Path" stroke-linecap="round" transform="translate(4.000000, 14.000000) scale(1, -1) rotate(-360.000000) translate(-4.000000, -14.000000) " points="3 12 5 14 3 16"></polyline>%0A            <circle id="Oval" cx="8" cy="8" r="2"></circle>%0A            <path d="M8,3 L14,3 C15.1045695,3 16,3.8954305 16,5 L16,12 C16,13.1045695 15.1045695,14 14,14 L12,14 L12,14" id="Path-2" stroke-linecap="round" transform="translate(12.000000, 8.500000) scale(1, -1) translate(-12.000000, -8.500000) "></path>%0A            <polyline id="Path" stroke-linecap="round" transform="translate(12.000000, 3.000000) rotate(-180.000000) translate(-12.000000, -3.000000) " points="11 1 13 3 11 5"></polyline>%0A            <path d="M4,14 L2,14 C0.8954305,14 1.3527075e-16,13.1045695 0,12 L0,5 C-1.3527075e-16,3.8954305 0.8954305,3 2,3 L2.5,3 C3.32842712,3 4,2.32842712 4,1.5 C4,0.671572875 4.67157288,1.52179594e-16 5.5,0 L10,0 L10,0" id="Path-2" stroke-linecap="round"></path>%0A        </g>%0A    </g>%0A</svg>%0A',sw='data:image/svg+xml,<svg width="32" height="32" viewBox="0 0 32 32" fill="none"%0A    xmlns="http://www.w3.org/2000/svg">%0A    <rect opacity="0.5" width="32" height="32" rx="16" fill="white" />%0A<path d="M12.2881 21.1436C12.8965 21.1436 13.3066 20.7334 13.3066 20.1113V12.1406C13.3066 11.4297 12.8691 10.9854 12.1377 10.9854C11.7139 10.9854 11.3857 11.0469 10.9072 11.375L8.95215 12.7285C8.63086 12.9541 8.50781 13.1865 8.50781 13.501C8.50781 13.9385 8.81543 14.2393 9.23242 14.2393C9.44434 14.2393 9.58789 14.1914 9.7793 14.0547L11.2217 13.0498H11.2627V20.1113C11.2627 20.7334 11.6797 21.1436 12.2881 21.1436ZM16.9023 20.3164C17.2441 20.3164 17.4014 20.1865 17.6816 19.9131L19.3633 18.2451L21.0381 19.9062C21.3184 20.1865 21.4824 20.3164 21.8174 20.3164C22.2617 20.3164 22.6377 19.9746 22.6377 19.5234C22.6377 19.2158 22.4873 19.0176 22.2549 18.7852L20.5254 17.0488L22.2549 15.3057C22.4873 15.0732 22.6377 14.875 22.6377 14.5674C22.6377 14.1162 22.2617 13.7744 21.8174 13.7744C21.4824 13.7744 21.3184 13.9043 21.0381 14.1846L19.3633 15.8457L17.6885 14.1846C17.4082 13.9043 17.251 13.7744 16.9092 13.7744C16.4648 13.7744 16.0889 14.1162 16.0889 14.5674C16.0889 14.8818 16.2393 15.0732 16.4717 15.3057L18.1943 17.0488L16.4717 18.7852C16.2324 19.0244 16.0889 19.2158 16.0889 19.5234C16.0889 19.9814 16.458 20.3164 16.9023 20.3164Z" fill="white" />%0A%0A</svg>%0A',lw='data:image/svg+xml,<svg viewBox="0 0 24 24"%0A    xmlns="http://www.w3.org/2000/svg">%0A    <defs>%0A        <filter x="-121.5%" y="-88.9%" width="343%" height="277.8%" filterUnits="objectBoundingBox" id="prefix__a">%0A            <feOffset in="SourceAlpha" result="shadowOffsetOuter1"/>%0A            <feGaussianBlur stdDeviation="4" in="shadowOffsetOuter1" result="shadowBlurOuter1"/>%0A            <feColorMatrix values="0 0 0 0 0.105882353 0 0 0 0 0.125490196 0 0 0 0 0.149019608 0 0 0 0.32 0" in="shadowBlurOuter1" result="shadowMatrixOuter1"/>%0A            <feMerge>%0A                <feMergeNode in="shadowMatrixOuter1"/>%0A                <feMergeNode in="SourceGraphic"/>%0A            </feMerge>%0A        </filter>%0A    </defs>%0A    <g filter="url(%23prefix__a)" opacity=".64" transform="translate(3.742 3)" fill="%23FFF" fill-rule="nonzero">%0A        <path d="M4.223 17.946a.75.75 0 01-.456-.83L5.105 9.75h-3.6a.75.75 0 01-.727-.946l1.183-4.335L.22 2.728a.75.75 0 111.06-1.062l11.668 11.668a.75.75 0 01-1.06 1.06L9.14 11.646l-4.013 6.02a.75.75 0 01-.904.28zM10.838 9.1L2.872 1.135l.159-.58A.75.75 0 013.755 0h5.25a.75.75 0 01.722.959L8.499 5.25h3.505a.75.75 0 01.626 1.167l-1.79 2.684h-.002z"/>%0A    </g>%0A</svg>%0A',uw='data:image/svg+xml,<?xml version="1.0" encoding="UTF-8"?>%0A<svg width="24px" height="24px" viewBox="0 0 24 24" version="1.1"%0A    xmlns="http://www.w3.org/2000/svg"%0A    xmlns:xlink="http://www.w3.org/1999/xlink">%0A    <title>Icons / With Shadow / Normal / Camera Rotate Back</title>%0A    <defs>%0A        <filter x="-106.3%" y="-106.2%" width="312.5%" height="312.5%" filterUnits="objectBoundingBox" id="filter-1">%0A            <feOffset dx="0" dy="0" in="SourceAlpha" result="shadowOffsetOuter1"></feOffset>%0A            <feGaussianBlur stdDeviation="4" in="shadowOffsetOuter1" result="shadowBlurOuter1"></feGaussianBlur>%0A            <feColorMatrix values="0 0 0 0 0.105882353   0 0 0 0 0.125490196   0 0 0 0 0.149019608  0 0 0 0.32 0" type="matrix" in="shadowBlurOuter1" result="shadowMatrixOuter1"></feColorMatrix>%0A            <feMerge>%0A                <feMergeNode in="shadowMatrixOuter1"></feMergeNode>%0A                <feMergeNode in="SourceGraphic"></feMergeNode>%0A            </feMerge>%0A        </filter>%0A    </defs>%0A    <g id="Icons-/-With-Shadow-/-Normal-/-Camera-Rotate-Back" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">%0A        <rect id="Bg" fill="%23FFFFFF" opacity="0" x="0" y="0" width="24" height="24"></rect>%0A        <g id="camera-rotate" filter="url(%23filter-1)" transform="translate(12.000000, 12.000000) scale(-1, 1) translate(-12.000000, -12.000000) translate(4.000000, 4.000000)" stroke="%23FFFFFF" stroke-linejoin="round" stroke-width="2">%0A            <polyline id="Path" stroke-linecap="round" transform="translate(4.000000, 14.000000) scale(1, -1) rotate(-360.000000) translate(-4.000000, -14.000000) " points="3 12 5 14 3 16"></polyline>%0A            <circle id="Oval" cx="8" cy="8" r="2"></circle>%0A            <path d="M8,3 L14,3 C15.1045695,3 16,3.8954305 16,5 L16,12 C16,13.1045695 15.1045695,14 14,14 L12,14 L12,14" id="Path-2" stroke-linecap="round" transform="translate(12.000000, 8.500000) scale(1, -1) translate(-12.000000, -8.500000) "></path>%0A            <polyline id="Path" stroke-linecap="round" transform="translate(12.000000, 3.000000) rotate(-180.000000) translate(-12.000000, -3.000000) " points="11 1 13 3 11 5"></polyline>%0A            <path d="M4,14 L2,14 C0.8954305,14 1.3527075e-16,13.1045695 0,12 L0,5 C-1.3527075e-16,3.8954305 0.8954305,3 2,3 L2.5,3 C3.32842712,3 4,2.32842712 4,1.5 C4,0.671572875 4.67157288,1.52179594e-16 5.5,0 L10,0 L10,0" id="Path-2" stroke-linecap="round"></path>%0A        </g>%0A    </g>%0A</svg>%0A',cw='data:image/svg+xml,<svg viewBox="0 0 24 24"%0A    xmlns="http://www.w3.org/2000/svg">%0A    <defs>%0A        <filter x="-133.3%" y="-88.9%" width="366.6%" height="277.8%" filterUnits="objectBoundingBox" id="prefix__a">%0A            <feOffset in="SourceAlpha" result="shadowOffsetOuter1"/>%0A            <feGaussianBlur stdDeviation="4" in="shadowOffsetOuter1" result="shadowBlurOuter1"/>%0A            <feColorMatrix values="0 0 0 0 0.105882353 0 0 0 0 0.125490196 0 0 0 0 0.149019608 0 0 0 0.32 0" in="shadowBlurOuter1" result="shadowMatrixOuter1"/>%0A            <feMerge>%0A                <feMergeNode in="shadowMatrixOuter1"/>%0A                <feMergeNode in="SourceGraphic"/>%0A            </feMerge>%0A        </filter>%0A    </defs>%0A    <g filter="url(%23prefix__a)" opacity=".64" transform="translate(4.5 3)" fill="%23FFF" fill-rule="nonzero">%0A        <path d="M11.25 5.25H7.745L8.972.956A.75.75 0 008.25 0H3a.75.75 0 00-.724.553l-2.25 8.25a.75.75 0 00.724.947h3.6l-1.338 7.366a.75.75 0 001.363.55l7.5-11.25a.75.75 0 00-.625-1.166z"/>%0A    </g>%0A</svg>%0A',dw='data:image/svg+xml,<svg viewBox="0 0 24 24"%0A    xmlns="http://www.w3.org/2000/svg">%0A    <defs>%0A        <filter x="-114.3%" y="-88.9%" width="328.6%" height="277.8%" filterUnits="objectBoundingBox" id="prefix__a">%0A            <feOffset in="SourceAlpha" result="shadowOffsetOuter1"/>%0A            <feGaussianBlur stdDeviation="4" in="shadowOffsetOuter1" result="shadowBlurOuter1"/>%0A            <feColorMatrix values="0 0 0 0 0.105882353 0 0 0 0 0.125490196 0 0 0 0 0.149019608 0 0 0 0.32 0" in="shadowBlurOuter1" result="shadowMatrixOuter1"/>%0A            <feMerge>%0A                <feMergeNode in="shadowMatrixOuter1"/>%0A                <feMergeNode in="SourceGraphic"/>%0A            </feMerge>%0A        </filter>%0A    </defs>%0A    <g filter="url(%23prefix__a)" transform="translate(3 3)" fill="%23FFF" fill-rule="nonzero">%0A        <path d="M4.966 17.946a.75.75 0 01-.457-.83L5.848 9.75h-3.6a.75.75 0 01-.727-.946l1.182-4.335-1.74-1.74a.75.75 0 111.06-1.062L13.69 13.334a.75.75 0 01-1.061 1.06l-2.748-2.748-4.012 6.02a.75.75 0 01-.904.28zM11.58 9.1L3.614 1.135l.16-.58A.75.75 0 014.496 0h5.25a.75.75 0 01.722.959L9.242 5.25h3.504a.75.75 0 01.627 1.167l-1.79 2.684h-.002z"/>%0A    </g>%0A</svg>%0A',hw='data:image/svg+xml,<svg viewBox="0 0 24 24"%0A    xmlns="http://www.w3.org/2000/svg">%0A    <defs>%0A        <filter x="-133.3%" y="-88.9%" width="366.6%" height="277.8%" filterUnits="objectBoundingBox" id="prefix__a">%0A            <feOffset in="SourceAlpha" result="shadowOffsetOuter1"/>%0A            <feGaussianBlur stdDeviation="4" in="shadowOffsetOuter1" result="shadowBlurOuter1"/>%0A            <feColorMatrix values="0 0 0 0 0.105882353 0 0 0 0 0.125490196 0 0 0 0 0.149019608 0 0 0 0.32 0" in="shadowBlurOuter1" result="shadowMatrixOuter1"/>%0A            <feMerge>%0A                <feMergeNode in="shadowMatrixOuter1"/>%0A                <feMergeNode in="SourceGraphic"/>%0A            </feMerge>%0A        </filter>%0A    </defs>%0A    <g filter="url(%23prefix__a)" transform="translate(4.5 3)" fill="%23FFF" fill-rule="nonzero">%0A        <path d="M11.25 5.25H7.745L8.972.956A.75.75 0 008.25 0H3a.75.75 0 00-.724.553l-2.25 8.25a.75.75 0 00.724.947h3.6l-1.338 7.366a.75.75 0 001.363.55l7.5-11.25a.75.75 0 00-.625-1.166z"/>%0A    </g>%0A</svg>%0A',Je={CONTAINER_CLASS_NAME:"scandit-container",PAINTBOARDS_CONTAINER_CLASS_NAME:"scandit-paintboards",PAINTBOARD_CLASS_NAME:"scandit-paintboard",PAINTBOARD_CLASS_NAME_STATE_ON:"scandit-paintboard--camera-on",CONTROLS_CLASS_NAME:"scandit-controls",CONTROL_WIDGET_CLASS_NAME:"scandit-control-widget",MIRRORED_CLASS_NAME:"scandit-mirrored",CAMERA_RECOVERY_CLASS_NAME:"scandit-camera-recovery",ERROR_CLASS_NAME:"scandit-error",HINT_CONTAINER_CLASS_NAME:"scandit-hint-container",HINT_CLASS_NAME:"scandit-hint",SINGLE_IMAGE_UPLOADER_CONTAINER_CLASS_NAME:"scandit-single-image-uploader-container",CANVAS_VIDEO_PREVIEW_CLASS_NAME:"scandit-canvas-video-preview",TORCH_SWITCH_CONTROL_CLASS_NAME:"torch",CAMERA_SWITCH_CONTROL_CLASS_NAME:"camera",CAMERA_FOV_SWITCH_CONTROL_CLASS_NAME:"camera-fov",SHUTTER_BUTTON_CONTROL_CLASS_NAME:"shutter",FROZEN_FRAME:"frozen-frame"},z={CONTAINER_CLASS_NAME:Je.CONTAINER_CLASS_NAME,PAINTBOARD_CLASS_NAME:Je.PAINTBOARD_CLASS_NAME,PAINTBOARD_CLASS_NAME_STATE_ON:Je.PAINTBOARD_CLASS_NAME_STATE_ON,CONTROLS_CLASS_NAME:Je.CONTROLS_CLASS_NAME,CONTROL_WIDGET_CLASS_NAME:Je.CONTROL_WIDGET_CLASS_NAME,MIRRORED_CLASS_NAME:Je.MIRRORED_CLASS_NAME,CAMERA_RECOVERY_CLASS_NAME:Je.CAMERA_RECOVERY_CLASS_NAME,ERROR_CLASS_NAME:Je.ERROR_CLASS_NAME,HINT_CONTAINER_CLASS_NAME:Je.HINT_CONTAINER_CLASS_NAME,HINT_CLASS_NAME:Je.HINT_CLASS_NAME,PAINTBOARDS_CONTAINER_CLASS_NAME:Je.PAINTBOARDS_CONTAINER_CLASS_NAME,SINGLE_IMAGE_UPLOADER_CONTAINER_CLASS_NAME:Je.SINGLE_IMAGE_UPLOADER_CONTAINER_CLASS_NAME,CANVAS_VIDEO_PREVIEW_CLASS_NAME:Je.CANVAS_VIDEO_PREVIEW_CLASS_NAME,TORCH_SWITCH_CONTROL_CLASS_NAME:Je.TORCH_SWITCH_CONTROL_CLASS_NAME,CAMERA_SWITCH_CONTROL_CLASS_NAME:Je.CAMERA_SWITCH_CONTROL_CLASS_NAME,CAMERA_FOV_SWITCH_CONTROL_CLASS_NAME:Je.CAMERA_FOV_SWITCH_CONTROL_CLASS_NAME,SHUTTER_BUTTON_CONTROL_CLASS_NAME:Je.SHUTTER_BUTTON_CONTROL_CLASS_NAME,FROZEN_FRAME:Je.FROZEN_FRAME},Nc=class{toJSONObject(){return{type:this.type}}},fw=class extends Nc{constructor(){super(...arguments),this.type="torch",this.view=null,this.icon={on:{idle:hw,pressed:cw},off:{idle:dw,pressed:lw}}}get torchOffImage(){return this.icon.off.idle}set torchOffImage(e){var r;this.icon.off.idle=e,(r=this.view)==null||r.controlsUpdated()}get torchOffPressedImage(){return this.icon.off.pressed}set torchOffPressedImage(e){var r;this.icon.off.pressed=e,(r=this.view)==null||r.controlsUpdated()}get torchOnImage(){return this.icon.on.idle}set torchOnImage(e){var r;this.icon.on.idle=e,(r=this.view)==null||r.controlsUpdated()}get torchOnPressedImage(){return this.icon.on.pressed}set torchOnPressedImage(e){var r;this.icon.on.pressed=e,(r=this.view)==null||r.controlsUpdated()}};fw.CLASS_NAME=z.TORCH_SWITCH_CONTROL_CLASS_NAME;var Ap=class extends Nc{constructor(){super(...arguments),this.type="camera",this.view=null,this.icon={idle:uw,pressed:ow}}get idleImage(){return this.icon.idle}set idleImage(e){var r;this.icon.idle=e,(r=this.view)==null||r.controlsUpdated()}get pressedImage(){return this.icon.pressed}set pressedImage(e){var r;this.icon.pressed=e,(r=this.view)==null||r.controlsUpdated()}};Ap.CLASS_NAME=z.CAMERA_SWITCH_CONTROL_CLASS_NAME;var mw=class extends Nc{constructor(){super(...arguments),this.type="camera-fov",this.view=null,this.icon={wide:{idle:sw,pressed:iw},ultraWide:{idle:aw,pressed:nw}}}get cameraFOVUltraWideImage(){return this.icon.ultraWide.idle}set cameraFOVUltraWideImage(e){var r;this.icon.ultraWide.idle=e,(r=this.view)==null||r.controlsUpdated()}get cameraFOVUltraWidePressedImage(){return this.icon.ultraWide.pressed}set cameraFOVUltraWidePressedImage(e){var r;this.icon.ultraWide.pressed=e,(r=this.view)==null||r.controlsUpdated()}get cameraFOVWideImage(){return this.icon.wide.idle}set cameraFOVWideImage(e){var r;this.icon.wide.idle=e,(r=this.view)==null||r.controlsUpdated()}get cameraFOVWidePressedImage(){return this.icon.wide.pressed}set cameraFOVWidePressedImage(e){var r;this.icon.wide.pressed=e,(r=this.view)==null||r.controlsUpdated()}};mw.CLASS_NAME=z.CAMERA_FOV_SWITCH_CONTROL_CLASS_NAME;var pw=class{constructor(){this.type="none"}toJSONObject(){return{type:this.type}}},gw=new pw;async function vw(t,e){let r=document.createElement("canvas");r.width=this.width,r.height=this.height;let n=r.getContext("2d");if(!n)throw new Error("Could not get 2d context from an HTMLCanvasElement");let i=await this.getData();return i==null?null:(n.putImageData(new ImageData(i,this.width,this.height),0,0),new Promise((a,s)=>{r.toBlob(c=>{if(r=null,n=null,c===null){s(new Error("Could not create Blob object from canvas"));return}a(c)},t,e)}))}function yw(t,e){let r={width:t.width,height:t.height,isFrameSourceMirrored:t.isFrameSourceMirrored,getData:async()=>(await e.requestFrameData(t.frameId)).data};return r.toBlob=vw.bind(r),r}var Ye=class fu{constructor(e,r){this._x=e,this._y=r}get x(){return this._x}get y(){return this._y}static mirrorX(e,r){let n=e.x-r.width;return n*=-1,new fu(n,e.y)}static fromJSON(e){return new fu(e.x,e.y)}toJSONObject(){return{x:this.x,y:this.y}}},Cs=class bp{constructor(e,r,n,i){this._topLeft=e,this._topRight=r,this._bottomRight=n,this._bottomLeft=i}get topLeft(){return this._topLeft}get topRight(){return this._topRight}get bottomRight(){return this._bottomRight}get bottomLeft(){return this._bottomLeft}static fromJSON(e){return new bp(Ye.fromJSON(e.topLeft),Ye.fromJSON(e.topRight),Ye.fromJSON(e.bottomRight),Ye.fromJSON(e.bottomLeft))}toJSONObject(){return{topLeft:this.topLeft.toJSONObject(),topRight:this.topRight.toJSONObject(),bottomLeft:this.bottomLeft.toJSONObject(),bottomRight:this.bottomRight.toJSONObject()}}},mu=(t=>(t.Pixel="pixel",t.Fraction="fraction",t))(mu||{}),We=class _p{constructor(e,r){this._value=e,this._unit=r}get value(){return this._value}get unit(){return this._unit}static fromJSON(e){return new _p(e.value,e.unit)}toJSONObject(){return{unit:this.unit,value:this.value}}},_h=class pu{constructor(e,r){this._x=e,this._y=r}static get zero(){return new pu(new We(0,"pixel"),new We(0,"pixel"))}get x(){return this._x}get y(){return this._y}static fromJSON(e){return new pu(We.fromJSON(e.x),We.fromJSON(e.y))}toJSONObject(){return{x:this.x.toJSONObject(),y:this.y.toJSONObject()}}},ww=class{constructor(e,r){this._origin=e,this._size=r}get origin(){return this._origin}get size(){return this._size}toJSONObject(){return{origin:this.origin.toJSONObject(),size:this.size.toJSONObject()}}},Ep=class xp{constructor(e,r){this._width=e,this._height=r}get width(){return this._width}get height(){return this._height}static fromJSON(e){return new xp(We.fromJSON(e.width),We.fromJSON(e.height))}isSameAs(e){return JSON.stringify(this.toJSONObject())===JSON.stringify(e.toJSONObject())}toJSONObject(){return{width:this.width.toJSONObject(),height:this.height.toJSONObject()}}},ea=class Mp{constructor(e,r){this._width=e,this._height=r}get width(){return this._width}get height(){return this._height}static fromJSON(e){return new Mp(e.width,e.height)}toJSONObject(){return{height:this.height,width:this.width}}},nl=class{constructor(e,r){this._size=e,this._aspect=r}get size(){return this._size}get aspect(){return this._aspect}},Sw=(t=>(t.WidthAndHeight="widthAndHeight",t.WidthAndAspectRatio="widthAndAspectRatio",t.HeightAndAspectRatio="heightAndAspectRatio",t.ShorterDimensionAndAspectRatio="shorterDimensionAndAspectRatio",t))(Sw||{}),Cw=class Fi{constructor(){this._shorterDimensionAndAspectRatio=null}get widthAndHeight(){return this._widthAndHeight}get widthAndAspectRatio(){return this._widthAndAspectRatio}get heightAndAspectRatio(){return this._heightAndAspectRatio}get shorterDimensionAndAspectRatio(){return this._shorterDimensionAndAspectRatio}get sizingMode(){return this.widthAndAspectRatio?"widthAndAspectRatio":this.heightAndAspectRatio?"heightAndAspectRatio":this.shorterDimensionAndAspectRatio?"shorterDimensionAndAspectRatio":"widthAndHeight"}static sizeWithWidthAndHeight(e){let r=new Fi;return r._widthAndHeight=e,r}static sizeWithWidthAndAspectRatio(e,r){let n=new Fi;return n._widthAndAspectRatio=new nl(e,r),n}static sizeWithHeightAndAspectRatio(e,r){let n=new Fi;return n._heightAndAspectRatio=new nl(e,r),n}static sizeWithShorterDimensionAndAspectRatio(e,r){let n=new Fi;return n._shorterDimensionAndAspectRatio=new nl(e,r),n}static fromJSON(e){if(e.width&&e.height)return this.sizeWithWidthAndHeight(new Ep(We.fromJSON(e.width),We.fromJSON(e.height)));if(e.width&&typeof e.aspect=="number")return this.sizeWithWidthAndAspectRatio(We.fromJSON(e.width),e.aspect);if(e.height&&typeof e.aspect=="number")return this.sizeWithHeightAndAspectRatio(We.fromJSON(e.height),e.aspect);if(e.shorterDimension&&typeof e.aspect=="number")return this.sizeWithShorterDimensionAndAspectRatio(We.fromJSON(e.shorterDimension),e.aspect);throw new Error(`SizeWithUnitAndAspectJSON is malformed: ${JSON.stringify(e)}`)}toJSONObject(){var e,r,n,i,a,s,c,u;switch(this.sizingMode){case"widthAndAspectRatio":return{width:(e=this.widthAndAspectRatio)==null?void 0:e.size.toJSONObject(),aspect:(r=this.widthAndAspectRatio)==null?void 0:r.aspect};case"heightAndAspectRatio":return{height:(n=this.heightAndAspectRatio)==null?void 0:n.size.toJSONObject(),aspect:(i=this.heightAndAspectRatio)==null?void 0:i.aspect};case"shorterDimensionAndAspectRatio":return{shorterDimension:(a=this.shorterDimensionAndAspectRatio)==null?void 0:a.size.toJSONObject(),aspect:(s=this.shorterDimensionAndAspectRatio)==null?void 0:s.aspect};default:return{width:(c=this.widthAndHeight)==null?void 0:c.width.toJSONObject(),height:(u=this.widthAndHeight)==null?void 0:u.height.toJSONObject()}}}},Aw=class gu{constructor(e,r,n,i){this._left=e,this._top=r,this._right=n,this._bottom=i}static get zero(){return new gu(new We(0,"pixel"),new We(0,"pixel"),new We(0,"pixel"),new We(0,"pixel"))}get left(){return this._left}get right(){return this._right}get top(){return this._top}get bottom(){return this._bottom}static fromJSON(e){return new gu(We.fromJSON(e.left),We.fromJSON(e.top),We.fromJSON(e.right),We.fromJSON(e.bottom))}toJSONObject(){return{left:this.left.toJSONObject(),right:this.right.toJSONObject(),top:this.top.toJSONObject(),bottom:this.bottom.toJSONObject()}}},ie=class Rt{constructor(e){this.hexadecimalString=e}get redComponent(){return this.hexadecimalString.slice(0,2)}get greenComponent(){return this.hexadecimalString.slice(2,4)}get blueComponent(){return this.hexadecimalString.slice(4,6)}get alphaComponent(){return this.hexadecimalString.slice(6,8)}get red(){return Rt.hexToNumber(this.redComponent)}get green(){return Rt.hexToNumber(this.greenComponent)}get blue(){return Rt.hexToNumber(this.blueComponent)}get alpha(){return Rt.hexToNumber(this.alphaComponent)}static fromHex(e){return new Rt(Rt.normalizeHex(e))}static fromRGBA(e,r,n,i=1){let a=[e,r,n,this.normalizeAlpha(i)].reduce((s,c)=>s+this.numberToHex(c),"");return new Rt(a)}static areEquals(e,r){return e==null||r==null?!1:e.hexadecimalString===r.hexadecimalString}static hexToNumber(e){return Number.parseInt(e,16)}static fromJSON(e){return Rt.fromHex(e)}static numberToHex(e){let r=Math.round(e).toString(16);return r.length===1&&(r=`0${r}`),r.toUpperCase()}static normalizeHex(e){let r=e;return r.startsWith("#")&&(r=r.slice(1)),r.length<6&&(r=[...r].map(n=>n+n).join("")),r.length===6&&(r+="FF"),r.toUpperCase()}static normalizeAlpha(e){return e>0&&e<=1?255*e:e}withAlpha(e){let r=this.hexadecimalString.slice(0,6)+Rt.numberToHex(Rt.normalizeAlpha(e));return Rt.fromHex(r)}toJSON(){return this.hexadecimalString}},bw=(t=>(t.Unknown="unknown",t.Portrait="portrait",t.PortraitUpsideDown="portraitUpsideDown",t.LandscapeRight="landscapeRight",t.LandscapeLeft="landscapeLeft",t))(bw||{}),_w=(t=>(t.None="none",t.Horizontal="horizontal",t.LeftToRight="leftToRight",t.RightToLeft="rightToLeft",t.Vertical="vertical",t.TopToBottom="topToBottom",t.BottomToTop="bottomToTop",t))(_w||{}),Ew=(t=>(t.TopLeft="topLeft",t.TopCenter="topCenter",t.TopRight="topRight",t.CenterLeft="centerLeft",t.Center="center",t.CenterRight="centerRight",t.BottomLeft="bottomLeft",t.BottomCenter="bottomCenter",t.BottomRight="bottomRight",t))(Ew||{}),xw={type:"none"},Mw="PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNTQiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTU4IDEwSDI4LjZMMjIuOS41QTEgMSAwIDAgMCAyMiAwSDJhMiAyIDAgMCAwLTIgMnY0NmE2IDYgMCAwIDAgNiA2aDQ4YTYgNiAwIDAgMCA2LTZWMTJhMiAyIDAgMCAwLTItMlptLTM3LjUgOGE0LjUgNC41IDAgMSAxIDAgOSA0LjUgNC41IDAgMCAxIDAtOVptMjcuNCAyNy41YTEgMSAwIDAgMS0uOS41SDEzYTEgMSAwIDAgMS0uOC0xLjVsNy0xMWExIDEgMCAwIDEgMS42LS4xbDUgNiA5LjQtMTVhMSAxIDAgMCAxIDEuMy0uM2wuNC40IDExIDIwYTEgMSAwIDAgMSAwIDFaIi8+PC9zdmc+",Lw=(t=>(t.Rounded="rounded",t.Square="square",t))(Lw||{}),Iw=(t=>(t.Light="light",t.Bold="bold",t))(Iw||{}),Dw=class Lp{constructor(e){this._isLooping=!1,this._isLooping=e}get isLooping(){return this._isLooping}static fromJSON(e){return e===null?null:new Lp(e.looping)}toJSONObject(){return{looping:this.isLooping}}},kw=(t=>(t.Minimal="minimal",t.Extended="extended",t))(kw||{}),Tw=class{constructor(){this.type="tapToFocus"}toJSONObject(){return{type:this.type}}},Ow=class{constructor(){this.type="swipeToZoom"}toJSONObject(){return{type:this.type}}},Nw=class{static fromJSON(e){return(e==null?void 0:e.type)==="tapToFocus"?new Tw:null}},Rw=class{static fromJSON(e){return(e==null?void 0:e.type)==="swipeToZoom"?new Ow:null}};function il(t){let e="document"in globalThis?globalThis.document:void 0,r=e==null?void 0:e.createRange().createContextualFragment(t);if(r)return r.firstElementChild}function Fw(t){var e;return{Camera:{Settings:{preferredResolution:t.Camera.Settings.preferredResolution,zoomFactor:t.Camera.Settings.zoomFactor,zoomGestureZoomFactor:t.Camera.Settings.zoomGestureZoomFactor,focusGestureStrategy:t.Camera.Settings.focusGestureStrategy},defaultPosition:(e=t.Camera.defaultPosition)!=null?e:null,availablePositions:t.Camera.availablePositions},SingleImageUploader:{Settings:{iconElement:il(t.SingleImageUploader.Settings.iconElement),informationElement:il(t.SingleImageUploader.Settings.informationElement),buttonElement:il(t.SingleImageUploader.Settings.buttonElement),containerStyle:t.SingleImageUploader.Settings.containerStyle,iconStyle:t.SingleImageUploader.Settings.iconStyle,informationStyle:t.SingleImageUploader.Settings.informationStyle,buttonStyle:t.SingleImageUploader.Settings.buttonStyle,onlyCameraCapture:t.SingleImageUploader.Settings.onlyCameraCapture}},DataCaptureView:{scanAreaMargins:Aw.fromJSON(JSON.parse(t.DataCaptureView.scanAreaMargins)),pointOfInterest:_h.fromJSON(JSON.parse(t.DataCaptureView.pointOfInterest)),logoStyle:t.DataCaptureView.logoStyle,logoAnchor:t.DataCaptureView.logoAnchor,logoOffset:_h.fromJSON(JSON.parse(t.DataCaptureView.logoOffset)),focusGesture:Nw.fromJSON(JSON.parse(t.DataCaptureView.focusGesture)),zoomGesture:Rw.fromJSON(JSON.parse(t.DataCaptureView.zoomGesture)),cameraRecoveryText:t.DataCaptureView.cameraRecoveryText},RectangularViewfinder:Object.keys(t.RectangularViewfinder.styles).reduce((r,n)=>{let i=t.RectangularViewfinder.styles[n];return r.styles[n]={size:Cw.fromJSON(JSON.parse(i.size)),color:ie.fromJSON(i.color),style:i.style,lineStyle:i.lineStyle,dimming:Number.parseFloat(i.dimming.toString()),animation:Dw.fromJSON(JSON.parse(i.animation))},r},{defaultStyle:t.RectangularViewfinder.defaultStyle,styles:{}}),AimerViewfinder:{frameColor:ie.fromJSON(t.AimerViewfinder.frameColor),dotColor:ie.fromJSON(t.AimerViewfinder.dotColor)},Brush:{fillColor:ie.fromJSON(t.Brush.fillColor),strokeColor:ie.fromJSON(t.Brush.strokeColor),strokeWidth:t.Brush.strokeWidth},Feedback:{defaultVibrationPattern:t.Feedback.defaultVibrationPattern}}}var st=Fw({DataCaptureView:{focusGesture:"null",zoomGesture:"null",logoAnchor:"bottomRight",logoStyle:"extended",logoOffset:JSON.stringify({x:{value:0,unit:"fraction"},y:{value:0,unit:"fraction"}}),pointOfInterest:JSON.stringify({x:{value:.5,unit:"fraction"},y:{value:.5,unit:"fraction"}}),scanAreaMargins:JSON.stringify({left:{value:0,unit:"fraction"},right:{value:0,unit:"fraction"},top:{value:0,unit:"fraction"},bottom:{value:0,unit:"fraction"}}),cameraRecoveryText:"(This text is updated from translations)"},Camera:{Settings:{preferredResolution:"auto",zoomFactor:1,focusGestureStrategy:"manualUntilCapture",zoomGestureZoomFactor:2},defaultPosition:"worldFacing",availablePositions:["worldFacing","userFacing"]},SingleImageUploader:{Settings:{iconElement:atob(Mw),informationElement:"<p data-scandit-default>(This text is updated from translations)</p>",buttonElement:"<div data-scandit-default>(This text is updated from translations)</div>",containerStyle:{backgroundColor:"#FFFFFF"},iconStyle:{fill:"#121619"},informationStyle:{color:"#121619",marginBottom:"2em"},buttonStyle:{color:"#FFFFFF",backgroundColor:"#121619",fontWeight:"bold",padding:"1.25em",width:"12em",textAlign:"center",textTransform:"uppercase"},onlyCameraCapture:!1}},AimerViewfinder:{frameColor:"#FFFFFFFF",dotColor:"#FFFFFFCC"},RectangularViewfinder:{defaultStyle:"rounded",styles:{rounded:{size:JSON.stringify({aspect:1,shorterDimension:{unit:"fraction",value:.75}}),color:"#FFFFFFFF",style:"rounded",lineStyle:"light",dimming:0,animation:JSON.stringify({looping:!0})},square:{size:JSON.stringify({aspect:1,shorterDimension:{unit:"fraction",value:.75}}),color:"#FFFFFFFF",style:"square",lineStyle:"light",dimming:0,animation:JSON.stringify({looping:!0})}}},Brush:{fillColor:"#00000000",strokeColor:"#00000000",strokeWidth:0},Feedback:{defaultVibrationPattern:[300]}});function $r(t){if("customElements"in globalThis)for(let[e,r]of Object.entries(t))customElements.get(e)||customElements.define(e,r)}function Hr(t,...e){return t.reduce((r,n,i)=>{var a;let s=(a=e.at(i))!=null?a:"";return r+n+String(s)},"")}var Pw="HTMLElement"in globalThis?globalThis.HTMLElement:class{constructor(){}},di=class extends Pw{};function rr(t,...e){let r=document.createElement("style");return r.innerHTML=t.reduce((n,i,a)=>{var s;let c=(s=e.at(a))!=null?s:"";return n+i+String(c)},""),r}var jw="scandit-arrows-up",Ip=class Zr extends di{constructor(){super();let e=this.attachShadow({mode:"open"});e.innerHTML=this.render(),e.prepend(Zr.createStyleElement().cloneNode(!0))}static createStyleElement(){return rr`${Zr.tag}{display:flex}${Zr.tag}[hidden]{display:none}.arrow{animation:blink 1.5s infinite;animation-duration:2s}.arrow-1{animation-delay:0s}.arrow-2{animation-delay:.5s}.arrow-3{animation-delay:1s}@keyframes blink{0%,to{opacity:0}50%{opacity:1}}`}static create(){return document.createElement(Zr.tag)}static register(){$r({[Zr.tag]:Zr})}render(){return Hr`
      <svg width="120" height="45" viewBox="0 0 120 45" fill="none">
        <path
          class="arrow arrow-1"
          opacity="0.8"
          d="M105.561 45C108.718 45 109.586 40.6607 106.672 39.4467L61.1539 20.4808C60.4154 20.1731 59.5846 20.1731 58.8462 20.4808L13.328 39.4467C10.4143 40.6607 11.2822 45 14.4387 45C14.8094 45 15.1767 44.9286 15.5205 44.7897L58.8762 27.2723C59.5971 26.981 60.4029 26.981 61.1239 27.2723L104.48 44.7897C104.823 44.9286 105.191 45 105.561 45Z"
          fill="white"
        ></path>
        <path
          class="arrow arrow-2"
          opacity="0.6"
          d="M94.6148 26C96.8169 26 97.4022 22.9609 95.3576 22.143L60.7428 8.29711C60.266 8.10638 59.734 8.10638 59.2572 8.29711L24.6424 22.143C22.5978 22.9609 23.1831 26 25.3852 26H25.6254C25.873 26 26.1184 25.954 26.3492 25.8644L59.2762 13.081C59.7418 12.9002 60.2582 12.9002 60.7238 13.081L93.6508 25.8644C93.8816 25.954 94.127 26 94.3746 26H94.6148Z"
          fill="white"
        ></path>
        <path
          class="arrow arrow-3"
          opacity="0.4"
          d="M81.2078 10C82.8264 10 83.1945 7.7315 81.659 7.21967L60.6325 0.210819C60.2219 0.073974 59.7781 0.0739735 59.3675 0.210818L38.341 7.21967C36.8055 7.73149 37.1736 10 38.7922 10C38.93 10 39.0671 9.98003 39.1992 9.94072L59.4295 3.91979C59.8018 3.809 60.1982 3.809 60.5705 3.91979L80.8008 9.94072C80.9329 9.98003 81.07 10 81.2078 10Z"
          fill="white"
        ></path>
      </svg>
    `}};Ip.tag=jw;var Dp=Ip;Dp.register();var Ii="inline-style",vu=class yo extends di{get fill(){var e;return(e=this.getAttribute("fill"))!=null?e:"black"}set fill(e){this.setAttribute("fill",e)}get size(){var e;return Number((e=this.getAttribute("size"))!=null?e:"32")}set size(e){this.setAttribute("size",e.toString())}get[Ii](){return this.getAttribute(Ii)}set[Ii](e){e==null?this.removeAttribute(Ii):this.setAttribute(Ii,e)}static create(){return $r({[yo.tag]:yo}),document.createElement(yo.tag)}render(){return Hr`<div></div>`}heightForViewbox(e,r){return this.size*this.aspectRatioForViewbox(e,r)}aspectRatioForViewbox(e,r){return r/e}connectedCallback(){this.innerHTML=this.render()}attributeChangedCallback(e,r,n){n!==r&&(this.innerHTML=this.render())}};vu.tag="scandit-svg-icon",vu.observedAttributes=["fill","size"];var kp=vu,Tp=class Pi extends kp{static create(){return document.createElement(Pi.tag)}static register(){$r({[Pi.tag]:Pi})}render(){return Hr`
      <style>
        ${Pi.tag} {
          display: flex;
        }
      </style>
      <svg width="${this.size}" height="${this.heightForViewbox(24,24)}" viewBox="0 0 24 24" fill="none">
        <path
          fill-rule="evenodd"
          clip-rule="evenodd"
          d="M20 12C20 16.4183 16.4183 20 12 20C7.58172 20 4 16.4183 4 12C4 7.58172 7.58172 4 12 4C16.4183 4 20 7.58172 20 12ZM22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12ZM16.7337 10.4937C17.0888 10.152 17.0888 9.59799 16.7337 9.25628C16.3787 8.91457 15.8031 8.91457 15.4481 9.25628L10.6364 13.8876L8.55192 11.8813C8.19689 11.5396 7.62129 11.5396 7.26627 11.8813C6.91124 12.223 6.91124 12.777 7.26627 13.1187L9.99354 15.7437C10.3486 16.0854 10.9242 16.0854 11.2792 15.7437L16.7337 10.4937Z"
          fill="${this.fill}"
        />
      </svg>
    `}};Tp.tag="scandit-rounded-check-icon";var Op=Tp;Op.register();var Np=class ji extends kp{static create(){return document.createElement(ji.tag)}static register(){$r({[ji.tag]:ji})}render(){return Hr`
      <style>
        ${ji.tag} {
          display: flex;
        }
      </style>
      <svg width="${this.size}" height="${this.heightForViewbox(24,24)}" viewBox="0 0 24 24" fill="none">
        <path
          fill-rule="evenodd"
          clip-rule="evenodd"
          d="M20 12C20 16.4183 16.4183 20 12 20C7.58172 20 4 16.4183 4 12C4 7.58172 7.58172 4 12 4C16.4183 4 20 7.58172 20 12ZM22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12ZM12 7C11.4477 7 11 7.44772 11 8V13C11 13.5523 11.4477 14 12 14C12.5523 14 13 13.5523 13 13V8C13 7.44772 12.5523 7 12 7ZM12 17C12.5523 17 13 16.5523 13 16C13 15.4477 12.5523 15 12 15C11.4477 15 11 15.4477 11 16C11 16.5523 11.4477 17 12 17Z"
          fill="${this.fill}"
        />
      </svg>
    `}};Np.tag="scandit-rounded-exclamation-mark-icon";var Rp=Np;Rp.register();var zw=ie.fromRGBA(46,193,206,1),Bw=ie.fromRGBA(98,209,218,1),Uw=ie.fromRGBA(151,224,230,1);ie.fromRGBA(203,240,243,1);var Ww=ie.fromRGBA(18,22,25,1),Vw=ie.fromRGBA(218,225,231,1);ie.fromRGBA(40,211,128,1);ie.fromRGBA(83,220,153,1);ie.fromRGBA(126,229,179,1);ie.fromRGBA(169,237,204,1);ie.fromRGBA(212,246,230,1);ie.fromRGBA(251,192,44,1);ie.fromRGBA(252,205,86,1);ie.fromRGBA(253,217,128,1);ie.fromRGBA(254,230,171,1);ie.fromRGBA(254,242,213,1);ie.fromRGBA(250,68,70,1);ie.fromRGBA(251,105,107,1);ie.fromRGBA(252,143,144,1);ie.fromRGBA(253,180,181,1);ie.fromRGBA(254,218,218,1);var $w=(t=>(t.DidShow="didshow",t.DidHide="didhide",t.WillShow="willshow",t))($w||{}),al="--text-size",ol="--text-color",Di="--text-alignment",sl="--text-weight",ll="--line-height",ul="--background-color",cl="--corner-radius",dl="--max-lines",Eh="ease-in-out",Fp=class zi extends di{constructor(){super(),this.toast=null,this._hintStyle=null,this.currentAnimation=null,this.animationDuration=250;let e=this.attachShadow({mode:"open"});this._exclamationIcon=Rp.create(),this._checkIcon=Op.create(),this._exclamationIcon.size=24,this._checkIcon.size=24,e.innerHTML=Hr`
      <div class="toast">
        <slot name="first-child"></slot>
        <div class="left">
          <slot name="icon"></slot>
        </div>
        <p class="middle">
          <slot></slot>
        </p>
      </div>
    `,e.append(zi.createStyleElement().cloneNode(!0)),this.toast=e.querySelector(".toast")}static createStyleElement(){return rr`:host{display:inline-block;font-family:SF Pro Display,sans-serif}:host([hidden]){display:none}.toast{${al}:1rem;${ol}:#000;${sl}:400;${Di}:${"center"};${ll}:1.5rem;${ul}:#fff;${cl}:.25rem;${dl}:2;align-items:flex-start;background-color:var(${ul});border-radius:var(${cl});color:var(${ol});display:flex;flex-direction:row;font-size:var(${al});font-weight:var(${sl});gap:.625rem;justify-content:var(${Di});line-height:var(${ll});padding:1rem}:host([direction=column]) .toast{align-items:center;flex-direction:column}:host([direction=row]) .toast{align-items:center;flex-direction:row}.toast .left{align-self:flex-start;display:flex}.toast.icon-${"none"} .left{display:none}.toast p.middle{display:inline-block;display:-webkit-box;margin:0;padding:0;text-align:var(${Di});-webkit-line-clamp:var(${dl});-webkit-box-orient:vertical;align-self:center;overflow:hidden;text-shadow:0 1px 2px #${Ww.withAlpha(.3).toJSON()}}p.middle{text-align:var(${Di})}`}get hintStyle(){return this._hintStyle}set hintStyle(e){this._hintStyle=e,this.render()}get showAnimation(){return new Animation(new KeyframeEffect(this,[{opacity:0},{opacity:1}],{duration:this.animationDuration,fill:"both",easing:Eh}))}get hideAnimation(){return new Animation(new KeyframeEffect(this,[{opacity:1},{opacity:0}],{duration:this.animationDuration,fill:"both",easing:Eh}))}static create(){return document.createElement(zi.tag)}static register(){$r({[zi.tag]:zi})}async show(){return this.toggle(!0)}async hide(){return this.toggle(!1)}connectedCallback(){this.render()}async toggle(e){var r,n;if(this.currentAnimation==null){this.animationDuration=(n=(r=this.hintStyle)==null?void 0:r.isAnimatedToView)==null||n?250:0,this.currentAnimation=e?this.showAnimation:this.hideAnimation,e&&this.dispatchEvent(new CustomEvent("willshow",{bubbles:!0})),this.currentAnimation.play();try{await this.currentAnimation.finished,this.dispatchEvent(new CustomEvent(e?"didshow":"didhide",{bubbles:!0,detail:{target:this}}))}catch{}finally{this.currentAnimation=null}}}render(){var e;!this.toast||!this.hintStyle||(this.toast.className="toast",this.toast.style.setProperty(al,`${this.hintStyle.textSize}px`),this.toast.style.setProperty(ol,`#${this.hintStyle.textColor}`),this.toast.style.setProperty(sl,this.hintStyle.textWeight.toString()),this.toast.style.setProperty(Di,this.hintStyle.textAlignment),this.toast.style.setProperty(ll,`${this.hintStyle.lineHeight/14}`),this.toast.style.setProperty(ul,`#${this.hintStyle.backgroundColor}`),this.toast.style.setProperty(cl,`${this.hintStyle.cornerRadius/10}rem`),this.toast.style.setProperty(dl,this.hintStyle.maxLines.toString()),this.toast.classList.toggle("icon-none",this.hintStyle.hintIcon==="none"),this.hintStyle.hintIcon==="check"?(this._checkIcon.setAttribute("slot","icon"),this.append(this._checkIcon)):this.hintStyle.hintIcon==="exclamationMark"&&(this._exclamationIcon.setAttribute("slot","icon"),this.append(this._exclamationIcon)),(e=this.querySelector("[slot=icon]"))==null||e.setAttribute("fill",`#${this.hintStyle.iconColor}`))}};Fp.tag="scandit-toast-hint";var Kr=Fp;Kr.register();var es="orientationchange",hl={"portrait-primary":{type:"portrait-primary",angle:0,value:"portrait"},"portrait-secondary":{type:"portrait-secondary",angle:180,value:"portraitUpsideDown"},"landscape-primary":{type:"landscape-primary",angle:90,value:"landscapeLeft"},"landscape-secondary":{type:"landscape-secondary",angle:270,value:"landscapeRight"}},Pp=class extends EventTarget{constructor(){super(...arguments),this.orientation={value:"portrait",type:"portrait-primary",angle:0},this.landscapeOrientationMediaQuery=matchMedia("(orientation: landscape)"),this.screenOrientationChangeListener=this.onScreenOrientationChange.bind(this),this.landscapeOrientationMediaQueryChangeListener=this.onLandscapeOrientationMediaQueryChange.bind(this)}register(){this.isScreenOrientationApiSupported()?(screen.orientation.addEventListener("change",this.screenOrientationChangeListener),this.onScreenOrientationChange()):(this.landscapeOrientationMediaQuery.addEventListener("change",this.landscapeOrientationMediaQueryChangeListener),this.onLandscapeOrientationMediaQueryChange(new MediaQueryListEvent("change",{matches:this.landscapeOrientationMediaQuery.matches})))}unregister(){this.isScreenOrientationApiSupported()?screen.orientation.removeEventListener("change",this.screenOrientationChangeListener):this.landscapeOrientationMediaQuery.removeEventListener("change",this.landscapeOrientationMediaQueryChangeListener)}isScreenOrientationApiSupported(){return"screen"in window&&"orientation"in screen&&typeof screen.orientation.addEventListener=="function"}dispatchOrientationChangeEvent(e){this.dispatchEvent(new CustomEvent(es,{detail:e}))}onScreenOrientationChange(){this.orientation=hl[screen.orientation.type],this.dispatchOrientationChangeEvent(this.orientation)}onLandscapeOrientationMediaQueryChange(e){let r=e;this.orientation=r.matches?hl["landscape-primary"]:hl["portrait-primary"],this.dispatchOrientationChangeEvent(this.orientation)}};function jp(t,e=300){let r=null;return function(...n){r!=null&&clearTimeout(r),r=setTimeout(()=>{t.apply(this,n),r=null},e)}}var Mn="--view-finder-top",Ln="--view-finder-bottom",to="--hint-anchor-offset",xh="--max-width-fraction",Mh="--horizontal-margin",fl="--max-width-ratio-adjust",Hw=(t=>(t.Update="hintpresenterupdate",t))(Hw||{}),zp=class Bi extends di{constructor(){super(),this.onDidToastHideHandler=this.onDidToastHide.bind(this),this.orientationObserver=new Pp,this.onOrientationChangeHandler=jp(this.onOrientationChange.bind(this),10);let e=this.attachShadow({mode:"open"});e.innerHTML=Hr`
      <div id="root">
        <slot></slot>
      </div>
    `,e.append(Bi.createStyleElement().cloneNode(!0)),this.root=e.querySelector("#root")}static createStyleElement(){return rr`:host{pointer-events:none}:host #root{bottom:env(safe-area-inset-bottom,5vh);left:env(safe-area-inset-left,0);position:absolute;right:env(safe-area-inset-right,0);top:env(safe-area-inset-top,5vh);width:100%;${Mn}:0;${Ln}:0;${fl}:1;z-index:1}::slotted(${Kr.tag}){left:50%;max-width:calc(var(${xh})*var(${fl})*100% - var(${Mh}));position:absolute;transform:translate3d(-50%,0,0);width:100%}::slotted(${Kr.tag}.${"aboveViewFinder"}){transform:translate3d(-50%,calc(-100% + var(${Mn}) - var(${to})),0)}::slotted(${Kr.tag}.${"belowViewFinder"}){transform:translate3d(-50%,calc(var(${Ln}) + var(${to})),0)}::slotted(${Kr.tag}.${"top"}){top:calc(var(${to}))}::slotted(${Kr.tag}.fitToText){width:fit-content}`}static register(){$r({[Bi.tag]:Bi})}static create(){return document.createElement(Bi.tag)}connectedCallback(){this.orientationObserver.addEventListener(es,this.onOrientationChangeHandler),this.orientationObserver.register(),this.addEventListener("didhide",this.onDidToastHideHandler),this._viewFinderRect==null&&(this.root.style.setProperty(Mn,`${this.root.clientHeight/2}px`),this.root.style.setProperty(Ln,`${this.root.clientHeight/2+1}px`))}disconnectedCallback(){this.removeEventListener("didhide",this.onDidToastHideHandler)}setViewFinderRect(e){if(e===null){this.root.style.removeProperty(Mn),this.root.style.removeProperty(Ln);return}this._viewFinderRect=e;let{origin:{y:r},size:{height:n}}=this._viewFinderRect;this.root.style.setProperty(Mn,`${r}px`),this.root.style.setProperty(Ln,`${r+n}px`)}handleMessage(e){let{type:r}=e;switch(r){case"showToast":{this.showToast(e.payload);break}case"hideToast":{this.hideToast(e.payload);break}case"showGuidance":{this.showGuidance(e.payload);break}case"hideGuidance":{this.hideGuidance(e.payload);break}case"startUpdateTimer":{this.startUpdateTimer(e.payload.duration.value);break}case"stopUpdateTimer":{this.stopUpdateTimer();break}}}onDidToastHide(e){e.stopPropagation(),e.detail.target.remove()}async showToast(e){let r=this.idFromHint(e),n=this.querySelector(`#${r}`);if(n||(n=Kr.create(),n.id=r,this.append(n)),n.textContent=e.text,n.hintStyle=e.hintStyle,n.className="",n.style.setProperty(to,`${n.hintStyle.hintAnchorOffset/16}rem`),n.style.setProperty(xh,e.hintStyle.maxWidthFraction.toString()),n.style.setProperty(Mh,`${e.hintStyle.horizontalMargin/16}rem`),n.classList.add(e.hintStyle.hintAnchor),n.classList.toggle("fitToText",e.hintStyle.fitToText),e.tag==="MoveCloserGuidance"){let i=Dp.create();i.setAttribute("slot","first-child"),n.append(i),n.setAttribute("direction","column")}return n.show()}async hideToast(e){let r=this.querySelector(`#${this.idFromHint(e)}`);if(r!=null)return r.hide()}async showGuidance(e){return this.showToast(e)}async hideGuidance(e){return this.hideToast(e)}startUpdateTimer(e){this.intervalId=setInterval(()=>{this.dispatchEvent(new CustomEvent("hintpresenterupdate"))},e)}stopUpdateTimer(){clearInterval(this.intervalId)}idFromHint(e){var r;return btoa([e.hintStyle.textColor,e.hintStyle.backgroundColor,e.hintStyle.hintAnchor,(r=e.tag)!=null?r:"",e.hintStyle.textAlignment].join("-")).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}onOrientationChange(e){let r=1;r=e.detail.value==="landscapeLeft"||e.detail.value==="landscapeRight"?window.innerHeight/window.innerWidth:1,this.root.style.setProperty(fl,r.toString()),this._viewFinderRect==null&&(this.root.style.setProperty(Mn,`${this.root.clientHeight/2}px`),this.root.style.setProperty(Ln,`${this.root.clientHeight/2+1}px`))}};zp.tag="scandit-hints";var Ui=zp;Ui.register();var Bp="scandit-progress-bar",ml="aria-valuenow",Gw="aria-valuemin",Jw="aria-valuemax",Up=class wo extends di{constructor(){super();let e=this.attachShadow({mode:"open"});e.innerHTML=Hr`
      <div id="scandit-progress" role="progressbar" aria-valuemin="0" aria-valuemax="100" />
    `,e.append(wo.createStyleElement().cloneNode(!0)),this.progress=e.querySelector("#scandit-progress")}static get observedAttributes(){return["value","min","max"]}static createStyleElement(){return rr`:host{display:inline-block;--indeterminate-bubble-width:35%;--accent-color:#${Bw.toJSON()};--start-gradient-color:#${zw.toJSON()};--end-gradient-color:#${Uw.toJSON()};--secondary-color:#${Vw.toJSON()};width:100%}:host [role=progressbar]{-webkit-appearance:none;-moz-appearance:none;appearance:none;border:none;height:.5rem;overflow:hidden;position:relative}:host [role=progressbar]:after,:host [role=progressbar]:before{background:var(--accent-color);border-radius:.5rem;content:" ";height:.5rem;left:0;position:absolute;top:0}:host([variant=gradient]) [role=progressbar]:after,:host([variant=gradient]) [role=progressbar]:before{background:linear-gradient(90deg,var(--start-gradient-color) 0,var(--end-gradient-color) 100%)}:host(:focus-visible){border-radius:.5rem;outline-color:var(--accent-color);outline-offset:5px}:host [role=progressbar]:not([aria-valuenow]):after{animation:indeterminate-progress-bar 2.5s ease infinite;width:var(--indeterminate-bubble-width);z-index:1}:host [role=progressbar][aria-valuenow]:after{animation:none;width:0}:host [role=progressbar][aria-valuenow]:before{background-color:var(--accent-color);border-radius:.5rem;transition:width .3s linear;width:calc(var(--aria-valuenow)*1%)}:host [role=progressbar]{background-color:var(--secondary-color);border-radius:.5rem}@keyframes indeterminate-progress-bar{0%{left:0}50%{left:calc(100% - var(--indeterminate-bubble-width))}}`}get min(){var e;let r=(e=this.getAttribute("min"))!=null?e:0;return Number(r)}get max(){var e;let r=(e=this.getAttribute("max"))!=null?e:1;return Number(r)}set max(e){e!==null&&this.setAttribute("max",String(e))}get value(){let e=this.getAttribute("value");return e==null||e===""?null:Number(e)}set value(e){if(e==null){this.removeAttribute("value");return}e>=this.min&&e<=this.max&&this.setAttribute("value",String(e))}static create(){return document.createElement(Bp)}static register(){$r({[wo.tag]:wo})}attributeChangedCallback(){this.update()}connectedCallback(){this.update()}update(){let{min:e,max:r,value:n,progress:i}=this;if(i==null||i.setAttribute(Gw,e.toString()),i==null||i.setAttribute(Jw,r.toString()),n==null){i==null||i.removeAttribute(ml),i==null||i.removeAttribute("style");return}if(n>=e&&n<=r){let a=(n-e)/(r-e)*100,s=String(a);i==null||i.setAttribute(ml,s),i==null||i.setAttribute("style",`--${ml}: ${s}`)}}};Up.tag=Bp;var yu=Up;yu.register();var jr=class Wi{constructor(){this.translations=new Map,this.subscribers=new Set}static getInstance(){return Wi.instance==null&&(Wi.instance=new Wi),Wi.instance}get(e){var r;return(r=this.translations.get(e))!=null?r:""}getAll(){return Object.fromEntries(this.translations.entries())}update(e){this.translations=new Map(Object.entries({...Object.fromEntries(this.translations),...e}));let r=this.getAll();for(let n of this.subscribers)n(r)}updateIfMissing(e){for(let[n,i]of Object.entries(e))this.translations.has(n)||this.translations.set(n,i);let r=this.getAll();for(let n of this.subscribers)n(r)}subscribe(e){return this.subscribers.add(e),e(this.getAll()),{cancel:()=>this.subscribers.delete(e)}}},Wp="scandit-loading-overlay",Vp=class So extends di{constructor(){super(),this._progressBar=null,this._label=null;let e=this.attachShadow({mode:"open"});e.innerHTML=Hr`
      <div class="loading-overlay">
        <label for="scandit-progress" class="message">Loading...</label>
        <scandit-progress-bar id="scandit-progress" min="0" max="100"></scandit-progress-bar>
      </div>
    `,e.append(So.createStyleElement().cloneNode(!0))}set progress(e){this._progressBar&&(this._progressBar.value=e)}set message(e){this._label&&(this._label.textContent=e)}get message(){var e,r;return(r=(e=this._label)==null?void 0:e.textContent)!=null?r:""}static create(){return document.createElement(So.tag)}static register(){$r({[Wp]:So})}static createStyleElement(){return rr`@media (prefers-color-scheme:dark){.loading-overlay{--foreground-color:#fff;--background-color:#000}}@media (prefers-color-scheme:light){.loading-overlay{--foreground-color:#000;--background-color:#fff}}${yu.tag}{max-width:15rem}.loading-overlay{align-items:center;background-color:var(--background-color);display:flex;flex-direction:column;height:100%;justify-content:center;position:absolute;width:100%;z-index:1}:host([hidden]){display:none}.loading-overlay .message{color:var(--foreground-color);font-family:Open Sans,sans-serif;margin-bottom:1rem;text-align:center}`}connectedCallback(){var e,r;this._progressBar=(e=this.shadowRoot)==null?void 0:e.querySelector(yu.tag),this._label=(r=this.shadowRoot)==null?void 0:r.querySelector("label"),this.message=jr.getInstance().get("core.view.loading")}show(){this.removeAttribute("hidden")}hide(){this.setAttribute("hidden","")}};Vp.tag=Wp;var $p=Vp;$p.register();var Yw="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",wu=class extends Mt{constructor(e){super({name:"UnsupportedBrowserError",message:`This OS / browser has one or more missing features preventing it from working correctly (${e.missingFeatures.join(", ")})`}),this.data=e}},Qw=Tc((t,e)=>{(function(r){var n;if(typeof define=="function"&&define.amd&&(define(r),n=!0),typeof t=="object"&&(e.exports=r(),n=!0),!n){var i=window.Cookies,a=window.Cookies=r();a.noConflict=function(){return window.Cookies=i,a}}})(function(){function r(){for(var a=0,s={};a<arguments.length;a++){var c=arguments[a];for(var u in c)s[u]=c[u]}return s}function n(a){return a.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}function i(a){function s(){}function c(h,g,o){if(!(typeof document>"u")){o=r({path:"/"},s.defaults,o),typeof o.expires=="number"&&(o.expires=new Date(new Date*1+o.expires*864e5)),o.expires=o.expires?o.expires.toUTCString():"";try{var l=JSON.stringify(g);/^[\{\[]/.test(l)&&(g=l)}catch{}g=a.write?a.write(g,h):encodeURIComponent(String(g)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),h=encodeURIComponent(String(h)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var d="";for(var f in o)o[f]&&(d+="; "+f,o[f]!==!0&&(d+="="+o[f].split(";")[0]));return document.cookie=h+"="+g+d}}function u(h,g){if(!(typeof document>"u")){for(var o={},l=document.cookie?document.cookie.split("; "):[],d=0;d<l.length;d++){var f=l[d].split("="),m=f.slice(1).join("=");!g&&m.charAt(0)==='"'&&(m=m.slice(1,-1));try{var y=n(f[0]);if(m=(a.read||a)(m,y)||n(m),g)try{m=JSON.parse(m)}catch{}if(o[y]=m,h===y)break}catch{}}return h?o[h]:o}}return s.set=c,s.get=function(h){return u(h,!1)},s.getJSON=function(h){return u(h,!0)},s.remove=function(h,g){c(h,"",r(g,{expires:-1}))},s.defaults={},s.withConverter=i,s}return i(function(){})})}),qw=Tc((t,e)=>{(function(r,n){var i="1.0.38",a="",s="?",c="function",u="undefined",h="object",g="string",o="major",l="model",d="name",f="type",m="vendor",y="version",p="architecture",v="console",w="mobile",A="tablet",M="smarttv",C="wearable",N="embedded",D=500,x="Amazon",I="Apple",F="ASUS",te="BlackBerry",ae="Browser",ne="Chrome",Ge="Edge",ct="Firefox",Ce="Google",j="Huawei",Z="LG",X="Microsoft",se="Motorola",fe="Opera",et="Samsung",k="Sharp",P="Sony",R="Xiaomi",J="Zebra",G="Facebook",K="Chromium OS",xe="Mac OS",ce=function(oe,me){var ee={};for(var de in oe)me[de]&&me[de].length%2===0?ee[de]=me[de].concat(oe[de]):ee[de]=oe[de];return ee},Ze=function(oe){for(var me={},ee=0;ee<oe.length;ee++)me[oe[ee].toUpperCase()]=oe[ee];return me},hi=function(oe,me){return typeof oe===g?Gr(me).indexOf(Gr(oe))!==-1:!1},Gr=function(oe){return oe.toLowerCase()},sr=function(oe){return typeof oe===g?oe.replace(/[^\d\.]/g,a).split(".")[0]:n},fi=function(oe,me){if(typeof oe===g)return oe=oe.replace(/^\s\s*/,a),typeof me===u?oe:oe.substring(0,D)},Jr=function(oe,me){for(var ee=0,de,Ot,ht,ve,q,Nt;ee<me.length&&!q;){var Sn=me[ee],mi=me[ee+1];for(de=Ot=0;de<Sn.length&&!q&&Sn[de];)if(q=Sn[de++].exec(oe),q)for(ht=0;ht<mi.length;ht++)Nt=q[++Ot],ve=mi[ht],typeof ve===h&&ve.length>0?ve.length===2?typeof ve[1]==c?this[ve[0]]=ve[1].call(this,Nt):this[ve[0]]=ve[1]:ve.length===3?typeof ve[1]===c&&!(ve[1].exec&&ve[1].test)?this[ve[0]]=Nt?ve[1].call(this,Nt,ve[2]):n:this[ve[0]]=Nt?Nt.replace(ve[1],ve[2]):n:ve.length===4&&(this[ve[0]]=Nt?ve[3].call(this,Nt.replace(ve[1],ve[2])):n):this[ve]=Nt||n;ee+=2}},wn=function(oe,me){for(var ee in me)if(typeof me[ee]===h&&me[ee].length>0){for(var de=0;de<me[ee].length;de++)if(hi(me[ee][de],oe))return ee===s?n:ee}else if(hi(me[ee],oe))return ee===s?n:ee;return oe},_s={"1.0":"/8","1.2":"/1","1.3":"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},Da={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2","8.1":"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},ka={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[y,[d,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[y,[d,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[d,y],[/opios[\/ ]+([\w\.]+)/i],[y,[d,fe+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[y,[d,fe+" GX"]],[/\bopr\/([\w\.]+)/i],[y,[d,fe]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[y,[d,"Baidu"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim)\s?(?:browser)?[\/ ]?([\w\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[d,y],[/\bddg\/([\w\.]+)/i],[y,[d,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[y,[d,"UC"+ae]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[y,[d,"WeChat"]],[/konqueror\/([\w\.]+)/i],[y,[d,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[y,[d,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[y,[d,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[y,[d,"Smart Lenovo "+ae]],[/(avast|avg)\/([\w\.]+)/i],[[d,/(.+)/,"$1 Secure "+ae],y],[/\bfocus\/([\w\.]+)/i],[y,[d,ct+" Focus"]],[/\bopt\/([\w\.]+)/i],[y,[d,fe+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[y,[d,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[y,[d,"Dolphin"]],[/coast\/([\w\.]+)/i],[y,[d,fe+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[y,[d,"MIUI "+ae]],[/fxios\/([-\w\.]+)/i],[y,[d,ct]],[/\bqihu|(qi?ho?o?|360)browser/i],[[d,"360 "+ae]],[/(oculus|sailfish|huawei|vivo)browser\/([\w\.]+)/i],[[d,/(.+)/,"$1 "+ae],y],[/samsungbrowser\/([\w\.]+)/i],[y,[d,et+" Internet"]],[/(comodo_dragon)\/([\w\.]+)/i],[[d,/_/g," "],y],[/metasr[\/ ]?([\d\.]+)/i],[y,[d,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[d,"Sogou Mobile"],y],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345Explorer)[\/ ]?([\w\.]+)/i],[d,y],[/(lbbrowser)/i,/\[(linkedin)app\]/i],[d],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[d,G],y],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[d,y],[/\bgsa\/([\w\.]+) .*safari\//i],[y,[d,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[y,[d,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[y,[d,ne+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[d,ne+" WebView"],y],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[y,[d,"Android "+ae]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[d,y],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[y,[d,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[y,d],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[d,[y,wn,_s]],[/(webkit|khtml)\/([\w\.]+)/i],[d,y],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[d,"Netscape"],y],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[y,[d,ct+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[d,y],[/(cobalt)\/([\w\.]+)/i],[d,[y,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[p,"amd64"]],[/(ia32(?=;))/i],[[p,Gr]],[/((?:i[346]|x)86)[;\)]/i],[[p,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[p,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[p,"armhf"]],[/windows (ce|mobile); ppc;/i],[[p,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[p,/ower/,a,Gr]],[/(sun4\w)[;\)]/i],[[p,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[p,Gr]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[l,[m,et],[f,A]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[l,[m,et],[f,w]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[l,[m,I],[f,w]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[l,[m,I],[f,A]],[/(macintosh);/i],[l,[m,I]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[l,[m,k],[f,w]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[l,[m,j],[f,A]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[l,[m,j],[f,w]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[l,/_/g," "],[m,R],[f,w]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[l,/_/g," "],[m,R],[f,A]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[l,[m,"OPPO"],[f,w]],[/\b(opd2\d{3}a?) bui/i],[l,[m,"OPPO"],[f,A]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[l,[m,"Vivo"],[f,w]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[l,[m,"Realme"],[f,w]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[l,[m,se],[f,w]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[l,[m,se],[f,A]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[l,[m,Z],[f,A]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[l,[m,Z],[f,w]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[l,[m,"Lenovo"],[f,A]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[l,/_/g," "],[m,"Nokia"],[f,w]],[/(pixel c)\b/i],[l,[m,Ce],[f,A]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[l,[m,Ce],[f,w]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[l,[m,P],[f,w]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[l,"Xperia Tablet"],[m,P],[f,A]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[l,[m,"OnePlus"],[f,w]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[l,[m,x],[f,A]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[l,/(.+)/g,"Fire Phone $1"],[m,x],[f,w]],[/(playbook);[-\w\),; ]+(rim)/i],[l,m,[f,A]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[l,[m,te],[f,w]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[l,[m,F],[f,A]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[l,[m,F],[f,w]],[/(nexus 9)/i],[l,[m,"HTC"],[f,A]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[m,[l,/_/g," "],[f,w]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[l,[m,"Acer"],[f,A]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[l,[m,"Meizu"],[f,w]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[l,[m,"Ulefone"],[f,w]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[m,l,[f,w]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[m,l,[f,A]],[/(surface duo)/i],[l,[m,X],[f,A]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[l,[m,"Fairphone"],[f,w]],[/(u304aa)/i],[l,[m,"AT&T"],[f,w]],[/\bsie-(\w*)/i],[l,[m,"Siemens"],[f,w]],[/\b(rct\w+) b/i],[l,[m,"RCA"],[f,A]],[/\b(venue[\d ]{2,7}) b/i],[l,[m,"Dell"],[f,A]],[/\b(q(?:mv|ta)\w+) b/i],[l,[m,"Verizon"],[f,A]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[l,[m,"Barnes & Noble"],[f,A]],[/\b(tm\d{3}\w+) b/i],[l,[m,"NuVision"],[f,A]],[/\b(k88) b/i],[l,[m,"ZTE"],[f,A]],[/\b(nx\d{3}j) b/i],[l,[m,"ZTE"],[f,w]],[/\b(gen\d{3}) b.+49h/i],[l,[m,"Swiss"],[f,w]],[/\b(zur\d{3}) b/i],[l,[m,"Swiss"],[f,A]],[/\b((zeki)?tb.*\b) b/i],[l,[m,"Zeki"],[f,A]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[m,"Dragon Touch"],l,[f,A]],[/\b(ns-?\w{0,9}) b/i],[l,[m,"Insignia"],[f,A]],[/\b((nxa|next)-?\w{0,9}) b/i],[l,[m,"NextBook"],[f,A]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[m,"Voice"],l,[f,w]],[/\b(lvtel\-)?(v1[12]) b/i],[[m,"LvTel"],l,[f,w]],[/\b(ph-1) /i],[l,[m,"Essential"],[f,w]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[l,[m,"Envizen"],[f,A]],[/\b(trio[-\w\. ]+) b/i],[l,[m,"MachSpeed"],[f,A]],[/\btu_(1491) b/i],[l,[m,"Rotor"],[f,A]],[/(shield[\w ]+) b/i],[l,[m,"Nvidia"],[f,A]],[/(sprint) (\w+)/i],[m,l,[f,w]],[/(kin\.[onetw]{3})/i],[[l,/\./g," "],[m,X],[f,w]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[l,[m,J],[f,A]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[l,[m,J],[f,w]],[/smart-tv.+(samsung)/i],[m,[f,M]],[/hbbtv.+maple;(\d+)/i],[[l,/^/,"SmartTV"],[m,et],[f,M]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[m,Z],[f,M]],[/(apple) ?tv/i],[m,[l,I+" TV"],[f,M]],[/crkey/i],[[l,ne+"cast"],[m,Ce],[f,M]],[/droid.+aft(\w+)( bui|\))/i],[l,[m,x],[f,M]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[l,[m,k],[f,M]],[/(bravia[\w ]+)( bui|\))/i],[l,[m,P],[f,M]],[/(mitv-\w{5}) bui/i],[l,[m,R],[f,M]],[/Hbbtv.*(technisat) (.*);/i],[m,l,[f,M]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[m,fi],[l,fi],[f,M]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[f,M]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[m,l,[f,v]],[/droid.+; (shield) bui/i],[l,[m,"Nvidia"],[f,v]],[/(playstation [345portablevi]+)/i],[l,[m,P],[f,v]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[l,[m,X],[f,v]],[/((pebble))app/i],[m,l,[f,C]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[l,[m,I],[f,C]],[/droid.+; (glass) \d/i],[l,[m,Ce],[f,C]],[/droid.+; (wt63?0{2,3})\)/i],[l,[m,J],[f,C]],[/(quest( \d| pro)?)/i],[l,[m,G],[f,C]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[m,[f,N]],[/(aeobc)\b/i],[l,[m,x],[f,N]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[l,[f,w]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[l,[f,A]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[f,A]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[f,w]],[/(android[-\w\. ]{0,9});.+buil/i],[l,[m,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[y,[d,Ge+"HTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[y,[d,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[d,y],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[y,d]],os:[[/microsoft (windows) (vista|xp)/i],[d,y],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[d,[y,wn,Da]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[y,wn,Da],[d,"Windows"]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[y,/_/g,"."],[d,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[d,xe],[y,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[y,d],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[d,y],[/\(bb(10);/i],[y,[d,te]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[y,[d,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[y,[d,ct+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[y,[d,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[y,[d,"watchOS"]],[/crkey\/([\d\.]+)/i],[y,[d,ne+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[d,K],y],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[d,y],[/(sunos) ?([\w\.\d]*)/i],[[d,"Solaris"],y],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[d,y]]},dt=function(oe,me){if(typeof oe===h&&(me=oe,oe=n),!(this instanceof dt))return new dt(oe,me).getResult();var ee=typeof r!==u&&r.navigator?r.navigator:n,de=oe||(ee&&ee.userAgent?ee.userAgent:a),Ot=ee&&ee.userAgentData?ee.userAgentData:n,ht=me?ce(ka,me):ka,ve=ee&&ee.userAgent==de;return this.getBrowser=function(){var q={};return q[d]=n,q[y]=n,Jr.call(q,de,ht.browser),q[o]=sr(q[y]),ve&&ee&&ee.brave&&typeof ee.brave.isBrave==c&&(q[d]="Brave"),q},this.getCPU=function(){var q={};return q[p]=n,Jr.call(q,de,ht.cpu),q},this.getDevice=function(){var q={};return q[m]=n,q[l]=n,q[f]=n,Jr.call(q,de,ht.device),ve&&!q[f]&&Ot&&Ot.mobile&&(q[f]=w),ve&&q[l]=="Macintosh"&&ee&&typeof ee.standalone!==u&&ee.maxTouchPoints&&ee.maxTouchPoints>2&&(q[l]="iPad",q[f]=A),q},this.getEngine=function(){var q={};return q[d]=n,q[y]=n,Jr.call(q,de,ht.engine),q},this.getOS=function(){var q={};return q[d]=n,q[y]=n,Jr.call(q,de,ht.os),ve&&!q[d]&&Ot&&Ot.platform&&Ot.platform!="Unknown"&&(q[d]=Ot.platform.replace(/chrome os/i,K).replace(/macos/i,xe)),q},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return de},this.setUA=function(q){return de=typeof q===g&&q.length>D?fi(q,D):q,this},this.setUA(de),this};dt.VERSION=i,dt.BROWSER=Ze([d,y,o]),dt.CPU=Ze([p]),dt.DEVICE=Ze([l,m,f,v,w,M,A,C,N]),dt.ENGINE=dt.OS=Ze([d,y]),typeof t!==u?(typeof e!==u&&e.exports&&(t=e.exports=dt),t.UAParser=dt):typeof define===c&&define.amd?define(function(){return dt}):typeof r!==u&&(r.UAParser=dt);var yt=typeof r!==u&&(r.jQuery||r.Zepto);if(yt&&!yt.ua){var Zt=new dt;yt.ua=Zt.getResult(),yt.ua.get=function(){return Zt.getUA()},yt.ua.set=function(oe){Zt.setUA(oe);var me=Zt.getResult();for(var ee in me)yt.ua[ee]=me[ee]}}})(typeof window=="object"?window:t)}),Zw=Oc(Qw(),1),Kw=Oc(qw(),1),Le;(t=>{let e;function r(){return e==null&&(e=new Kw.default(navigator.userAgent)),e}t.getUserAgentInfo=r;function n(){var x;if("orientation"in window)return!1;let I="(any-pointer: coarse)",F=(x=window.matchMedia)==null?void 0:x.call(window,I);return navigator.maxTouchPoints===0||(F==null?void 0:F.media)===I&&!(F!=null&&F.matches)}t.isDesktopDevice=n;function i(){return r().getDevice().model==="iPhone"}t.isIPhone=i;function a(){let x=r().getOS();return x.name==="iOS"&&x.version!=null&&x.version.localeCompare("16.3",void 0,{numeric:!0})>=0}t.isIOSDeviceWithExtendedCameraAccess=a;function s(){return"document"in window?window.document.createElement("canvas"):null}t.getCanvas=s;function c(x){return x.name==="iOS"&&x.version!=null&&["11.2.2","11.2.5","11.2.6"].includes(x.version)}async function u(){return ew()}t.hasSIMDSupport=u;async function h(){return Sp()}t.hasThreadsSupport=h;function g(x,I,F){let te=x[I[0]];return te==null?!1:I.length===1?typeof te===F:(typeof te=="function"||typeof te=="object")&&g(te,I.slice(1),F)}function o(){var x;let I=!0,F=null,te=null,ae=null,ne=null;try{if(F=t.getCanvas(),te=t.getCanvas(),ae=F==null?void 0:F.getContext("webgl"),ne=te==null?void 0:te.getContext("experimental-webgl"),!g(window,["WebGLRenderingContext"],"function")||ae==null&&ne==null)throw new Error("WebGLRenderingContext is not supported")}catch{I=!1}finally{for(let Ge of[ae,ne])typeof(Ge==null?void 0:Ge.getExtension)=="function"&&((x=Ge.getExtension("WEBGL_lose_context"))==null||x.loseContext());ae=null,ne=null,F=null,te=null}return I}function l(){let x=!0,I=!0,F=new Set;location.protocol.startsWith("http")||F.add("httpProtocol"),g(window,["isSecureContext"],"boolean")&&!window.isSecureContext&&F.add("secureContext"),!g(navigator,["mediaDevices","getUserMedia"],"function")&&!g(navigator,["enumerateDevices"],"function")&&!g(window,["MediaStreamTrack","getSources"],"function")&&(F.add("mediaDevices"),x=!1),g(window,["Worker"],"function")||(F.add("webWorkers"),x=!1,I=!1),g(window,["WebAssembly"],"object")||(F.add("webAssembly"),x=!1,I=!1),g(window,["Blob"],"function")||(F.add("blob"),x=!1,I=!1),g(window,["URL","createObjectURL"],"function")||(F.add("urlObject"),x=!1,I=!1),g(window,["OffscreenCanvas"],"function")||F.add("offscreenCanvas"),o()||F.add("webGL");let te=r().getOS();return c(te)&&(F.add("webAssemblyErrorFree"),x=!1,I=!1),wp()||F.add("sharedArrayBuffer"),yp()||F.add("crossOriginIsolated"),{fullSupport:x,scannerSupport:I,missingFeatures:[...F]}}t.checkBrowserCompatibility=l;async function d(){return tw()}t.checkMultithreadingSupport=d;function f(){let x="scandit-device-id",I="localStorage"in globalThis?globalThis.localStorage:void 0;if(!I)return"";let F=I.getItem(x);if(F!=null&&F!=="")return F;if(F=(0,Zw.get)(x),F!=null&&F!=="")return I.setItem(x,F),F;let te=new Uint8Array(20);return crypto.getRandomValues(te),F=[...te].map(ae=>{let ne=ae.toString(16);return ne.length===1?`0${ne}`:ne}).join(""),I.setItem(x,F),F}t.getDeviceId=f;function m(x){return x instanceof HTMLElement||x!=null&&typeof x=="object"&&typeof x.tagName=="string"}t.isValidHTMLElement=m;function y(){var x,I;let F=r().getOS();if(F.name!=="iOS")return!0;let[te,ae]=(I=(x=F.version)==null?void 0:x.split(".").map(Number))!=null?I:[];return te>14||te===14&&ae>=6}t.isSupportedIOSVersion=y;function p(){var x,I;return(I=(x=r().getBrowser().name)==null?void 0:x.toLowerCase().includes("safari"))!=null?I:!1}t.isSafari=p;function v(){var x,I;return/iphone|ipod|ipad/.test((I=(x=r().getDevice().model)==null?void 0:x.toLowerCase())!=null?I:"")&&!p()}t.isIosWebView=v;async function w(){var x;return((x=r().getOS().name)==null?void 0:x.toLowerCase())!=="android"?!1:r().getUA().includes("wv")?!0:[...(await fetch(document.location.toString(),{method:"HEAD"})).headers].some(([I])=>I.toLowerCase()==="x-requested-with")}t.isAndroidWebView=w;function A(){return r().getOS().name==="Windows"}t.isWindows=A;function M(){return r().getBrowser().name==="Firefox"}t.isFirefox=M;function C(){if("navigator"in globalThis){for(let x of["vibrate","webkitVibrate","msVibrate","mozVibrate"])if(typeof navigator[x]=="function")return navigator[x]}}t.getSupportedVibrationMethod=C;function N(){return C()!=null&&!n()&&!A()&&!M()}t.isVibrationAvailable=N;function D(){return r().getOS().name==="iOS"}t.isIOS=D})(Le||(Le={}));var Xw=(t=>(t.WorldFacing="worldFacing",t.UserFacing="userFacing",t))(Xw||{}),eS=(t=>(t[t.ULTRA_HD=0]="ULTRA_HD",t[t.FULL_HD=1]="FULL_HD",t[t.HD=2]="HD",t[t.SD=3]="SD",t[t.NONE=4]="NONE",t))(eS||{}),tS=(t=>(t.AUTO="auto",t.FOUR_TO_THREE="fourToThree",t.SIXTEEN_TO_NINE="sixteenToNine",t))(tS||{}),_e;(t=>{let e=new Map([["DeviceCaptureError","AbortError"],["NotSupportedError","AbortError"],["ScreenCaptureError","AbortError"],["TabCaptureError","AbortError"],["TypeError","AbortError"],["InvalidStateError","NotAllowedError"],["MediaDeviceFailedDueToShutdown","NotAllowedError"],["MediaDeviceKillSwitchOn","NotAllowedError"],["PermissionDeniedError","NotAllowedError"],["PermissionDismissedError","NotAllowedError"],["DevicesNotFoundError","NotFoundError"],["SourceUnavailableError","NotReadableError"],["TrackStartError","NotReadableError"],["ConstraintNotSatisfiedError","OverconstrainedError"]]),r=["rear","back","rck","arrire","trasera","trs","traseira","posteriore","","","","","","","","","","arka","achterzijde","","baksidan","bagside","sau","bak","tylny","takakamera","belakang","","","spate","hts","zadn","darrere","posterior","zadn","","stranja","belakang",""],n=new Set(["Desk View Camera","Schreibtischansicht-Kamera","Camra DeskView","Cmara de Vista Cenital","Cmara da Vista de Secretria","Fotocamera di Panoramica Scrivania","","","  ","Masa Grnts Kameras","Bureauweergave-camera","  ","","Bordsvisningskamera","Kamera til Visning af skrivebord","Camera Desk View","Bordvisning-kamera","Kamera waplikacji Widok blatu","Typytnkymn kamera","Kamera Tampilan Meja","  ","   ","Camer Vizualizare birou","rasztal nzet kamerja","Stoln kamera","Cmera de lapp Vista de lEscriptori"]),i=new Set(["Front Camera","Frontkamera","Appareil photo avant","Cmara frontal","Cmera Frontal","Cmara frontal","Fotocamera (anteriore)","","","","   ","n Kamera","Camera aan voorzijde"," ","","Kamera p framsidan","Forsidekamera","Camera mt trc","Kamera foran","Przedni aparat","Etukamera","Kamera Depan"," "," ","Camer fa","Ells kamera","Pedn fotoapart","Cmera frontal","Predn kamera"," ","Prednja kamera","Kamera Depan"," "]),a=new Set(["Back Camera","Rckkamera","Camra arrire","Cmara trasera","Cmera Traseira","Cmara traseira","Fotocamera (posteriore)","","","","   ","Arka Kamera","Camera aan achterzijde"," ","","Kamera p baksidan","Bagsidekamera","Camera mt sau","Kamera bak","Tylny aparat","Takakamera","Kamera Belakang"," "," ","Camer spate","Hts kamera","Zadn fotoapart","Cmera posterior","Zadn kamera"," ","Stranja kamera","Kamera Belakang"," "]),s=new Set(["Back Dual Wide Camera","Rckseitige Dual-Weitwinkelkamera","Double appareil photo grand angle arrire","Cmara trasera dual con gran angular","Cmera Dupla Grande-Angular Traseira","Cmara grande angular dupla traseira","Fotocamera doppia con grandangolo (posteriore)","","","","   ","ift Geni Kamera Arka Yz","   ","","Dubbel vidvinkelkamera p baksidan","Camera kp rng mt sau","Dobbelt vidvinkelkamera bak","Tylny dwuobiektywowy aparat szerokoktny","Laajakulmainen kaksoistakakamera","Kamera Lebar Belakang Ganda","   ","   ","Camer dubl cu obiectiv superangular spate","Hts, ketts, szles ltszg kamera","Zadn duln irokohl fotoapart","Cmera dual posterior amb gran angular","Zadn dulna irokouhl kamera","   ","Stranja dvostruka iroka kamera","Dwikamera Lebar Belakang","   "]),c=new Set(["Back Ultra Wide Camera","Rckseitige Ultra-Weitwinkelkamera","Appareil photo ultra grand angle arrire","Cmara trasera con ultra gran angular","Cmera Ultra-Angular Traseira","Cmara ultra grande angular traseira","Fotocamera con ultra-grandangolo (posteriore)","","","","  ","Ultra Geni Kamera Arka Yz","Ultrabrede camera aan achterzijde","   ","","Ultravidvinkelkamera p baksidan","Ultravidvinkelkameraet p bagsiden","Camera cc rng mt sau","Ultravidvinkelkamera bak","Tylny aparat ultraszerokoktny","Ultralaajakulmainen takakamera","Kamera Ultra Lebar Belakang","   ","  ","Camer cu obiectiv ultrasuperangular spate","Hts, ultraszles ltszg kamera","Zadn ultra irokohl fotoapart","Cmera posterior amb ultra gran angular","Zadn ultrairokouhl kamera","  ","Stranja ultra iroka kamera","Kamera Ultralebar Belakang","   "]),u,h=!1;t.mainCameraForPositionOverridesOnDesktop=new Map,t.deviceIdToCameraObjects=new Map,t.inaccessibleDeviceIds=new Set;function g(k,P){t.mainCameraForPositionOverridesOnDesktop.set(k,P)}t.setMainCameraForPositionOverridesOnDesktop=g;function o(){t.mainCameraForPositionOverridesOnDesktop.clear()}t.clearMainCameraForPositionOverridesOnDesktop=o;function l(){return navigator.mediaDevices.getUserMedia.bind(navigator.mediaDevices)}function d(){if(typeof navigator.enumerateDevices=="function")return navigator.enumerateDevices.bind(navigator);if(typeof navigator.mediaDevices=="object"&&typeof navigator.mediaDevices.enumerateDevices=="function")return navigator.mediaDevices.enumerateDevices.bind(navigator.mediaDevices)}function f(){h=!0}function m(k){let P=k.toLowerCase();return r.some(R=>P.includes(R))}function y(k){return i.has(k)}t.isIOSFrontCameraLabel=y;function p(k){return a.has(k)}t.isIOSBackCameraLabel=p;function v(k){return s.has(k)}t.isIOSBackDualWideCameraLabel=v;function w(k){return c.has(k)}t.isIOSUltraWideBackCameraLabel=w;function A(k){var P;let R=k.message==="Invalid constraint"?"OverconstrainedError":(P=e.get(k.name))!=null?P:k.name;Object.defineProperty(k,"name",{value:R})}function M(k){if(k.length===0)return{areSomeCameraLabelsFilled:!1,areAllCameraLabelsFilled:!1,areAllCameraLabelsUnfilled:!1};let P=k.every(J=>J.label!==""),R=k.every(J=>J.label==="");return{areSomeCameraLabelsFilled:!R&&!P,areAllCameraLabelsFilled:P,areAllCameraLabelsUnfilled:R}}function C(k,P){var R;return(R=t.mainCameraForPositionOverridesOnDesktop.get(P))!=null?R:k.find(J=>J.position===P)}function N(k,P){if(P==="worldFacing"){let R=k.find(G=>v(G.label));if(R!=null)return R;let J=k.find(G=>p(G.label));if(J!=null)return J}else{let R=k.find(J=>y(J.label));if(R!=null)return R}}function D(k,P){let{areSomeCameraLabelsFilled:R,areAllCameraLabelsUnfilled:J}=M(k);if(J)return k[P==="userFacing"?0:k.length-1];if(R){let G=k.filter(K=>K.position===P);return G.length===1?G[0]:G[P==="userFacing"?0:G.length-1]}if(Le.getUserAgentInfo().getOS().name==="iOS"){let G=N(k,P);if(G)return G}return k.filter(G=>G.position===P).sort((G,K)=>G.label.localeCompare(K.label))[0]}function x(k,P){return Le.isDesktopDevice()?C(k,P):D(k,P)}t.getMainCameraForPosition=x;function I(k,P){return k.unshift(k.splice(P,1)[0])}function F(k,P){function R(K,xe){let ce=t.mainCameraForPositionOverridesOnDesktop.get(xe);return ce!=null&&K.includes(ce)&&(K=K.filter(Ze=>Ze!==ce),K.unshift(ce)),K}let J=k.filter(K=>K.position==="userFacing"),G=k.filter(K=>K.position==="worldFacing");return Le.isDesktopDevice()?(J=R(J,"userFacing"),G=R(G,"worldFacing")):k.every(K=>K.label==="")?G.reverse():(J.sort((K,xe)=>K.label.localeCompare(xe.label)),G.sort((K,xe)=>K.label.localeCompare(xe.label)),Le.getUserAgentInfo().getOS().name==="iOS"&&(J.some((K,xe)=>y(K.label)&&I(J,xe)>=0),G.some((K,xe)=>w(K.label)&&I(G,xe)>=0),G.some((K,xe)=>v(K.label)&&I(G,xe)>=0)||G.some((K,xe)=>p(K.label)&&I(G,xe)>=0))),P==="userFacing"?[...J,...G]:[...G,...J]}t.sortCamerasForCameraPosition=F;function te(k,P){let R=k.getVideoTracks();if(R.length>0){let J=R[0],G;typeof J.getSettings=="function"&&(G=J.getSettings(),G.facingMode!=null&&G.facingMode.length>0&&(P.position=G.facingMode==="environment"?"worldFacing":"userFacing"));let{label:K=""}=J;K.length>0&&(P.label=K)}}t.adjustCameraFromMediaStream=te;function ae(k,P,R){if(t.deviceIdToCameraObjects.has(k.deviceId))return t.deviceIdToCameraObjects.get(k.deviceId);let{label:J="",deviceId:G}=k,K;return!Le.isDesktopDevice()&&R.every(xe=>xe.label===""&&!t.deviceIdToCameraObjects.has(xe.deviceId))?K=R.length===1||P+1<=Math.floor(R.length/2)?"userFacing":"worldFacing":K=m(J)?"worldFacing":"userFacing",{position:K,label:J,deviceId:G}}function ne(k){let P=k.map((R,J,G)=>ae(R,J,G)).map(R=>(R.deviceId!==""&&t.deviceIdToCameraObjects.set(R.deviceId,R),R)).filter(R=>!/\b(?:ir|infrared)\b/i.test(R.label)).filter(R=>!n.has(R.label)).filter(R=>!t.inaccessibleDeviceIds.has(R.deviceId));if(!Le.isDesktopDevice()&&P.length>1&&!P.some(R=>R.position==="worldFacing")){let R=P.length-1,J=P.map(G=>{let K=/\b(\d+)mp?\b/i.exec(G.label);return K!=null?Number.parseInt(K[1],10):Number.NaN});J.some(G=>Number.isNaN(G))||(R=J.lastIndexOf(Math.max(...J))),P[R].position="worldFacing"}return P}async function Ge(){if(u!=null&&u.length>0&&u.every(k=>k.label===""&&!t.deviceIdToCameraObjects.has(k.deviceId)))try{return await l()({video:!0,audio:!1})}catch{}}function ct(k,P){var R,J;if(P.length>0&&k.length===P.length&&!P.every((G,K)=>k[K].deviceId===G.deviceId)){let G={};for(let[K,xe]of k.entries()){let ce=t.deviceIdToCameraObjects.get(xe.deviceId);if(ce==null||ce.label!==((J=(R=P[K])==null?void 0:R.label)!=null?J:""))continue;let Ze=P[K].deviceId;G[ce.deviceId]=Ze,t.inaccessibleDeviceIds.has(ce.deviceId)&&t.inaccessibleDeviceIds.add(Ze),ce.deviceId=Ze,t.deviceIdToCameraObjects.set(Ze,ce)}_.log(_.Level.Debug,"Detected updated camera deviceId information and updated it accordingly",G)}}function Ce(){typeof navigator.mediaDevices.addEventListener=="function"?navigator.mediaDevices.addEventListener("devicechange",f):navigator.mediaDevices.ondevicechange=f}async function j(){let k,P=d();if(P)k=await P();else throw new wu({fullSupport:!1,scannerSupport:!0,missingFeatures:["mediaDevices"]});return k.filter(R=>R.kind==="videoinput")}async function Z(k=!1,P=!1){var R;let J=Le.checkBrowserCompatibility();if(!J.fullSupport)throw new wu(J);if(Ce(),u==null||k||h){h=!1;let K,xe=u??[];u=[];try{u=await j(),P||(K=await Ge(),K!=null&&(u=await j())),_.log(_.Level.Debug,"Camera list (devices):",...u),u.length>0&&u.every(ce=>ce.deviceId==="")&&_.log(_.Level.Debug,"Incomplete camera information listed due to user permission denial, cameras will not be accessible"),ct(xe,u)}catch(ce){throw A(ce),ce}finally{for(let ce of(R=K==null?void 0:K.getVideoTracks())!=null?R:[])ce.stop()}}let G=ne(u);return _.log(_.Level.Debug,"Camera list (cameras): ",...G),[...G]}t.getCameras=Z;async function X(k){return _.log(_.Level.Debug,"Attempt to access camera (parameters):",k.video),new Promise((P,R)=>{window.setTimeout(()=>{let J=l()(k);if(J==null){R(new Mt({name:"AbortError",message:"Cannot get stream from getUserMedia function."}));return}P(J)},0)})}function se(k,P){let R={resizeMode:"none"};switch(k){case 0:return{...R,width:{min:2880,ideal:P==="fourToThree"?2880:3840,max:4096},height:{min:1800,ideal:2160,max:2400}};case 1:return{...R,width:{min:1440,ideal:P==="fourToThree"?1440:1920,max:2160},height:{min:900,ideal:1080,max:1440}};case 2:return{...R,width:{min:960,ideal:P==="fourToThree"?960:1280,max:1440},height:{min:480,ideal:720,max:960}};case 3:return{...R,width:{min:640,ideal:640,max:800},height:{min:360,ideal:P==="fourToThree"?480:360,max:640}};default:return{}}}t.getUserMediaVideoParameters=se;function fe(k){k.deviceId!==""&&(_.log(_.Level.Debug,"Camera marked to be inaccessible:",k),t.inaccessibleDeviceIds.add(k.deviceId))}t.markCameraAsInaccessible=fe;async function et(k,P,R){_.log(_.Level.Debug,"Attempt to access camera (camera):",k);let J={audio:!1,video:se(P,R)};k.deviceId===""?J.video.facingMode={ideal:k.position==="worldFacing"?"environment":"user"}:J.video.deviceId={exact:k.deviceId};try{let G=await X(J);return te(G,k),G}catch(G){throw A(G),["OverconstrainedError","NotReadableError","NotAllowedError"].includes(G.name)||fe(k),G}}t.accessCameraStream=et})(_e||(_e={}));var Su;(t=>{async function e(r,n){return _e.getCameras(r??!1,n??!1)}t.getCameras=e})(Su||(Su={}));function rS(t,e,r){let n=t.createProgram();if(!n)throw new Error("Cannot create webgl program");return t.attachShader(n,e),t.attachShader(n,r),t.linkProgram(n),t.getProgramParameter(n,t.LINK_STATUS)?n:(_.log(_.Level.Error,"Program linking error:",t.getProgramInfoLog(n)),t.deleteProgram(n),null)}function Lh(t,e,r){let n=t.createShader(e);if(!n)throw new Error("Cannot create a shader");return t.shaderSource(n,r),t.compileShader(n),t.getShaderParameter(n,t.COMPILE_STATUS)?n:(_.log(_.Level.Error,"Shader compilation error:",t.getShaderInfoLog(n)),t.deleteShader(n),null)}var Hp=class{constructor(e,r){var n,i;this._contextWebGL=e,this._maxPoolCapacity=(n=r==null?void 0:r.maxPoolCapacity)!=null?n:2,this._minPoolCapacity=(i=r==null?void 0:r.minPoolCapacity)!=null?i:1}recycle(e){var r;(r=this._framePool)==null||r.push(e)}},Gp=class{constructor(e){if(this.items=[],e.lowWaterMark>=e.capacity)throw new Error("Invalid Watermark options: lowWaterMark must be less than capacity");this.capacity=e.capacity,this.lowWaterMark=e.lowWaterMark,this.createItem=e.createItem;for(let r=0;r<this.capacity;r++)this.items.push(this.createItem())}get length(){return this.items.length}pop(){for(;this.isBelowOrEqualWaterMark();)this.items.unshift(this.createItem());return this.items.pop()}push(e){if(this.items.length<this.capacity)return this.items.push(e)}empty(){this.items.length=0}isBelowOrEqualWaterMark(){return this.items.length<=this.lowWaterMark}},nS=`
attribute vec2 a_position;
varying vec2 v_texcoord;

void main() {
  gl_Position = vec4(a_position, 0, 1);
  v_texcoord = a_position * 0.5 + 0.5;
}
`,iS=`
precision mediump float;
varying vec2 v_texcoord;
uniform sampler2D u_texture;
uniform float x_spacing; // Uniform for x-spacing between pixels

// Function to calculate grayscale
float toGray(vec4 color) {
  return dot(color.rgb, vec3(0.299, 0.587, 0.114));
}

void main() {
  // Sample adjacent pixels with spacing of 1/width
  vec4 a = texture2D(u_texture, v_texcoord + vec2(0.0 * x_spacing, 0.0));
  vec4 b = texture2D(u_texture, v_texcoord + vec2(1.0 * x_spacing, 0.0));
  vec4 c = texture2D(u_texture, v_texcoord + vec2(2.0 * x_spacing, 0.0));
  vec4 d = texture2D(u_texture, v_texcoord + vec2(3.0 * x_spacing, 0.0));

  // Calculate grayscale values
  float grayscaleA = toGray(a);
  float grayscaleB = toGray(b);
  float grayscaleC = toGray(c);
  float grayscaleD = toGray(d);

  // Set the final color with grayscale values
  gl_FragColor = vec4(grayscaleA, grayscaleB, grayscaleC, grayscaleD);
}`,aS=class extends Hp{constructor(e,r){super(e,r),this.colorType="GRAYSCALE",this._positions=new Float32Array([-1,-1,-1,1,1,-1,1,-1,-1,1,1,1]),this._canvas=document.createElement("canvas")}get _webglContext(){var e;if(!this._ctx){if(this._ctx=(e=this._canvas)==null?void 0:e.getContext("webgl",{antialias:!1}),!this._ctx)throw new Error("Cannot get WebGL context");this.setup()}return this._ctx}readFromSource(e){var r,n;this.updateCanvasSizeIfNeeded(),this.updateFrameSizeIfNeeded();let i=(r=e==null?void 0:e.videoWidth)!=null?r:this._contextWebGL.drawingBufferWidth,{drawingBufferWidth:a,drawingBufferHeight:s,TEXTURE_2D:c,RGBA:u,UNSIGNED_BYTE:h,TRIANGLES:g}=this._webglContext;this._webglContext.viewport(0,0,a,s);let o=this._webglContext.getUniformLocation(this._shaderProgram,"x_spacing"),l=1/i;this._webglContext.uniform1f(o,l),this._webglContext.texImage2D(c,0,u,u,h,e),this._webglContext.drawArrays(g,0,6);let d=(n=this._framePool)==null?void 0:n.pop();if(!d)throw new Error("Frame pool found empty!");this._webglContext.readPixels(0,0,a,s,u,h,d);let f=new Uint8ClampedArray(d.buffer,0,i*s);return{width:i,height:s,data:f,colorType:"GRAYSCALE"}}setup(){this.initShaderProgram(),this.initBuffers(),this.initTexture()}dispose(){var e;this._shaderProgram&&(this._webglContext.deleteProgram(this._shaderProgram),this._shaderProgram=null),this._positionBuffer&&(this._webglContext.deleteBuffer(this._positionBuffer),this._positionBuffer=null),this._texture&&(this._webglContext.deleteTexture(this._texture),this._texture=null),this._ctx=null,(e=this._framePool)==null||e.empty(),this._canvas=void 0}updateCanvasSizeIfNeeded(){this._canvas&&(this._canvas.width!==this._contextWebGL.drawingBufferWidth/4||this._canvas.height!==this._contextWebGL.drawingBufferHeight)&&(this._canvas.width=this._contextWebGL.drawingBufferWidth/4,this._canvas.height=this._contextWebGL.drawingBufferHeight)}updateFrameSizeIfNeeded(){var e;let{drawingBufferWidth:r,drawingBufferHeight:n}=this._webglContext,i=r*n*4;this._frameSize!==i&&(this._frameSize=r*n*4,(e=this._framePool)==null||e.empty(),this._framePool=new Gp({capacity:this._maxPoolCapacity,lowWaterMark:this._minPoolCapacity,createItem:()=>new Uint8ClampedArray(this._frameSize)}))}initShaderProgram(){let e=Lh(this._webglContext,this._webglContext.VERTEX_SHADER,nS),r=Lh(this._webglContext,this._webglContext.FRAGMENT_SHADER,iS);if(!e||!r)throw new Error("Shaders cannot be created");this._shaderProgram=rS(this._webglContext,e,r),this._webglContext.useProgram(this._shaderProgram)}initBuffers(){this._positionBuffer=this._webglContext.createBuffer(),this._webglContext.bindBuffer(this._webglContext.ARRAY_BUFFER,this._positionBuffer),this._webglContext.bufferData(this._webglContext.ARRAY_BUFFER,this._positions,this._webglContext.STATIC_DRAW);let e=this._webglContext.getAttribLocation(this._shaderProgram,"a_position");this._webglContext.enableVertexAttribArray(e),this._webglContext.bindBuffer(this._webglContext.ARRAY_BUFFER,this._positionBuffer),this._webglContext.vertexAttribPointer(e,2,this._webglContext.FLOAT,!1,0,0)}initTexture(){this._texture=this._webglContext.createTexture(),this._webglContext.bindTexture(this._webglContext.TEXTURE_2D,this._texture),this._webglContext.texParameteri(this._webglContext.TEXTURE_2D,this._webglContext.TEXTURE_WRAP_S,this._webglContext.CLAMP_TO_EDGE),this._webglContext.texParameteri(this._webglContext.TEXTURE_2D,this._webglContext.TEXTURE_WRAP_T,this._webglContext.CLAMP_TO_EDGE),this._webglContext.texParameteri(this._webglContext.TEXTURE_2D,this._webglContext.TEXTURE_MIN_FILTER,this._webglContext.LINEAR),this._webglContext.texParameteri(this._webglContext.TEXTURE_2D,this._webglContext.TEXTURE_MAG_FILTER,this._webglContext.LINEAR);let e=this._webglContext.getUniformLocation(this._shaderProgram,"u_texture");this._webglContext.uniform1i(e,0)}},oS=(t=>(t.RGBA="RGBA",t.GRAYSCALE="GRAYSCALE",t))(oS||{}),Ih=class extends Hp{constructor(){super(...arguments),this.colorType="RGBA"}get _initialized(){return this._texture!=null&&this._framebuffer!=null}readFromSource(e){this._initialized||this.setup(),this.updateFrameSizeIfNeeded();let r=this._framePool.pop();return this._contextWebGL.texImage2D(this._contextWebGL.TEXTURE_2D,0,this._contextWebGL.RGBA,this._contextWebGL.RGBA,this._contextWebGL.UNSIGNED_BYTE,e),this._contextWebGL.readPixels(0,0,this._contextWebGL.drawingBufferWidth,this._contextWebGL.drawingBufferHeight,this._contextWebGL.RGBA,this._contextWebGL.UNSIGNED_BYTE,r),{width:this._contextWebGL.drawingBufferWidth,height:this._contextWebGL.drawingBufferHeight,data:r,colorType:this.colorType}}setup(){this._texture=this._contextWebGL.createTexture(),this._texture==null&&_.log(_.Level.Warn,"Could not create texture from WebGLRenderingContext"),this._contextWebGL.bindTexture(this._contextWebGL.TEXTURE_2D,this._texture),this._framebuffer=this._contextWebGL.createFramebuffer(),this._framebuffer==null&&_.log(_.Level.Warn,"Could not create frameBuffer from WebGLRenderingContext"),this._contextWebGL.bindFramebuffer(this._contextWebGL.FRAMEBUFFER,this._framebuffer),this._contextWebGL.framebufferTexture2D(this._contextWebGL.FRAMEBUFFER,this._contextWebGL.COLOR_ATTACHMENT0,this._contextWebGL.TEXTURE_2D,this._texture,0),this._contextWebGL.texParameteri(this._contextWebGL.TEXTURE_2D,this._contextWebGL.TEXTURE_WRAP_S,this._contextWebGL.CLAMP_TO_EDGE),this._contextWebGL.texParameteri(this._contextWebGL.TEXTURE_2D,this._contextWebGL.TEXTURE_WRAP_T,this._contextWebGL.CLAMP_TO_EDGE),this._contextWebGL.texParameteri(this._contextWebGL.TEXTURE_2D,this._contextWebGL.TEXTURE_MIN_FILTER,this._contextWebGL.NEAREST),this._contextWebGL.texParameteri(this._contextWebGL.TEXTURE_2D,this._contextWebGL.TEXTURE_MAG_FILTER,this._contextWebGL.NEAREST)}dispose(){var e;this._texture!=null&&(this._contextWebGL.deleteTexture(this._texture),this._texture=null),this._framebuffer!=null&&(this._contextWebGL.deleteFramebuffer(this._framebuffer),this._framebuffer=null),(e=this._framePool)==null||e.empty()}updateFrameSizeIfNeeded(){var e;let{drawingBufferWidth:r,drawingBufferHeight:n}=this._contextWebGL,i=r*n*4;this._frameSize!==i&&(this._frameSize=i,(e=this._framePool)==null||e.empty(),this._framePool=new Gp({capacity:this._maxPoolCapacity,lowWaterMark:this._minPoolCapacity,createItem:()=>new Uint8ClampedArray(this._frameSize)}))}},sS=(t=>(t.CONTINUOUS="continuous",t.MANUAL="manual",t.NONE="none",t.SINGLE_SHOT="single-shot",t))(sS||{}),lS=(t=>(t[t.ULTRA_HD=0]="ULTRA_HD",t[t.FULL_HD=1]="FULL_HD",t[t.HD=2]="HD",t[t.SD=3]="SD",t[t.NONE=4]="NONE",t))(lS||{}),uS=(t=>(t.CAMERA_PROPERTIES="cameraProperties",t.CAMERA_ACCESS_ERROR="cameraAccessError",t))(uS||{}),Ft=class ke{constructor(){this.checkCameraVideoStreamAccessIfVisibleListener=this.checkCameraVideoStreamAccessIfVisible.bind(this),this.handleWebGLContextLostListener=this.handleWebGLContextLost.bind(this),this.listeners=new Map,this.mirrorImageOverrides=new Map,this.postStreamInitializationListener=this.postStreamInitialization.bind(this),this.triggerManualFocusListener=this.triggerManualFocus.bind(this),this.triggerZoomMoveListener=this.triggerZoomMove.bind(this),this.triggerZoomStartListener=this.triggerZoomStart.bind(this),this.videoResizeListener=jp(this.handleVideoResize.bind(this),500),this.videoTrackEndedListener=this.videoTrackEndedRecovery.bind(this),this.videoTrackMuteListener=this.videoTrackMuteRecovery.bind(this),this._synchronousFrameHandling=!1,this._glFrameReaders={GRAYSCALE:null,RGBA:null},this._frameReaderType="RGBA",this.cameraPosition="worldFacing",this.gui={isCameraRecoveryVisible:()=>!1,setCameraRecoveryVisible:()=>{}},this.isWebGLSupported=!Le.checkBrowserCompatibility().missingFeatures.includes("webGL"),this.videoElement=document.createElement("video"),this.canvas=document.createElement("canvas"),this.canvas.addEventListener("webglcontextlost",this.handleWebGLContextLostListener)}get mediaStream(){return this._mediaStream}set mediaStream(e){this._mediaStream=e,e&&(this.mediaTrackCapabilitiesPromise=new Promise(r=>{this.mediaTrackCapabilitiesPromiseResolver=r}))}get synchronousFrameHandling(){return this._synchronousFrameHandling}get canvas2dContext(){return this._canvas2dContext||(this._canvas2dContext=this.canvas.getContext("2d",{willReadFrequently:!0}),this._canvas2dContext==null&&_.log(_.Level.Warn,"Unable to get 2d canvas context"),this.handleVideoResize()),this._canvas2dContext}get canvasWebGLContext(){var e;if(!this._canvas2dContext&&!this._canvasWebGLContext){if(!this.isWebGLSupported){_.log(_.Level.Warn,"WebGL context not supported, falling back to 2d canvas context. This may impact the scanning performance.");return}let r=(e=this.canvas.getContext("webgl",{alpha:!1,antialias:!1}))!=null?e:this.canvas.getContext("experimental-webgl",{alpha:!1,antialias:!1});r!=null&&(this._canvasWebGLContext=r,this.handleVideoResize())}return this._canvasWebGLContext}static instance(){return ke._instance==null&&(ke._instance=new ke),ke._instance}recycle(e){var r;(r=this.getFrameReader())==null||r.recycle(e)}getCurrentFrame(){var e;return(e=this._glFrameReaders.RGBA)==null?void 0:e.readFromSource(this.videoElement)}requestVideoFrame(e){return"requestVideoFrameCallback"in HTMLVideoElement.prototype?this.videoElement.requestVideoFrameCallback(e):requestAnimationFrame(e)}cancelVideoFrame(e){if("cancelVideoFrameCallback"in HTMLVideoElement.prototype){this.videoElement.cancelVideoFrameCallback(e);return}cancelAnimationFrame(e)}addListener(e,r){var n;let i=(n=this.listeners.get(e))!=null?n:[];i.includes(r)||this.listeners.set(e,[...i,r])}async applyCameraSettings(e){if(this.selectedCameraSettings=e,this.activeCamera==null)throw new Mt(ke.noCameraErrorParameters);return this.initializeCameraWithSettings(this.activeCamera,e)}captureImage(){var e;if(((e=this.mediaStream)==null?void 0:e.active)!=null){if(this.canvasWebGLContext!=null)return this.captureImageForWebGLContext();if(this.canvas2dContext!=null)return this.captureImageFor2dContext()}return null}async initializeCameraWithSettings(e,r){if(this.cameraInitializationPromise&&await this.cameraInitializationPromise,e==null)throw new Mt(ke.noCameraErrorParameters);return this.setSelectedCamera(e),this.selectedCameraSettings=r,this.activeCameraSettings=r,this.cameraInitializationPromise=this.initializeCameraAndCheckUpdatedSettings(e),this.cameraInitializationPromise}isMirrorImageEnabled(){if(this.selectedCamera&&this.activeCamera){let e=this.mirrorImageOverrides.get(this.activeCamera);return e??this.activeCamera.position==="userFacing"}return!1}isPinchToZoomEnabled(){return this.pinchToZoomEnabled}isTapToFocusEnabled(){return this.tapToFocusEnabled}async isTorchAvailable(){var e;return this.mediaStream?(await this.waitForCapabilities(),((e=this.mediaTrackCapabilities)==null?void 0:e.torch)===!0):!1}async playVideo(){return new Promise(e=>{this._canvas2dContext&&this._canvas2dContext.clearRect(0,0,this.canvas.width,this.canvas.height);let r=this.videoElement.play();r==null?e():r.then(e).catch(()=>{e()})})}async reinitializeCamera(){if(this.activeCamera==null)_.log(_.Level.Debug,"Camera reinitialization delayed");else{_.log(_.Level.Debug,"Reinitialize camera:",this.activeCamera);try{let e=this.activeCamera;await this.stopStream(),await this.initializeCameraWithSettings(e,this.activeCameraSettings)}catch(e){throw _.log(_.Level.Warn,"Couldn't access camera:",this.activeCamera,e),this.emit("cameraAccessError",e),e}}}removeListener(e,r){var n;let i=((n=this.listeners.get(e))!=null?n:[]).filter(a=>a!==r);this.listeners.set(e,i)}async setCameraPosition(e){var r;this.setInitialCameraPosition(e);let n=_e.getMainCameraForPosition(await _e.getCameras(),e);if(n&&n.deviceId!==((r=this.selectedCamera)==null?void 0:r.deviceId))return this.initializeCameraWithSettings(n,this.selectedCameraSettings)}async setExposure(e){var r,n,i,a,s,c,u,h;let g=(n=(r=this.mediaStream)==null?void 0:r.getVideoTracks())!=null?n:[];if(g.length===0||typeof g[0].applyConstraints!="function")return;await this.waitForCapabilities();let o=e.time!=null&&e.time>0?"manual":"continuous";if(((a=(i=this.mediaTrackCapabilities)==null?void 0:i.exposureMode)==null?void 0:a.includes(o))===!0){if(await g[0].applyConstraints({advanced:[{exposureMode:o}]}),e.time!=null&&e.time>0&&this.mediaTrackCapabilities.exposureTime){let l=Math.max((s=this.mediaTrackCapabilities.exposureTime.min)!=null?s:.01,Math.min(e.time,(c=this.mediaTrackCapabilities.exposureTime.max)!=null?c:1e5));await g[0].applyConstraints({advanced:[{exposureTime:l}]})}else if(e.compensation!=null&&o==="continuous"&&this.mediaTrackCapabilities.exposureCompensation){let l=Math.max((u=this.mediaTrackCapabilities.exposureCompensation.min)!=null?u:-10,Math.min(e.compensation,(h=this.mediaTrackCapabilities.exposureCompensation.max)!=null?h:10));await g[0].applyConstraints({advanced:[{exposureCompensation:l}]})}}}async setFocus(e){var r,n,i,a,s;if(!this.mediaStream)return;let c=this.mediaStream.getVideoTracks();if(c.length>0&&typeof c[0].applyConstraints=="function"){await this.waitForCapabilities();let u=e>=0?"manual":"continuous";if(((n=(r=this.mediaTrackCapabilities)==null?void 0:r.focusMode)==null?void 0:n.includes(u))===!0&&(await c[0].applyConstraints({advanced:[{focusMode:u}]}),u==="manual"&&this.mediaTrackCapabilities.focusDistance)){let h=Math.max(0,Math.min(e,1))*(((i=this.mediaTrackCapabilities.focusDistance.max)!=null?i:1e3)-((a=this.mediaTrackCapabilities.focusDistance.min)!=null?a:.01))+((s=this.mediaTrackCapabilities.focusDistance.min)!=null?s:.01);await c[0].applyConstraints({advanced:[{focusDistance:h}]})}}}async setFrameRate(e){var r,n,i;if(this.mediaStream&&(await this.waitForCapabilities(),(r=this.mediaTrackCapabilities)!=null&&r.frameRate)){let a=this.mediaStream.getVideoTracks();if(a.length>0&&typeof a[0].applyConstraints=="function"){let s=Math.min((n=this.mediaTrackCapabilities.frameRate.max)!=null?n:240,(i=e.max)!=null?i:240);await a[0].applyConstraints({advanced:[{frameRate:s}]})}}}setInitialCameraPosition(e){this.cameraPosition=e}setInteractionOptions(e,r,n){this.torchToggleEnabled=e,this.tapToFocusEnabled=r,this.pinchToZoomEnabled=n}setMirrorImageEnabled(e,r){this.selectedCamera&&(e?(this.videoElement.classList.add(ke.MIRRORED_CLASS_NAME),this.canvas.classList.add(ke.MIRRORED_CLASS_NAME)):(this.videoElement.classList.remove(ke.MIRRORED_CLASS_NAME),this.canvas.classList.remove(ke.MIRRORED_CLASS_NAME)),r&&this.mirrorImageOverrides.set(this.selectedCamera,e))}setPinchToZoomEnabled(e){this.pinchToZoomEnabled=e,this.mediaStream&&(this.pinchToZoomEnabled?this.enablePinchToZoomListeners():this.disablePinchToZoomListeners())}setSelectedCamera(e){this.selectedCamera=e}setSelectedCameraSettings(e){this.selectedCameraSettings=e}setTapToFocusEnabled(e){this.tapToFocusEnabled=e,this.mediaStream&&(this.tapToFocusEnabled?this.enableTapToFocusListeners():this.disableTapToFocusListeners())}async setTorchEnabled(e){var r;if(this.mediaStream&&((r=this.mediaTrackCapabilities)==null?void 0:r.torch)===!0){this.torchEnabled=e;let n=this.mediaStream.getVideoTracks();n.length>0&&typeof n[0].applyConstraints=="function"&&await n[0].applyConstraints({advanced:[{torch:e}]})}}async setZoom(e){var r,n,i;if(this.mediaStream&&(await this.waitForCapabilities(),(r=this.mediaTrackCapabilities)!=null&&r.zoom)){let a=this.mediaStream.getVideoTracks();if(a.length>0&&typeof a[0].applyConstraints=="function"){let s=Math.max((n=this.mediaTrackCapabilities.zoom.min)!=null?n:1,Math.min(e,(i=this.mediaTrackCapabilities.zoom.max)!=null?i:16));await a[0].applyConstraints({advanced:[{zoom:s}]})}}}async setupCameras(){return this.cameraSetupPromise?this.cameraSetupPromise:(this.cameraSetupPromise=this.setupCamerasAndStream(),this.cameraSetupPromise)}pauseStream(){if(!this.mediaStream)return;let e=this.mediaStream.getVideoTracks()[0];e.enabled=!1,_.log(_.Level.Debug,"Pause camera video stream",this.mediaStream)}resumeStream(){if(!this.mediaStream)return;let e=this.mediaStream.getVideoTracks()[0];e.enabled=!0,_.log(_.Level.Debug,"Resume camera video stream",this.mediaStream)}async stopStream(e=!1){this.activeCamera&&(this.activeCamera.currentResolution=void 0),this.activeCamera=void 0,this.torchEnabled=!1,this.mediaStream&&(_.log(_.Level.Debug,`Stop camera video stream access${e?" (abort access detection)":""}:`,this.mediaStream),document.removeEventListener("visibilitychange",this.checkCameraVideoStreamAccessIfVisibleListener),window.clearTimeout(this.cameraAccessTimeout),window.clearInterval(this.videoMetadataCheckInterval),window.clearTimeout(this.getCapabilitiesTimeout),window.clearTimeout(this.manualFocusWaitTimeout),window.clearTimeout(this.manualToAutofocusResumeTimeout),window.clearInterval(this.autofocusInterval),this.videoElement.pause(),await new Promise(r=>{setTimeout(()=>{var n,i,a;for(let s of(i=(n=this.mediaStream)==null?void 0:n.getVideoTracks())!=null?i:[])s.removeEventListener("ended",this.videoTrackEndedListener),s.stop();this.videoElement.srcObject=null,this._canvas2dContext&&this._canvas2dContext.clearRect(0,0,this.canvas.width,this.canvas.height),this.mediaStream=void 0,this.mediaTrackCapabilities=void 0,this.mediaTrackCapabilitiesPromise=void 0,this.mediaTrackCapabilitiesPromiseResolver=void 0,e||(a=this.abortedCameraInitializationResolveCallback)==null||a.call(this),r()},0)}))}stopVideoTracks(){if(this.mediaStream!=null)for(let e of this.mediaStream.getVideoTracks())e.stop()}async toggleTorch(){this.torchEnabled=!this.torchEnabled,await this.setTorchEnabled(this.torchEnabled)}updateCanvasVideoImage(){this.canvas2dContext.drawImage(this.videoElement,0,0)}async waitForCapabilities(){var e;return(e=this.mediaTrackCapabilitiesPromise)!=null?e:Promise.resolve()}setFrameReaderType(e){e!==this._frameReaderType&&(this._frameReaderType=e,_.log(_.Level.Debug,`Change frame reader type to ${this._frameReaderType} mode`))}async allowPictureInPicture(e){e?(this.videoElement.disablePictureInPicture=!1,this.videoElement.removeAttribute("controlslist"),this.videoElement.removeAttribute("disablepictureinpicture")):(this.videoElement.disablePictureInPicture=!0,this.videoElement.setAttribute("controlslist","nodownload"),this.videoElement.setAttribute("disablepictureinpicture","true")),await this.reinitializeCamera()}setFrameHandling(e){var r;this._synchronousFrameHandling=e,this._frameReaderOptions=this.getFrameReaderOptions(e),(r=this._glFrameReaders[this._frameReaderType])==null||r.dispose(),delete this._glFrameReaders[this._frameReaderType]}async accessAutoselectedCamera(e){let r=_e.sortCamerasForCameraPosition(e,this.cameraPosition),n=r.shift();for(;n;)try{await this.initializeCameraWithSettings(n,this.selectedCameraSettings);return}catch(i){if(this.setSelectedCamera(),r.length>0){_.log(_.Level.Warn,"Couldn't access camera:",n,i),n=r.shift();continue}throw i}throw new Mt(ke.noCameraErrorParameters)}getFrameReaderOptions(e){return e?{minPoolCapacity:0,maxPoolCapacity:1}:Le.isDesktopDevice()?{maxPoolCapacity:2,minPoolCapacity:1}:{maxPoolCapacity:10,minPoolCapacity:3}}getFrameReader(){var e;if(this._glFrameReaders[this._frameReaderType])return this._glFrameReaders[this._frameReaderType];if(!this._canvasWebGLContext)return null;let r=(e=this._frameReaderOptions)!=null?e:this.getFrameReaderOptions(this._synchronousFrameHandling);switch(this._frameReaderType){case"GRAYSCALE":{this._glFrameReaders.GRAYSCALE=new aS(this._canvasWebGLContext,r),this._glFrameReaders.RGBA=new Ih(this._canvasWebGLContext,{minPoolCapacity:1,maxPoolCapacity:2});break}case"RGBA":{this._glFrameReaders.RGBA=new Ih(this._canvasWebGLContext,r);break}default:Cp(this._frameReaderType)}return _.debug(`Created frame reader ${this._frameReaderType}`,r),this._glFrameReaders[this._frameReaderType]}async accessInitialCamera(){let e={position:this.cameraPosition,deviceId:"",label:""};try{await this.initializeCameraWithSettings(e,this.selectedCameraSettings)}catch{}finally{this.setSelectedCamera()}return e}recreateCanvas(){this.canvas.removeEventListener("webglcontextlost",this.handleWebGLContextLostListener),this._canvasWebGLContext=void 0,this._canvas2dContext=void 0;for(let r of Object.values(this._glFrameReaders))r==null||r.dispose();let e=document.createElement("canvas");e.addEventListener("webglcontextlost",this.handleWebGLContextLostListener),e.width=this.canvas.width,e.height=this.canvas.height,e.className=this.canvas.className,this.canvas=e}captureImageFor2dContext(){if(!this.isVideoAndContextStateValid())return null;let{width:e,height:r}=this.canvas;return{colorType:"RGBA",data:this.canvas2dContext.getImageData(0,0,e,r).data,width:e,height:r}}areVideoAndWebGLSizeMismatching(){return this.canvasWebGLContext?this.canvasWebGLContext.drawingBufferWidth!==this.videoElement.videoWidth||this.canvasWebGLContext.drawingBufferHeight!==this.videoElement.videoHeight:!0}captureImageForWebGLContext(){if(!this.isVideoAndContextStateValid()||!this.canvasWebGLContext||this.canvasWebGLContext.drawingBufferWidth<=2||this.canvasWebGLContext.drawingBufferHeight<=2||this.areVideoAndWebGLSizeMismatching()||this.getFrameReader()==null)return null;let e=this.getFrameReader().readFromSource(this.videoElement);if(e.data[3]!==255&&e.colorType==="RGBA"){if(_.log(_.Level.Warn,"Detected incorrect GPU accelerated WebGL image processing, switching to canvas mode"),this.recreateCanvas(),this.canvas2dContext==null)throw new Error("Unable to get 2d canvas context");return this.captureImage()}return e}async checkCameraAccess(e){return new Promise((r,n)=>{this.cameraAccessRejectCallback=i=>{_.log(_.Level.Debug,"Camera video stream access failure (video data load timeout):",e),this.gui.setCameraRecoveryVisible(!0),n(i)},this.setCameraAccessTimeout()})}checkCameraVideoStreamAccessIfVisible(){document.visibilityState==="visible"&&(_.log(_.Level.Debug,"Page is visible again, waiting for camera video stream start..."),document.removeEventListener("visibilitychange",this.checkCameraVideoStreamAccessIfVisibleListener),this.setCameraAccessTimeout())}async checkVideoMetadata(e){return new Promise((r,n)=>{this.videoElement.onloadeddata=()=>{if(this.videoElement.onloadeddata=null,window.clearTimeout(this.cameraAccessTimeout),this.videoElement.videoWidth>2&&this.videoElement.videoHeight>2&&this.videoElement.currentTime>0){this.updateActiveCameraCurrentResolution(e),_.log(_.Level.Debug,"Camera video stream access success:",e),r();return}let i=performance.now();window.clearInterval(this.videoMetadataCheckInterval),this.videoMetadataCheckInterval=window.setInterval(async()=>{if(this.videoElement.videoWidth<=2||this.videoElement.videoHeight<=2||this.videoElement.currentTime===0){if(performance.now()-i>ke.videoMetadataCheckTimeoutMs){_.log(_.Level.Warn,"Camera video stream access failure (valid video metadata timeout):",e),window.clearInterval(this.videoMetadataCheckInterval),await this.stopStream(!0),n(new Mt(ke.notReadableErrorParameters));return}return}window.clearInterval(this.videoMetadataCheckInterval),this.updateActiveCameraCurrentResolution(e),_.log(_.Level.Debug,"Camera video stream access success:",e),r()},ke.videoMetadataCheckIntervalMs)}})}disablePinchToZoomListeners(){this.videoElement.removeEventListener("touchstart",this.triggerZoomStartListener),this.videoElement.removeEventListener("touchmove",this.triggerZoomMoveListener)}disableTapToFocusListeners(){for(let e of["touchend","mousedown"])this.videoElement.removeEventListener(e,this.triggerManualFocusListener)}emit(e,r){var n;let i=(n=this.listeners.get(e))!=null?n:[];for(let a of i)a(r)}enablePinchToZoomListeners(){this.videoElement.addEventListener("touchstart",this.triggerZoomStartListener),this.videoElement.addEventListener("touchmove",this.triggerZoomMoveListener)}enableTapToFocusListeners(){for(let e of["touchend","mousedown"])this.videoElement.addEventListener(e,this.triggerManualFocusListener)}getActiveCamera(e,r,n){return e.length===1?e[0]:e.find(i=>i.deviceId===n||i.label!==""&&i.label===r)}getInitialCameraResolutionConstraint(e){var r;let n;switch((r=this.activeCameraSettings)==null?void 0:r.preferredResolution){case"uhd4k":{n=0;break}case"fullHd":{n=1;break}case"hd":default:{n=2;break}}return n}async handleCameraInitializationError(e,r,n){if(!["OverconstrainedError","NotReadableError"].includes(n.name)||n.name==="NotReadableError"&&r===4)throw _.log(_.Level.Debug,"Camera video stream access failure (unrecoverable error)",e,n),n.name!=="NotAllowedError"&&_e.markCameraAsInaccessible(e),n;if(n.name==="OverconstrainedError"&&r===4){if(e.deviceId==="")throw _.log(_.Level.Warn,"Camera video stream access failure (no camera with such type error)",e,n),n;_.log(_.Level.Warn,"Detected non-existent deviceId error, attempt to find and reaccess updated camera",e,n);let i=e.deviceId;if(await _e.getCameras(!0),i===e.deviceId)throw _.log(_.Level.Warn,"Camera video stream access failure (updated camera not found after non-existent deviceId error)",e,n),_e.markCameraAsInaccessible(e),n;return _.log(_.Level.Warn,"Updated camera found (recovered from non-existent deviceId error), attempt to access it",e),this.initializeCameraForResolution(e)}return this.initializeCameraForResolution(e,r+1)}handleVideoResize(){if(!(this.videoElement.videoWidth<=2||this.videoElement.videoHeight<=2)){if(this.activeCamera&&this.updateActiveCameraCurrentResolution(this.activeCamera),this.canvasWebGLContext!=null){if(this.canvas.width===this.videoElement.videoWidth&&this.canvas.height===this.videoElement.videoHeight)return;this.canvas.width=this.videoElement.videoWidth,this.canvas.height=this.videoElement.videoHeight,this.canvasWebGLContext.viewport(0,0,this.canvasWebGLContext.drawingBufferWidth,this.canvasWebGLContext.drawingBufferHeight)}else if(this.canvas2dContext!=null){if(this.canvas.width===this.videoElement.videoWidth&&this.canvas.height===this.videoElement.videoHeight)return;this.canvas.width=this.videoElement.videoWidth,this.canvas.height=this.videoElement.videoHeight}}}handleWebGLContextLost(){_.log(_.Level.Warn,"WebGL context has been lost, restoring..."),this._canvasWebGLContext=void 0,this.canvasWebGLContext?(this.handleVideoResize(),_.log(_.Level.Warn,"WebGL context restored")):_.log(_.Level.Error,"WebGL context restore failed")}async initializeCameraAndCheckUpdatedSettings(e){var r,n,i,a,s;try{if(await this.initializeCameraForResolution(e),this.selectedCameraSettings!==this.activeCameraSettings&&(this.selectedCameraSettings==null||this.activeCameraSettings==null||Object.keys(this.selectedCameraSettings).some(l=>{var d,f;return((d=this.selectedCameraSettings)==null?void 0:d[l])!==((f=this.activeCameraSettings)==null?void 0:f[l])}))){this.activeCameraSettings=this.selectedCameraSettings,await this.initializeCameraAndCheckUpdatedSettings(e);return}this.activeCameraSettings&&this.activeCameraSettings.zoomFactor>1&&await this.setZoom(this.activeCameraSettings.zoomFactor);let c=(r=this.activeCameraSettings)==null?void 0:r.getProperty("minFrameRate"),u=(n=this.activeCameraSettings)==null?void 0:n.getProperty("maxFrameRate");(c!=null||u!=null)&&await this.setFrameRate({min:c,max:u});let h=(i=this.activeCameraSettings)==null?void 0:i.getProperty("manualLensPosition");h!=null&&await this.setFocus(h);let g=(a=this.activeCameraSettings)==null?void 0:a.getProperty("exposureTargetBias"),o=(s=this.activeCameraSettings)==null?void 0:s.getProperty("exposureDuration");(g!=null||o!=null)&&await this.setExposure({compensation:g,time:o})}finally{this.cameraInitializationPromise=void 0}}async initializeCameraForResolution(e,r){var n;this.gui.setCameraRecoveryVisible(!1);let i=r??this.getInitialCameraResolutionConstraint(e);this.mediaStream!=null&&e.deviceId!==""&&((n=this.activeCamera)==null?void 0:n.deviceId)===e.deviceId?await(Le.isIPhone()?this.initializeStreamForResolution(e,i):this.updateStreamForResolution(e,i)):await this.initializeStreamForResolution(e,i)}async initializeStreamForResolution(e,r){var n;await this.stopStream();try{let i=(n=this.activeCameraSettings)==null?void 0:n.getProperty("preferredAspectRatio"),a=await _e.accessCameraStream(e,r,i);if(_.log(_.Level.Debug,"Camera accessed, waiting for camera video stream start..."),typeof a.getVideoTracks()[0].getSettings=="function"){let s=a.getVideoTracks()[0].getSettings();if(s.width!=null&&s.height!=null&&(s.width===2||s.height===2)){if(_.log(_.Level.Debug,"Camera video stream access failure (invalid video metadata):",e),r===4)throw new Mt(ke.notReadableErrorParameters);return await this.stopStream(),this.initializeStreamForResolution(e,r+1)}}this.mediaStream=a;for(let s of this.mediaStream.getVideoTracks())s.addEventListener("ended",this.videoTrackEndedListener),s.addEventListener("mute",this.videoTrackMuteListener),s.addEventListener("unmute",this.videoTrackMuteListener);try{await this.setupCameraStreamVideo(e,a)}catch(s){if(r===4)throw s;return this.initializeStreamForResolution(e,r+1)}}catch(i){return this.handleCameraInitializationError(e,r,i)}}isVideoAndContextStateValid(){return this.videoElement.readyState===4&&this.videoElement.videoWidth>2&&this.videoElement.videoHeight>2&&this.canvas.width>2&&this.canvas.height>2}postStreamInitialization(){window.clearTimeout(this.getCapabilitiesTimeout),this.getCapabilitiesTimeout=window.setTimeout(()=>{this.storeStreamCapabilities(),this.setupAutofocus()},ke.getCapabilitiesTimeoutMs)}async recoverStreamIfNeeded(){var e,r;let n=(e=this.mediaStream)==null?void 0:e.getVideoTracks();((r=n==null?void 0:n[0])==null?void 0:r.readyState)==="ended"&&await this.reinitializeCamera()}reportCameraProperties(e,r,n=!0){this.emit("cameraProperties",{deviceId:e,isFrontFacing:r==="userFacing",hasAutofocus:n})}setCameraAccessTimeout(){window.clearTimeout(this.cameraAccessTimeout),this.cameraAccessTimeout=window.setTimeout(async()=>{var e;document.visibilityState==="visible"?(await this.stopStream(!0),(e=this.cameraAccessRejectCallback)==null||e.call(this,new Mt(ke.notReadableErrorParameters))):(_.log(_.Level.Debug,"Page is currently not visible, delay camera video stream access detection"),document.addEventListener("visibilitychange",this.checkCameraVideoStreamAccessIfVisibleListener))},ke.cameraAccessTimeoutMs)}setupAutofocus(){if(window.clearTimeout(this.manualFocusWaitTimeout),window.clearTimeout(this.manualToAutofocusResumeTimeout),this.mediaStream&&this.mediaTrackCapabilities){let e=this.mediaTrackCapabilities.focusMode;Array.isArray(e)&&!e.includes("continuous")&&e.includes("single-shot")&&(window.clearInterval(this.autofocusInterval),this.autofocusInterval=window.setInterval(this.triggerAutoFocus.bind(this),ke.autofocusIntervalMs))}}async setupCameraStreamVideo(e,r){this.videoElement.addEventListener("loadedmetadata",this.postStreamInitializationListener),this.videoElement.addEventListener("resize",this.videoResizeListener),this.tapToFocusEnabled&&this.enableTapToFocusListeners(),this.pinchToZoomEnabled&&this.enablePinchToZoomListeners();let n=Promise.race([this.checkCameraAccess(e),this.checkVideoMetadata(e),new Promise(i=>{this.abortedCameraInitializationResolveCallback=i})]);return this.videoElement.srcObject=r,this.videoElement.load(),await this.playVideo(),this.handleVideoResize(),this.reportCameraProperties(e.deviceId,e.position),n}async setupCamerasAndStream(){var e,r;try{let n;this.selectedCamera==null&&(n=await this.accessInitialCamera());let i=await _e.getCameras(!1,!0),a=(r=(e=this.mediaStream)==null?void 0:e.getVideoTracks()[0])==null?void 0:r.getSettings().deviceId;if(this.mediaStream&&n){let s=this.getActiveCamera(i,n.label,a);if(s){if(_e.adjustCameraFromMediaStream(this.mediaStream,s),Le.isDesktopDevice()&&(_e.setMainCameraForPositionOverridesOnDesktop(this.cameraPosition,s),_e.setMainCameraForPositionOverridesOnDesktop(s.position,s)),i.length===1||_e.getMainCameraForPosition(i,this.cameraPosition)===s){_.log(_.Level.Debug,"Initial camera access was correct (main camera), keep camera:",s),this.setSelectedCamera(s),this.updateActiveCameraCurrentResolution(s),await this.recoverStreamIfNeeded();return}_.log(_.Level.Debug,"Initial camera access was incorrect (not main camera), change camera",{...n,deviceId:a})}else _.log(_.Level.Debug,"Initial camera access was incorrect (unknown camera), change camera",{...n,deviceId:a})}if(this.selectedCamera==null){await this.accessAutoselectedCamera(i);return}await this.initializeCameraWithSettings(this.selectedCamera,this.selectedCameraSettings)}finally{this.cameraSetupPromise=void 0}}storeStreamCapabilities(){var e;if(this.mediaStream){let r=this.mediaStream.getVideoTracks();r.length>0&&typeof r[0].getCapabilities=="function"&&(this.mediaTrackCapabilities=r[0].getCapabilities()),this.mediaTrackCapabilitiesPromiseResolver&&this.mediaTrackCapabilitiesPromiseResolver()}this.activeCamera&&this.reportCameraProperties(this.activeCamera.deviceId,this.activeCamera.position,((e=this.mediaTrackCapabilities)==null?void 0:e.focusMode)==null||this.mediaTrackCapabilities.focusMode.includes("continuous"))}async triggerAutoFocus(){await this.triggerFocusMode("single-shot")}async triggerFocusMode(e){if(this.mediaStream){let r=this.mediaStream.getVideoTracks();if(r.length>0&&typeof r[0].applyConstraints=="function")try{await r[0].applyConstraints({advanced:[{focusMode:e}]})}catch{}}}async triggerManualFocus(e){if(e){if(e.preventDefault(),e.type==="touchend"&&e.touches.length>0)return;if(this.pinchToZoomDistance!=null){this.pinchToZoomDistance=void 0;return}}if(window.clearTimeout(this.manualFocusWaitTimeout),window.clearTimeout(this.manualToAutofocusResumeTimeout),!this.mediaStream||!this.mediaTrackCapabilities)return;let r=this.mediaTrackCapabilities.focusMode;Array.isArray(r)&&r.includes("single-shot")&&(r.includes("continuous")&&r.includes("manual")?await this.triggerManualFocusForContinuous():r.includes("continuous")||await this.triggerManualFocusForSingleShot())}async triggerManualFocusForContinuous(){var e;if(!this.mediaStream)return;this.manualToAutofocusResumeTimeout=window.setTimeout(async()=>{await this.triggerFocusMode("continuous")},ke.manualToAutofocusResumeTimeoutMs);let r=!0,n=this.mediaStream.getVideoTracks();n.length>0&&typeof n[0].getConstraints=="function"&&(r=((e=n[0].getConstraints().advanced)==null?void 0:e.some(i=>i.focusMode==="manual"))===!0),r?(await this.triggerFocusMode("continuous"),this.manualFocusWaitTimeout=window.setTimeout(async()=>{await this.triggerFocusMode("manual")},ke.manualFocusWaitTimeoutMs)):await this.triggerFocusMode("manual")}async triggerManualFocusForSingleShot(){window.clearInterval(this.autofocusInterval),this.manualToAutofocusResumeTimeout=window.setTimeout(()=>{this.autofocusInterval=window.setInterval(this.triggerAutoFocus.bind(this),ke.autofocusIntervalMs)},ke.manualToAutofocusResumeTimeoutMs);try{await this.triggerFocusMode("single-shot")}catch{}}async triggerZoomMove(e){this.pinchToZoomDistance==null||(e==null?void 0:e.touches.length)!==2||e.preventDefault()}triggerZoomStart(e){var r,n,i,a;if((e==null?void 0:e.touches.length)!==2||(e.preventDefault(),this.pinchToZoomDistance=Math.hypot((e.touches[1].screenX-e.touches[0].screenX)/screen.width,(e.touches[1].screenY-e.touches[0].screenY)/screen.height),!this.mediaStream||!((r=this.mediaTrackCapabilities)!=null&&r.zoom)))return;let s=this.mediaStream.getVideoTracks();if(s.length===0||typeof s[0].getConstraints!="function")return;this.pinchToZoomInitialZoom=(n=this.mediaTrackCapabilities.zoom.min)!=null?n:1;let c=s[0].getConstraints();if(c.advanced){let u=(i=c.advanced.find(h=>"zoom"in h))==null?void 0:i.zoom;u!=null&&(this.pinchToZoomInitialZoom=typeof u=="number"?u:(a=u.ideal)!=null?a:1)}}updateActiveCameraCurrentResolution(e){this.videoElement.videoWidth>2&&this.videoElement.videoHeight>2&&(e.currentResolution={width:this.videoElement.videoWidth,height:this.videoElement.videoHeight}),e.deviceId!==""&&(this.activeCamera=e,this.setMirrorImageEnabled(this.isMirrorImageEnabled(),!1))}async updateStreamForResolution(e,r){var n;if(this.mediaStream==null)await this.initializeCameraForResolution(e,r);else try{let i=(n=this.activeCameraSettings)==null?void 0:n.getProperty("preferredAspectRatio");_.log(_.Level.Debug,"Setting new resolution for active camera video stream..."),await this.mediaStream.getVideoTracks()[0].applyConstraints(_e.getUserMediaVideoParameters(r,i)),await new Promise(s=>{this.videoElement.addEventListener("timeupdate",()=>{s()},{once:!0})});let a=this.mediaStream.getVideoTracks()[0].getSettings();_.log(_.Level.Debug,"New active camera video stream resolution set",{width:a.width,height:a.height})}catch(i){if(r===4)throw i;await this.updateStreamForResolution(e,r+1)}}async videoTrackEndedRecovery(){if(document.visibilityState==="visible")try{_.log(_.Level.Debug,'Detected video track "ended" event, try to reinitialize camera'),await this.reinitializeCamera()}catch{}else _.log(_.Level.Debug,"Page is currently not visible, delay camera reinitialization until visible"),document.addEventListener("visibilitychange",this.checkCameraVideoStreamAccessIfVisibleListener)}videoTrackMuteRecovery(e){if(this.videoElement.onloadeddata!=null){_.log(_.Level.Debug,`Detected video track "${e.type}" event, delay camera video stream access detection`),this.setCameraAccessTimeout();return}let r=e.type==="mute";r!==this.gui.isCameraRecoveryVisible()&&(_.log(_.Level.Debug,`Detected video track "${e.type}" event, ${r?"enable":"disable"} camera recovery`),this.gui.setCameraRecoveryVisible(r))}};Ft.autofocusIntervalMs=1500,Ft.cameraAccessTimeoutMs=4e3,Ft.getCapabilitiesTimeoutMs=500,Ft.manualFocusWaitTimeoutMs=400,Ft.manualToAutofocusResumeTimeoutMs=5e3,Ft.noCameraErrorParameters={name:"NoCameraAvailableError",message:"No camera available"},Ft.notReadableErrorParameters={name:"NotReadableError",message:"Could not initialize camera correctly"},Ft.videoMetadataCheckIntervalMs=50,Ft.videoMetadataCheckTimeoutMs=4e3,Ft.MIRRORED_CLASS_NAME=Je.MIRRORED_CLASS_NAME,Ft._instance=null;var ze=Ft,Co=(t=>(t.On="on",t.Off="off",t.Standby="standby",t.Starting="starting",t.Stopping="stopping",t.BootingUp="bootingUp",t.WakingUp="wakingUp",t.GoingToSleep="goingToSleep",t.ShuttingDown="shuttingDown",t))(Co||{}),Jp=(t=>(t.On="on",t.Off="off",t))(Jp||{}),cS=(t=>(t.WorldFacing="worldFacing",t.UserFacing="userFacing",t))(cS||{}),Yp=(t=>(t.Auto="auto",t.HD="hd",t.FullHD="fullHd",t.UHD4K="uhd4k",t))(Yp||{}),Qp=(t=>(t.None="none",t.Manual="manual",t.ManualUntilCapture="manualUntilCapture",t.AutoOnLocation="autoOnLocation",t))(Qp||{});function oi(t){var e;return((e=t==null?void 0:t.toJSONObject())==null?void 0:e.type)==="camera"}var fr=class qp{constructor(e){if(this.preferredResolution=st.Camera.Settings.preferredResolution,this.zoomFactor=st.Camera.Settings.zoomFactor,this.zoomGestureZoomFactor=st.Camera.Settings.zoomGestureZoomFactor,this.focus={focusGestureStrategy:st.Camera.Settings.focusGestureStrategy},e!=null)for(let r of Object.getOwnPropertyNames(e))this[r]=e[r]}get focusGestureStrategy(){return this.focus.focusGestureStrategy}set focusGestureStrategy(e){this.focus.focusGestureStrategy=e}static fromJSON(e){let r=new qp;return r.preferredResolution=e.preferredResolution,r.zoomFactor=e.zoomFactor,r.zoomGestureZoomFactor=e.zoomGestureZoomFactor,r.focusGestureStrategy=e.focusGestureStrategy,r}setProperty(e,r){this[e]=r}getProperty(e){return this[e]}toJSONObject(){let e={preferredResolution:this.preferredResolution,zoomFactor:this.zoomFactor,zoomGestureZoomFactor:this.zoomGestureZoomFactor,focus:{focusGestureStrategy:this.focus.focusGestureStrategy}},r={};for(let n of Object.keys(this))[...Object.keys(e),"focusGestureStrategy"].includes(n)||(r[n]=this[n]);return{...e,...r}}},Rc=class Ao{constructor(e){this.deviceId="",this.type="camera",this._currentState="off",this._settings=new fr,this._desiredTorchState="off",this._desiredState="off",this.listeners=[],this._context=null,this.stateTransitionStrategyMap={off:{on:this.transitionFromStateOffToOn.bind(this),standby:this.transitionFromStateOffToStandby.bind(this)},on:{off:this.transitionFromStateOnToOff.bind(this),standby:this.transitionFromStateOnToStandby.bind(this)},standby:{off:this.transitionFromStateStandbyToOff.bind(this),on:this.transitionFromStateStandbyToOn.bind(this)}},this.cameraManager=e??ze.instance(),this.updateCanvasVideoImage=this.updateCanvasVideoImage.bind(this),this.captureAndSend=this.captureAndSend.bind(this)}static get default(){let e=new Ao;return e.position="worldFacing",e}get desiredState(){return this._desiredState}get settings(){return this._settings}get currentResolution(){var e;return(e=this._currentResolution)!=null?e:null}get context(){return this._context}set context(e){this._context=e,this._context&&this.currentState==="on"&&this.startSendingCapturesToWorker()}get currentState(){return this._currentState}static atPosition(e){if(st.Camera.availablePositions.includes(e)){let r=new Ao;return r.position=e,r}return _.log(_.Level.Warn,`invalid CameraPosition: "${e}"`),null}static fromDeviceCamera(e){let r=Ao.atPosition(e.position);return r.deviceId=e.deviceId,r.label=e.label,r}async switchToDesiredState(e){var r,n;return this.currentTransitionStrategyPromise&&await this.currentTransitionStrategyPromise,this.currentTransitionStrategyPromise=(n=(r=this.stateTransitionStrategyMap[this.currentState])==null?void 0:r[e])==null?void 0:n.call(r).catch(i=>{if(i instanceof DOMException&&i.message==="The associated Track is in an invalid state"){_.log(_.Level.Warn,i);return}throw i}),this.currentTransitionStrategyPromise}getDesiredTorchState(){return this._desiredTorchState}async setDesiredTorchState(e){this._desiredTorchState=e,await this.cameraManager.setTorchEnabled(this._desiredTorchState==="on"),await this.notifyContext({type:"torchState",newValue:this._desiredTorchState})}async isTorchAvailable(){return this.cameraManager.isTorchAvailable()}addListener(e){e!=null&&(this.listeners.includes(e)||this.listeners.push(e))}removeListener(e){e!=null&&this.listeners.includes(e)&&this.listeners.splice(this.listeners.indexOf(e),1)}async applySettings(e){var r;this._settings=new fr(e);let n=this.settings.getProperty("grayScaleFrameReader");if(this.cameraManager.setFrameReaderType(n===!0?"GRAYSCALE":"RGBA"),this.currentState==="on"||this.currentState==="standby"){let i=this.cameraManager.activeCameraSettings;(i==null?void 0:i.preferredResolution)!==this.settings.preferredResolution&&(await this.cameraManager.applyCameraSettings(this.settings),(r=this.cameraManager.activeCamera)!=null&&r.currentResolution&&(this._currentResolution={width:this.cameraManager.activeCamera.currentResolution.width,height:this.cameraManager.activeCamera.currentResolution.height})),await this.cameraManager.setZoom(this.settings.zoomFactor);let a=this.settings.getProperty("minFrameRate"),s=this.settings.getProperty("maxFrameRate");(a!=null||s!=null)&&await this.cameraManager.setFrameRate({min:a,max:s});let c=this.settings.getProperty("manualLensPosition");c!=null&&await this.cameraManager.setFocus(c);let u=this.settings.getProperty("exposureTargetBias"),h=this.settings.getProperty("exposureDuration");(u!=null||h!=null)&&await this.cameraManager.setExposure({compensation:u,time:h})}return this.notifyContext({type:"cameraSettings",newValue:this.settings})}toJSONObject(){return{type:this.type,position:this.position,settings:this.settings.toJSONObject(),desiredState:this.desiredState,desiredTorchState:this._desiredTorchState}}getMirrorImageEnabled(){var e;return(e=this._desiredMirrorImageEnabled)!=null?e:this.cameraManager.isMirrorImageEnabled()}async setMirrorImageEnabled(e){this._desiredMirrorImageEnabled=e,this.cameraManager.setMirrorImageEnabled(e,!0),this.context&&await this.context.setFrameSource(this)}getCurrentState(){return this._currentState}async setCurrentState(e){if(e!==this._currentState){this._currentState=e,this.notifyListeners();try{await this.notifyContext({type:"frameSourceState",newValue:e}),e==="on"&&this.startSendingCapturesToWorker()}catch{_.log(_.Level.Warn,"Error while notifying context about new state of Camera")}}}async setupCamera(){if(this.cameraManager.setSelectedCameraSettings(this.settings),this.deviceId==="")this.cameraManager.setSelectedCamera(),this.cameraManager.setInitialCameraPosition(this.position);else{let e=(await Su.getCameras()).find(r=>r.deviceId===this.deviceId);e&&(this.cameraManager.setInitialCameraPosition(e.position),this.cameraManager.setSelectedCamera(e))}await this.cameraManager.setupCameras(),typeof this._desiredMirrorImageEnabled=="boolean"?this.cameraManager.setMirrorImageEnabled(this._desiredMirrorImageEnabled,!0):this.cameraManager.setMirrorImageEnabled(this.cameraManager.isMirrorImageEnabled(),!1),this.context&&await this.context.setFrameSource(this),this.cameraManager.activeCamera&&(this.label=this.cameraManager.activeCamera.label,this.position=this.cameraManager.activeCamera.position,this.deviceId=this.cameraManager.activeCamera.deviceId,this._currentResolution=this.cameraManager.activeCamera.currentResolution)}async notifyContext(e){if(this.context)return this.context.update([e])}notifyListeners(){for(let e of this.listeners)e.didChangeState&&e.didChangeState(this,this.currentState)}updateCanvasVideoImage(){this.currentState==="on"&&this.context&&(this.cameraManager.updateCanvasVideoImage(),this._lastCanvasVideoPreviewAnimationFrame=this.cameraManager.requestVideoFrame(this.updateCanvasVideoImage))}async captureAndSend(){if(this.currentState!=="on"||!this.context)return;if(!this.context.hasEnabledMode()){this._lastCaptureRequestAnimationFrame=this.cameraManager.requestVideoFrame(this.captureAndSend);return}let e=null;try{e=this.cameraManager.captureImage()}catch(r){_.log(_.Level.Warn,r.message)}finally{if(e!=null)if(this.cameraManager.synchronousFrameHandling){let r=await this.context.sendFrameToProcessor(e);this.cameraManager.recycle(r.data)}else this.context.sendFrameToProcessor(e).then(r=>(this.cameraManager.recycle(r.data),null)).catch(r=>{_.warn("error while recycling uint8array",r)});this._lastCaptureRequestAnimationFrame=this.cameraManager.requestVideoFrame(this.captureAndSend)}}startSendingCapturesToWorker(){this.stopSendingCapturesToWorker(),this.captureAndSend()}stopSendingCapturesToWorker(){this._lastCanvasVideoPreviewAnimationFrame!=null&&this.cameraManager.cancelVideoFrame(this._lastCanvasVideoPreviewAnimationFrame),this._lastCaptureRequestAnimationFrame!=null&&this.cameraManager.cancelVideoFrame(this._lastCaptureRequestAnimationFrame)}async transitionFromStateOffToOn(){if(!(this.currentState==="on"||this.currentState==="starting"||this.currentState==="wakingUp")){this._desiredState="on",await this.setCurrentState("starting");try{await this.setupCamera(),await this.setCurrentState("on")}catch(e){throw _.log(_.Level.Error,e),await this.setCurrentState("off"),e}}}async transitionFromStateOffToStandby(){if(!(this.currentState==="standby"||this.currentState==="bootingUp"||this.currentState==="goingToSleep")){if(await this.isAndroidWebView()){_.log(_.Level.Warn,'Warning: "Standby" state does not work inside web views. Falling back to state "On".'),await this.transitionFromStateOffToOn();return}this._desiredState="standby",await this.setCurrentState("bootingUp");try{await this.setupCamera(),this.cameraManager.pauseStream(),await this.setCurrentState("standby")}catch(e){throw _.log(_.Level.Error,e),await this.setCurrentState("off"),e}await this.setCurrentState("standby"),await this.setDesiredTorchState("off")}}async transitionFromStateOnToOff(){this.currentState==="off"||this.currentState==="stopping"||(this._desiredState="off",await this.setCurrentState("stopping"),await this.cameraManager.stopStream(),await this.setCurrentState("off"),await this.setDesiredTorchState("off"))}async transitionFromStateOnToStandby(){if(!(this.currentState==="standby"||this.currentState==="bootingUp"||this.currentState==="goingToSleep")){if(await this.isAndroidWebView()){_.log(_.Level.Warn,'Warning: "Standby" state does not work inside web views. Falling back to state "Off".'),await this.transitionFromStateOnToOff();return}this._desiredState="standby",await this.setCurrentState("goingToSleep"),this.cameraManager.pauseStream(),await this.setCurrentState("standby"),await this.setDesiredTorchState("off")}}async transitionFromStateStandbyToOff(){this.currentState==="off"||this.currentState==="stopping"||(this._desiredState="off",await this.setCurrentState("shuttingDown"),await this.cameraManager.stopStream(),await this.setCurrentState("off"),await this.setDesiredTorchState("off"))}async transitionFromStateStandbyToOn(){this.currentState==="on"||this.currentState==="starting"||this.currentState==="wakingUp"||(this._desiredState="on",await this.setCurrentState("wakingUp"),this.cameraManager.resumeStream(),await this.setCurrentState("on"))}async isAndroidWebView(){return this._isAndroidWebView==null&&(this._isAndroidWebView=await Le.isAndroidWebView()),this._isAndroidWebView}isZoomAvailable(){var e;return((e=this.cameraManager.mediaTrackCapabilities)==null?void 0:e.zoom)!=null}},dS=(t=>(t.Idle="idle",t.Pressed="pressed",t))(dS||{}),Fc=class{constructor(e,r){this.state="idle",this.isHover=!1,this.control=e,this.domHost=r,this.onTouchStartListener=this.onTouchStart.bind(this),this.onMouseEnterListener=this.onMouseEnter.bind(this),this.onMouseLeaveListener=this.onMouseLeave.bind(this),this.onClickListener=this.onClick.bind(this),this.setup()}get frameSource(){var e,r;return(r=(e=this.control.view)==null?void 0:e.getContext())==null?void 0:r.frameSource}get context(){var e;return(e=this.control.view)==null?void 0:e.getContext()}async install(){this.button||this.setup();let e=await this.canShow();return e?(this.updateButtonBackground(this.button,this.getImageFromState()),this.show()):this.hide(),e}remove(e=!1){e&&this.button?(this.button.removeEventListener("mouseenter",this.onMouseEnterListener),this.button.removeEventListener("mouseleave",this.onMouseLeaveListener),this.button.removeEventListener("touchstart",this.onTouchStartListener),this.button.removeEventListener("click",this.onClickListener),this.button.remove(),this.isHover=!1,this.button=void 0):this.hide()}hide(){this.button&&(this.button.style.display="none")}show(){this.button&&(this.button.style.display="block")}setupButton(){let e=document.createElement("button");return e.type="button",e.style.display="none",e.className=`scandit-control-widget scandit-control-widget-${this.control.type}`,this.updateButtonBackground(e,this.getImageFromState()),this.domHost.append(e),e.addEventListener("mouseenter",this.onMouseEnterListener),e.addEventListener("mouseleave",this.onMouseLeaveListener),Le.isDesktopDevice()||e.addEventListener("touchstart",this.onTouchStartListener),e.addEventListener("click",this.onClickListener),e.setAttribute("aria-pressed",String(this.state==="pressed")),this.button=e,this.button}setup(){this.setupButton()}onTouchStart(){var e,r;(e=this.button)==null||e.removeEventListener("mouseenter",this.onMouseEnterListener),(r=this.button)==null||r.removeEventListener("mouseleave",this.onMouseLeaveListener)}onMouseEnter(){this.isHover=!0,this.updateButtonBackground(this.button,this.getImageFromState())}onMouseLeave(){this.isHover=!1,this.updateButtonBackground(this.button,this.getImageFromState())}onClick(){var e;this.state=this.state==="pressed"?"idle":"pressed",this.buttonClicked(),this.updateButtonBackground(this.button,this.getImageFromState()),(e=this.button)==null||e.setAttribute("aria-pressed",String(this.state==="pressed"))}updateButtonBackground(e,r){r!=null&&e!=null&&(e.style.backgroundImage=`url(${JSON.stringify(r)})`)}},hS=class extends Fc{constructor(t,e){super(t,e)}async buttonClicked(){await this.frameSource.setDesiredTorchState(this.retrieveTorchState()==="on"?"off":"on")}async canShow(){return this.isTorchAvailable()}getImageFromState(){return this.retrieveTorchState()==="on"?this.isHover?this.control.torchOnPressedImage:this.control.torchOnImage:this.isHover?this.control.torchOffPressedImage:this.control.torchOffImage}setup(){if(this.control.torchOffImage==null||this.control.torchOnImage==null){_.log(_.Level.Warn,"TorchSwitchControl icon is not set or is empty, the control will not be rendered.");return}super.setup()}async isTorchAvailable(){return oi(this.frameSource)?this.frameSource.isTorchAvailable():!1}retrieveTorchState(){return oi(this.frameSource)?this.frameSource.getDesiredTorchState():"off"}},fS=class bo extends Fc{constructor(e,r){super(e,r)}static get CameraAccess(){return _e}static get Camera(){return Rc}async canShow(){return(await bo.CameraAccess.getCameras()).length>1}getImageFromState(){return this.isHover?this.control.pressedImage:this.control.idleImage}async buttonClicked(){if(this.isTransitioning)return;let e=await this.getNextDeviceCamera();e&&await this.switchCameras(e)}setup(){if(this.control.idleImage==null){_.log(_.Level.Warn,"CameraSwitchControl idle icon is not set or is empty, the control will not be rendered.");return}super.setup()}async getNextDeviceCamera(){var e,r;let n=await bo.CameraAccess.getCameras(),i=this.frameSource?this.frameSource:null,a=(e=i==null?void 0:i.cameraManager.activeCamera)==null?void 0:e.deviceId,s=n.findIndex(c=>c.deviceId===a);return s>-1?(r=n[s+1])!=null?r:n[0]:n.length>0?n[0]:null}async switchCameras(e){var r,n,i;this.isTransitioning=!0;let a=(r=this.context)==null?void 0:r.frameSource,s,c;a!=null&&(s=new fr(a.settings),c=a.desiredState),await(a==null?void 0:a.switchToDesiredState("off"));let u=bo.Camera.fromDeviceCamera(e);s!=null&&await u.applySettings(s),await((n=this.context)==null?void 0:n.setFrameSource(u)),await((i=this.context)==null?void 0:i.frameSource).switchToDesiredState(c??"on"),this.isTransitioning=!1}},mS=class _o extends Fc{constructor(e,r){super(e,r)}static get Camera(){return Rc}static get CameraAccess(){return _e}async install(){let e=await super.install();return e&&await this.setInitialCamera(),e}async canShow(){return!Le.isIOSDeviceWithExtendedCameraAccess()||!oi(this.frameSource)?!1:_e.isIOSBackDualWideCameraLabel(this.frameSource.label)||_e.isIOSBackCameraLabel(this.frameSource.label)||_e.isIOSUltraWideBackCameraLabel(this.frameSource.label)}getImageFromState(){return this.isUltraWideBackCamera()?this.isHover?this.control.cameraFOVUltraWidePressedImage:this.control.cameraFOVUltraWideImage:this.isHover?this.control.cameraFOVWidePressedImage:this.control.cameraFOVWideImage}async buttonClicked(){if(this.isTransitioning)return;let e=await this.getAlternativeDeviceCamera();e&&await this.switchCameras(e)}setup(){if(this.control.cameraFOVUltraWideImage==null||this.control.cameraFOVWideImage==null){_.log(_.Level.Warn,"CameraFOVSwitchControl icon is not set or is empty, the control will not be rendered.");return}super.setup()}async setInitialCamera(){var e,r;if(!this.isTransitioning&&!_e.isIOSBackCameraLabel((r=(e=this.frameSource)==null?void 0:e.label)!=null?r:"")){let n=(await _o.CameraAccess.getCameras()).find(i=>_e.isIOSBackCameraLabel(i.label));n&&await this.switchCameras(n)}}isUltraWideBackCamera(){return oi(this.frameSource)?_e.isIOSUltraWideBackCameraLabel(this.frameSource.label):!1}async getAlternativeDeviceCamera(){return(await _o.CameraAccess.getCameras()).find(e=>this.isUltraWideBackCamera()?_e.isIOSBackCameraLabel(e.label):_e.isIOSUltraWideBackCameraLabel(e.label))}async switchCameras(e){var r,n,i;this.isTransitioning=!0;let a=(r=this.context)==null?void 0:r.frameSource,s,c;a!=null&&(s=new fr(a.settings),c=a.desiredState),await(a==null?void 0:a.switchToDesiredState("off"));let u=_o.Camera.fromDeviceCamera(e);s!=null&&await u.applySettings(s),await((n=this.context)==null?void 0:n.setFrameSource(u)),await((i=this.context)==null?void 0:i.frameSource).switchToDesiredState(c??"on"),this.isTransitioning=!1}};function pS(){let t=rr`@keyframes scandit-rotation{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}.${z.CONTAINER_CLASS_NAME}{align-items:center;display:flex;flex-direction:column;height:100%;justify-content:center;overflow:hidden;width:100%}.${z.CONTAINER_CLASS_NAME}:before{animation:scandit-rotation 1s linear infinite;background-color:#fff;content:" ";height:1px;left:0;opacity:0;pointer-events:none;position:absolute;top:0;width:1px}`,e=rr`.${z.PAINTBOARDS_CONTAINER_CLASS_NAME}{height:inherit;position:relative;width:100%}.${z.PAINTBOARD_CLASS_NAME}{aspect-ratio:16/9;background-color:#000;height:100%;min-height:1px;min-width:1px;position:relative;width:100%}.${z.PAINTBOARD_CLASS_NAME}.${z.PAINTBOARD_CLASS_NAME_STATE_ON}{aspect-ratio:auto}.${z.PAINTBOARD_CLASS_NAME} video{display:block;height:100%;object-fit:cover;transition:opacity .3s;width:100%}.${z.PAINTBOARD_CLASS_NAME} .${z.MIRRORED_CLASS_NAME}{transform:scaleX(-1)}.${z.PAINTBOARD_CLASS_NAME} .${z.CAMERA_RECOVERY_CLASS_NAME}{background-color:#000;cursor:pointer;z-index:5}.${z.PAINTBOARD_CLASS_NAME} .${z.CAMERA_RECOVERY_CLASS_NAME},.${z.PAINTBOARD_CLASS_NAME} .${z.ERROR_CLASS_NAME}{align-items:center;color:#fff;display:flex;height:100%;justify-content:center;left:0;position:absolute;top:0;width:100%}.${z.PAINTBOARD_CLASS_NAME} .${z.ERROR_CLASS_NAME}{background-color:rgba(0,0,0,.5);text-align:center;z-index:6}.${z.PAINTBOARD_CLASS_NAME} .${z.HINT_CONTAINER_CLASS_NAME}{bottom:5vh;display:grid;pointer-events:none;position:absolute;top:5vh;width:100%}.${z.PAINTBOARD_CLASS_NAME} .${z.HINT_CLASS_NAME}{background-color:#fff;color:#000;padding:10px;width:fit-content}.${z.CAMERA_RECOVERY_CLASS_NAME}[hidden],.${z.ERROR_CLASS_NAME}[hidden],.${z.HINT_CLASS_NAME}[hidden]{display:none}.${z.PAINTBOARD_CLASS_NAME} canvas{height:100%;left:0;object-fit:cover;pointer-events:none;position:absolute;top:0;transition:opacity .3s;width:100%}`,r=rr`.${z.PAINTBOARD_CLASS_NAME} .${z.SINGLE_IMAGE_UPLOADER_CONTAINER_CLASS_NAME}{-webkit-tap-highlight-color:rgba(255,255,255,0);align-items:center;display:flex;flex-direction:column;height:100%;justify-content:center;width:100%}.${z.PAINTBOARD_CLASS_NAME} .${z.SINGLE_IMAGE_UPLOADER_CONTAINER_CLASS_NAME} label{align-items:center;cursor:pointer;display:flex;flex-direction:column;justify-content:center}.${z.PAINTBOARD_CLASS_NAME} .${z.SINGLE_IMAGE_UPLOADER_CONTAINER_CLASS_NAME} label input[type=file]{position:absolute;top:-9999px}.${z.PAINTBOARD_CLASS_NAME}.${z.SINGLE_IMAGE_UPLOADER_CONTAINER_CLASS_NAME} label button{pointer-events:none}`,n=rr`.${z.PAINTBOARD_CLASS_NAME} .${z.CONTROLS_CLASS_NAME}{display:flex;height:100%;left:0;pointer-events:none;position:absolute;top:0;width:100%}.${z.PAINTBOARD_CLASS_NAME} .${z.CONTROL_WIDGET_CLASS_NAME}-${z.TORCH_SWITCH_CONTROL_CLASS_NAME}{left:16px;top:24px}.${z.PAINTBOARD_CLASS_NAME} .${z.CONTROL_WIDGET_CLASS_NAME}-${z.CAMERA_SWITCH_CONTROL_CLASS_NAME}{right:16px;top:24px}.${z.PAINTBOARD_CLASS_NAME} .${z.CONTROL_WIDGET_CLASS_NAME}-${z.CAMERA_FOV_SWITCH_CONTROL_CLASS_NAME}{bottom:24px;right:24px}.${z.CONTROL_WIDGET_CLASS_NAME}{background-color:transparent;background-repeat:no-repeat;border:none;cursor:pointer;height:32px;pointer-events:all;position:absolute;width:32px}.${z.CONTROL_WIDGET_CLASS_NAME}+.${z.CONTROL_WIDGET_CLASS_NAME}{margin-left:16px}`,i=rr`.${z.FROZEN_FRAME}{height:100%;left:0;object-fit:cover;opacity:1;position:absolute;top:0;width:100%}.${z.FROZEN_FRAME}[hidden]{opacity:0;pointer-events:none;visibility:hidden}`;return[t,e,n,r,i]}var gS=new Set,Cu=gS,Dh=class Zp{constructor(e){this.element=e,this.setupListeners(),this.cacheDOMRect()}get width(){return this.cachedDOMRect.width}get height(){return this.cachedDOMRect.height}static areEquivalentJSONStates(e,r){return!e||!r?!1:e.size.isSameAs(r.size)&&e.visible===r.visible}onStateChanged(e){this.onStateChangedListener=e}onDisconnected(e){this.onDisconnectedListener=e}toJSONObject(){return{size:new Ep(new We(this.width,"pixel"),new We(this.height,"pixel")),visible:this.isVisible()}}isSameAs(e){return Zp.areEquivalentJSONStates(this.toJSONObject(),e.toJSONObject())}removeListeners(){this.resizeObserver.disconnect(),this.mutationObserver.disconnect()}isVisible(){return this.width>0&&this.height>0||this.element.getClientRects().length>0}setupListeners(){this.resizeObserver=new ResizeObserver(this.onSizeChange.bind(this)),this.resizeObserver.observe(this.element),this.mutationObserver=new MutationObserver(this.onMutation.bind(this)),this.element.parentElement&&this.mutationObserver.observe(this.element.parentElement,{childList:!0})}onSizeChange(e){var r;this.cacheDOMRect(e),document.contains(this.element)&&((r=this.onStateChangedListener)==null||r.call(this))}onMutation(e){var r;let n=e.find(({type:i})=>i==="childList");if(n){for(let i of n.removedNodes)if(i===this.element&&!document.contains(this.element)){(r=this.onDisconnectedListener)==null||r.call(this);return}}}cacheDOMRect(e){let r;Array.isArray(e)&&e.length>0&&(r=e[0].contentRect),r==null&&(r=this.element.getBoundingClientRect()),this.cachedDOMRect=r}},vS="PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxNjQuNjIgMTIuMjIiPjxwYXRoIGQ9Ik0xMDEuNTUuOTFhMi4yOCAyLjI4IDAgMCAwLTEuOTcgMS43MSAyLjcyIDIuNzIgMCAwIDAgMCAxLjExIDIuNDIgMi40MiAwIDAgMCAxLjI0IDEuNTRjLjQ2LjIzLjUuMjQgMS43OS4yNmwxLjE1LjAyLjIyLjFhMS41MSAxLjUxIDAgMCAxIC44IDEuNyAxLjQxIDEuNDEgMCAwIDEtMS4wNiAxLjA4Yy0uMTIuMDMtLjguMDQtMi4wOS4wNGE3Ljc0IDcuNzQgMCAwIDAtMS45My4wNSAzLjE5IDMuMTkgMCAwIDAgLjAxLjc3IDE0LjY5IDE0LjY5IDAgMCAwIDIuMS4wM2wyLjA4LS4wMS4yNi0uMWEyLjI3IDIuMjcgMCAwIDAgMS41LTEuNzQgMi41NSAyLjU1IDAgMCAwLS4wOC0xLjIgMi40IDIuNCAwIDAgMC0xLjE0LTEuMzZjLS40Ni0uMjItLjU1LS4yMy0xLjY1LS4yMy0xLjMyIDAtMS41My0uMDYtMS45NS0uNDdhMS40OCAxLjQ4IDAgMCAxLS40NS0uOTQgMS40MyAxLjQzIDAgMCAxIC45NC0xLjRjLjItLjA4LjItLjA4IDIuMDktLjFsMS45LS4wMXYtLjQxYy4wMi0uMzEgMC0uNDItLjAyLS40NC0uMDYtLjA0LTMuNDMtLjAzLTMuNzQgMFptMjAuMDIuMTFjLS4zNCAxLjI0LTIuMiA4LjI3LTIuMTkgOC4yOGExLjg2IDEuODYgMCAwIDAgLjQ0LjAzYy4zOCAwIC40MyAwIC40NC0uMDZsMS0zLjcyLjk4LTMuNyAxIDMuNjcgMSAzLjc1YzAgLjAzLjA2LjA2LjQ1LjA2aC40NWwtLjAyLS4xYy0uMDQtLjE1LTIuMTMtOC0yLjE5LTguMThsLS4wNS0uMTdoLTEuMjdsLS4wNC4xNFptOC4yMyA0LjA4VjkuM2guODNsLjAyLTMuNzcuMDEtMy43NyAyLjIgMy43NyAyLjIgMy43Ny41Mi4wMS41Mi4wMVY1LjEyTDEzNi4wOS45aC0uODZsLS4wMiAzLjQzLS4wMiAzLjQ0LTIuMDItMy40NEwxMzEuMTYuOWwtLjY5LS4wMWgtLjY4Wk0xNTIuNzkuOTNjLS4wMy4wNy0uMDMgOC4yOCAwIDguMzUuMDEuMDQuMDguMDUuNDMuMDVoLjRWLjg4aC0uNGMtLjM1IDAtLjQyLjAxLS40My4wNVptNS4yMi4zNnYuNDJoMi44NHYzLjhsLjAyIDMuOGguMzhhMS4wNSAxLjA1IDAgMCAwIC40Mi0uMDJjLjA0LS4wNC4wNC0uNjMuMDQtMy44MVYxLjdoMi44Vi44OGgtNi41Wk0xMTEuODUuOTZhMy4yNyAzLjI3IDAgMCAwLTIuMDQgMS42NCA0Ljk4IDQuOTggMCAwIDAtLjU1IDEuNzkgOC4yNCA4LjI0IDAgMCAwIC4wOCAyLjA2IDMuMzUgMy4zNSAwIDAgMCAyLjI4IDIuNzkgNy44NSA3Ljg1IDAgMCAwIDIuMS4wN2gxLjgzbC4wMS0uNDIuMDEtLjQyaC0xLjcxYy0xLjkgMC0xLjk0IDAtMi4zNS0uMjFhMi44NSAyLjg1IDAgMCAxLTEuMzUtMi4xIDcuMTcgNy4xNyAwIDAgMS0uMDMtMS43NyAzLjA4IDMuMDggMCAwIDEgMS43LTIuNTNjLjE4LS4wNy4yMS0uMDcgMS45NC0uMWgxLjc1Vi45MmgtMS43NGExNS45NyAxNS45NyAwIDAgMC0xLjkzLjA0Wm0yOS41NyA0LjE1djQuMmwxLjguMDFhOS41NiA5LjU2IDAgMCAwIDIuNjQtLjEzYzEuNTgtLjQ1IDIuNDktMi4xIDIuNDEtNC4zOGE0LjMxIDQuMzEgMCAwIDAtLjQzLTEuODYgMy43NiAzLjc2IDAgMCAwLTEuODctMS44NGMtLjUtLjE5LS41OC0uMi0yLjY2LS4yaC0xLjl2NC4yWm0zLjc5LTMuM2EyLjgxIDIuODEgMCAwIDEgMi4wNCAyLjA1IDMuNDkgMy40OSAwIDAgMSAuMTYgMS4zNkE0LjQ4IDQuNDggMCAwIDEgMTQ3IDcuMWEyLjIzIDIuMjMgMCAwIDEtMS4wNSAxLjEzYy0uNDUuMjItLjQ2LjIyLTIuMTUuMjRoLTEuNTN2LTYuN2gxLjM2Yy44IDAgMS40NS4wMiAxLjU4LjA0WiIgZmlsbD0iIzEyMTYxOSIgc3Ryb2tlPSIjMTIxNjE5IiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHN0cm9rZS13aWR0aD0iLjIiLz48cGF0aCBkPSJNNS45IDIuOTRoMS4xN2EzLjI3IDMuMjcgMCAwIDAtLjI5LTEuMzJBMi41NyAyLjU3IDAgMCAwIDYuMDUuNyAzIDMgMCAwIDAgNC45OC4xNyA0Ljk2IDQuOTYgMCAwIDAgMy42NSAwYTQuNzYgNC43NiAwIDAgMC0xLjI0LjE3IDMuNDEgMy40MSAwIDAgMC0xLjA4LjQ5IDIuNSAyLjUgMCAwIDAtLjc2Ljg0QTIuNDYgMi40NiAwIDAgMCAuMyAyLjcyYTIuMDMgMi4wMyAwIDAgMCAuMjUgMS4wNiAyLjA2IDIuMDYgMCAwIDAgLjY4LjY5IDMuOTMgMy45MyAwIDAgMCAuOTUuNDNxLjUzLjE2IDEuMDkuMjhsMS4wOC4yNGE0Ljk1IDQuOTUgMCAwIDEgLjk2LjMgMS44NiAxLjg2IDAgMCAxIC42OC41IDEuMTcgMS4xNyAwIDAgMSAuMjUuNzcgMS41MiAxLjUyIDAgMCAxLS4yMS44NCAxLjUxIDEuNTEgMCAwIDEtLjU1LjUgMi40NyAyLjQ3IDAgMCAxLS43Ni4yOCA0LjYxIDQuNjEgMCAwIDEtLjgzLjA3IDMuOTcgMy45NyAwIDAgMS0xLjAyLS4xMyAyLjUyIDIuNTIgMCAwIDEtLjg2LS40IDIuMDcgMi4wNyAwIDAgMS0uNi0uNyAyLjEgMi4xIDAgMCAxLS4yMy0xSDBBMy4yNiAzLjI2IDAgMCAwIC4zIDcuOWEyLjggMi44IDAgMCAwIC44NCAxLjAxIDMuNjQgMy42NCAwIDAgMCAxLjIyLjYgNS40NCA1LjQ0IDAgMCAwIDEuNDguMiA1LjY0IDUuNjQgMCAwIDAgMS4yOC0uMTYgMy43IDMuNyAwIDAgMCAxLjE2LS40OCAyLjczIDIuNzMgMCAwIDAgLjg1LS44NiAyLjMzIDIuMzMgMCAwIDAgLjMzLTEuMjYgMi4zMyAyLjMzIDAgMCAwLS4yNS0xLjE1IDIuMjYgMi4yNiAwIDAgMC0uNjgtLjc1IDMuNTggMy41OCAwIDAgMC0uOTUtLjQ4cS0uNTQtLjE4LTEuMDktLjN0LTEuMDgtLjI0YTUuNjggNS42OCAwIDAgMS0uOTYtLjI4IDEuODggMS44OCAwIDAgMS0uNjgtLjQ0Ljk3Ljk3IDAgMCAxLS4yNS0uNyAxLjUgMS41IDAgMCAxIC4xNy0uNzUgMS4zNiAxLjM2IDAgMCAxIC40Ny0uNSAyLjA0IDIuMDQgMCAwIDEgLjY3LS4yNSAzLjc4IDMuNzggMCAwIDEgLjc3LS4wOCAyLjYyIDIuNjIgMCAwIDEgMS41OC40NSAxLjkzIDEuOTMgMCAwIDEgLjcyIDEuNDVabTkuMzkgMmgxLjE0YTIuNjYgMi42NiAwIDAgMC0uMzEtMS4wNCAyLjMgMi4zIDAgMCAwLS42My0uNzIgMi42MSAyLjYxIDAgMCAwLS44OS0uNDIgNC4wNiA0LjA2IDAgMCAwLTEuMDctLjE0IDMuMjUgMy4yNSAwIDAgMC0xLjM5LjI4IDIuNzggMi43OCAwIDAgMC0xIC43NyAzLjI2IDMuMjYgMCAwIDAtLjU5IDEuMTQgNC45MyA0LjkzIDAgMCAwLS4yIDEuNDIgNC41MyA0LjUzIDAgMCAwIC4yIDEuMzggMy4wNCAzLjA0IDAgMCAwIC42IDEuMDkgMi42MyAyLjYzIDAgMCAwIDEgLjcgMy41IDMuNSAwIDAgMCAxLjM1LjI0IDIuOTIgMi45MiAwIDAgMCAyLjA0LS42NyAzLjEgMy4xIDAgMCAwIC45My0xLjkzaC0xLjEzYTEuOTQgMS45NCAwIDAgMS0uNTcgMS4yMSAxLjggMS44IDAgMCAxLTEuMjguNDMgMS44MyAxLjgzIDAgMCAxLS45LS4yIDEuNzUgMS43NSAwIDAgMS0uNi0uNTYgMi40NCAyLjQ0IDAgMCAxLS4zNS0uNzggMy43NCAzLjc0IDAgMCAxLS4xMS0uOTEgNC41NyA0LjU3IDAgMCAxIC4xLS45OSAyLjQ2IDIuNDYgMCAwIDEgLjM1LS44NCAxLjc4IDEuNzggMCAwIDEgLjY0LS41OCAyLjA2IDIuMDYgMCAwIDEgMS0uMjIgMS42OCAxLjY4IDAgMCAxIDEuMTIuMzUgMS42OCAxLjY4IDAgMCAxIC41NS45OVpNMjUuNiA5LjQ4YTEuNTYgMS41NiAwIDAgMS0uOC4xNy45NS45NSAwIDAgMS0uNjgtLjI1IDEuMDQgMS4wNCAwIDAgMS0uMjUtLjc4IDIuNjQgMi42NCAwIDAgMS0xLjA2Ljc4IDMuNSAzLjUgMCAwIDEtMS4zLjI1IDMuNSAzLjUgMCAwIDEtLjg3LS4xIDIuMDEgMi4wMSAwIDAgMS0uNy0uMzMgMS41NiAxLjU2IDAgMCAxLS40OC0uNTggMS45NSAxLjk1IDAgMCAxLS4xNy0uODYgMS45NyAxLjk3IDAgMCAxIC4yLS45NCAxLjcgMS43IDAgMCAxIC41LS41OSAyLjM1IDIuMzUgMCAwIDEgLjczLS4zNXEuNC0uMTEuODQtLjIuNDUtLjA4Ljg2LS4xM2E0LjgyIDQuODIgMCAwIDAgLjcyLS4xMyAxLjIgMS4yIDAgMCAwIC41LS4yNS42LjYgMCAwIDAgLjE4LS40NyAxLjEgMS4xIDAgMCAwLS4xNC0uNTkuOTQuOTQgMCAwIDAtLjM1LS4zMyAxLjQzIDEuNDMgMCAwIDAtLjQ4LS4xNiAzLjYzIDMuNjMgMCAwIDAtLjUzLS4wNCAyLjM0IDIuMzQgMCAwIDAtMS4xNy4yNyAxLjEzIDEuMTMgMCAwIDAtLjUgMWgtMS4xYTIuMzkgMi4zOSAwIDAgMSAuMjYtMS4wNSAxLjk3IDEuOTcgMCAwIDEgLjYyLS43IDIuNjIgMi42MiAwIDAgMSAuOS0uMzggNC43IDQuNyAwIDAgMSAxLjA3LS4xMiA2LjMgNi4zIDAgMCAxIC45LjA3IDIuMzYgMi4zNiAwIDAgMSAuOC4yNiAxLjU2IDEuNTYgMCAwIDEgLjYuNTcgMS44MSAxLjgxIDAgMCAxIC4yMS45NXYzLjQ1YTIuNTkgMi41OSAwIDAgMCAuMDUuNThxLjA0LjE5LjMuMTlhMS4xIDEuMSAwIDAgMCAuMzQtLjA3Wm0tMS44LTMuNDVhMS4zOCAxLjM4IDAgMCAxLS41NC4yM3EtLjMzLjA3LS43LjEydC0uNzUuMWEyLjc1IDIuNzUgMCAwIDAtLjY4LjE4IDEuMjMgMS4yMyAwIDAgMC0uNDguMzcgMS4wNCAxLjA0IDAgMCAwLS4yLjY2LjkuOSAwIDAgMCAuMTIuNDYuOTIuOTIgMCAwIDAgLjI4LjMgMS4yIDEuMiAwIDAgMCAuNDEuMTggMi4yNyAyLjI3IDAgMCAwIC41LjA1IDIuNjIgMi42MiAwIDAgMCAuOTMtLjE1IDEuOTcgMS45NyAwIDAgMCAuNjQtLjM4IDEuNDkgMS40OSAwIDAgMCAuMzctLjUgMS4yNSAxLjI1IDAgMCAwIC4xMS0uNVptNC43OC0zLjI1VjkuNWgxLjFWNS43YTIuNzIgMi43MiAwIDAgMSAuMTItLjg0IDEuOSAxLjkgMCAwIDEgLjM3LS42NiAxLjY1IDEuNjUgMCAwIDEgLjYyLS40NSAyLjI1IDIuMjUgMCAwIDEgLjg4LS4xNSAxLjM1IDEuMzUgMCAwIDEgMSAuMzYgMS4zMyAxLjMzIDAgMCAxIC4zNi45OVY5LjVoMS4xVjUuMDhhNC4xNiA0LjE2IDAgMCAwLS4xLTEgMS44OCAxLjg4IDAgMCAwLS40LS43NyAxLjgyIDEuODIgMCAwIDAtLjctLjUgMi45MiAyLjkyIDAgMCAwLTEuMS0uMTggMi4zMyAyLjMzIDAgMCAwLTIuMTkgMS4yMmgtLjAzVjIuNzhabTkuMTggMFY5LjVoMS4xVjUuN2EyLjcyIDIuNzIgMCAwIDEgLjEyLS44NCAxLjkgMS45IDAgMCAxIC4zNy0uNjYgMS42NSAxLjY1IDAgMCAxIC42Mi0uNDUgMi4yNSAyLjI1IDAgMCAxIC44OC0uMTUgMS4zNSAxLjM1IDAgMCAxIDEgLjM3IDEuMzMgMS4zMyAwIDAgMSAuMzYuOThWOS41aDEuMVY1LjA4YTQuMTYgNC4xNiAwIDAgMC0uMS0xIDEuODggMS44OCAwIDAgMC0uNC0uNzcgMS44MiAxLjgyIDAgMCAwLS43LS41IDIuOTIgMi45MiAwIDAgMC0xLjEtLjE4IDIuMzMgMi4zMyAwIDAgMC0yLjE5IDEuMjJoLS4wM1YyLjc4Wm0xMC4zNC0xLjJWLjIxaC0xLjF2MS4zNVptLTEuMSAxLjJWOS41aDEuMVYyLjc4Wm00Ljc3IDBWOS41aDEuMVY1LjdhMi43MiAyLjcyIDAgMCAxIC4xMy0uODQgMS45IDEuOSAwIDAgMSAuMzctLjY2IDEuNjUgMS42NSAwIDAgMSAuNjItLjQ1IDIuMjUgMi4yNSAwIDAgMSAuODctLjE1IDEuMzUgMS4zNSAwIDAgMSAxIC4zNiAxLjMzIDEuMzMgMCAwIDEgLjM3Ljk5VjkuNWgxLjFWNS4wOGE0LjE2IDQuMTYgMCAwIDAtLjExLTEgMS44OCAxLjg4IDAgMCAwLS4zOS0uNzcgMS44MiAxLjgyIDAgMCAwLS43MS0uNSAyLjkyIDIuOTIgMCAwIDAtMS4xLS4xOCAyLjMzIDIuMzMgMCAwIDAtMi4xOSAxLjIyaC0uMDJWMi43OFptMTQuOTggNi4xNVYyLjc4aC0xLjA0di45NmgtLjAxYTEuOTcgMS45NyAwIDAgMC0uODQtLjg0IDIuNDggMi40OCAwIDAgMC0xLjE3LS4yOCAzIDMgMCAwIDAtMS40Ni4zNCAyLjg1IDIuODUgMCAwIDAtLjk3Ljg0IDMuMzUgMy4zNSAwIDAgMC0uNTIgMS4xNSA1LjEgNS4xIDAgMCAwLS4xNSAxLjIyIDQuNDUgNC40NSAwIDAgMCAuMTkgMS4zMSAzLjEzIDMuMTMgMCAwIDAgLjU2IDEuMDggMi43NSAyLjc1IDAgMCAwIC45NC43MyAyLjk2IDIuOTYgMCAwIDAgMS4zMS4yOCAyLjY5IDIuNjkgMCAwIDAgMS4yMy0uMyAxLjg2IDEuODYgMCAwIDAgLjg2LS45MWguMDN2LjQ0YTQuNDcgNC40NyAwIDAgMS0uMTIgMS4wMyAyLjE1IDIuMTUgMCAwIDEtLjM1LjggMS43MyAxLjczIDAgMCAxLS42My41MiAyLjA1IDIuMDUgMCAwIDEtLjkyLjE5IDIuOTggMi45OCAwIDAgMS0uNTctLjA2IDIuMDggMi4wOCAwIDAgMS0uNTUtLjIgMS4zOCAxLjM4IDAgMCAxLS40My0uMzMuODIuODIgMCAwIDEtLjItLjVoLTEuMWExLjc0IDEuNzQgMCAwIDAgLjMuOTIgMi4wNiAyLjA2IDAgMCAwIC42NS42IDIuOTMgMi45MyAwIDAgMCAuODkuMzUgNC41NyA0LjU3IDAgMCAwIC45NS4xQTMuMDcgMy4wNyAwIDAgMCA2NiAxMS40YTMuNTQgMy41NCAwIDAgMCAuNzYtMi40N1ptLTMuMS0uMzNhMS42OSAxLjY5IDAgMCAxLS45LS4yMiAxLjc2IDEuNzYgMCAwIDEtLjYtLjYgMi41OSAyLjU5IDAgMCAxLS4zLS44MyA0LjYzIDQuNjMgMCAwIDEtLjEtLjkxIDMuOCAzLjggMCAwIDEgLjExLS45MiAyLjI5IDIuMjkgMCAwIDEgLjM1LS43OCAxLjc3IDEuNzcgMCAwIDEgLjYyLS41NCAxLjkgMS45IDAgMCAxIC45MS0uMiAxLjc1IDEuNzUgMCAwIDEgLjg5LjIgMS43MiAxLjcyIDAgMCAxIC41OS41NiAyLjQzIDIuNDMgMCAwIDEgLjMzLjc3IDMuNjggMy42OCAwIDAgMSAuMS44NyA0LjA2IDQuMDYgMCAwIDEtLjExLjk0IDIuNzMgMi43MyAwIDAgMS0uMzUuODQgMS44MSAxLjgxIDAgMCAxLS42MS42IDEuOCAxLjggMCAwIDEtLjkzLjIyWk03NS45Ny4yMlY5LjVoMS4xdi0uOWguMDNhMS43OCAxLjc4IDAgMCAwIC40NS41IDIuMzYgMi4zNiAwIDAgMCAuNTYuMzIgMy4wNyAzLjA3IDAgMCAwIC42LjE3IDMuMzIgMy4zMiAwIDAgMCAuNTUuMDUgMy4xMiAzLjEyIDAgMCAwIDEuMzYtLjI3IDIuNyAyLjcgMCAwIDAgLjk2LS43NCAzLjE4IDMuMTggMCAwIDAgLjU3LTEuMTIgNC43NCA0Ljc0IDAgMCAwIC4yLTEuMzUgNC42IDQuNiAwIDAgMC0uMi0xLjM1IDMuNDIgMy40MiAwIDAgMC0uNTgtMS4xMyAyLjc2IDIuNzYgMCAwIDAtLjk2LS43NyAzLjAzIDMuMDMgMCAwIDAtMS4zNi0uMjkgMy4yIDMuMiAwIDAgMC0xLjI5LjI2IDEuNjUgMS42NSAwIDAgMC0uODYuODFoLS4wMlYuMjJabTUuMiA1Ljg2YTQuNDIgNC40MiAwIDAgMS0uMS45NyAyLjU0IDIuNTQgMCAwIDEtLjM0LjgzIDEuNzggMS43OCAwIDAgMS0uNjEuNTggMS44OSAxLjg5IDAgMCAxLS45Ni4yMiAyLjA1IDIuMDUgMCAwIDEtLjk3LS4yMSAxLjkgMS45IDAgMCAxLS42Ni0uNTcgMi4zNyAyLjM3IDAgMCAxLS4zNy0uOCAzLjg3IDMuODcgMCAwIDEtLjEyLS45NiAzLjkgMy45IDAgMCAxIC4xMS0uOTMgMi40MiAyLjQyIDAgMCAxIC4zNi0uOCAxLjkgMS45IDAgMCAxIC42NC0uNTkgMS45IDEuOSAwIDAgMSAuOTUtLjIyIDEuOTcgMS45NyAwIDAgMSAuOTMuMiAxLjg1IDEuODUgMCAwIDEgLjY1LjU3IDIuNDcgMi40NyAwIDAgMSAuMzcuOCAzLjQ0IDMuNDQgMCAwIDEgLjEyLjkxWm03LjA2IDQuMzJhNy4wMyA3LjAzIDAgMCAxLS4zOC44NCAyLjI3IDIuMjcgMCAwIDEtLjQyLjU1IDEuNDEgMS40MSAwIDAgMS0uNS4zMSAxLjk1IDEuOTUgMCAwIDEtLjY1LjEgMi45NSAyLjk1IDAgMCAxLS4zOS0uMDMgMS44NCAxLjg0IDAgMCAxLS4zNy0uMDl2LTEuMDJhMS44NiAxLjg2IDAgMCAwIC4zMy4xMSAxLjQgMS40IDAgMCAwIC4zMi4wNS45NS45NSAwIDAgMCAuNTYtLjE2IDEgMSAwIDAgMCAuMzQtLjQ2bC40Ni0xLjE0LTIuNjctNi42OGgxLjI1bDEuOTcgNS41aC4wMkw5MCAyLjc4aDEuMTdaIiBmaWxsPSIjMTIxNjE5Ii8+PC9zdmc+",In={SINGLE_IMAGE_UPLOADER_CONTAINER:"scandit-single-image-uploader-container"},ro={SINGLE_IMAGE_UPLOADER_CONTAINER_STYLE:{backgroundColor:"#FFFFFF"},SINGLE_IMAGE_UPLOADER_ICON_STYLE:{fill:"#121619"},SINGLE_IMAGE_UPLOADER_INFORMATION_STYLE:{color:"#121619",marginBottom:"2em"},SINGLE_IMAGE_UPLOADER_BUTTON_STYLE:{color:"#FFFFFF",backgroundColor:"#121619",fontWeight:"bold",padding:"1.25em",width:"12em",textAlign:"center",textTransform:"uppercase"}},yS=`
  .${In.SINGLE_IMAGE_UPLOADER_CONTAINER} {
    -webkit-tap-highlight-color: rgba(255, 255, 255, 0);
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    width: 100%;
    height: 100%;
  }

  .${In.SINGLE_IMAGE_UPLOADER_CONTAINER} label {
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
  }

  .${In.SINGLE_IMAGE_UPLOADER_CONTAINER} label input[type="file"] {
    position: absolute;
    top: -9999px;
  }

  .${In.SINGLE_IMAGE_UPLOADER_CONTAINER} label div {
    user-select: none;
  }

  .${In.SINGLE_IMAGE_UPLOADER_CONTAINER} label input[type="file"]:disabled + div {
    opacity: 0.5;
  }
`,Au=class Dn{constructor(e){this.canUploadFile=!1,this._mounted=!1,this._loading=!1,this._htmlRoot=void 0,this._canvas=void 0,this._onInputCheck=void 0,this._onBeforeFileRead=void 0,this._onImageLoadError=void 0,this._onFileReaderError=void 0,this._onCaptureReady=void 0,this._resizedImageSizeLimit=1440,this._inputElement=void 0,this._buttonElement=void 0,this._chooseImageText="",this._settings=e}get canvas(){return this._canvas||(this._canvas=document.createElement("canvas")),this._canvas}get canvasContext(){return this._canvasContext||(this._canvasContext=this.canvas.getContext("2d",{willReadFrequently:!0})),this._canvasContext}mount(e){var r;if(this._mounted)return;if(!document.head.querySelector(`[data-component=${Dn.componentName}]`)){let f=document.createElement("style");f.dataset.component=Dn.componentName,f.textContent=yS,document.head.append(f)}let n=document.createElement("div");n.className=In.SINGLE_IMAGE_UPLOADER_CONTAINER,Object.assign(n.style,ro.SINGLE_IMAGE_UPLOADER_CONTAINER_STYLE,this._settings.containerStyle),e.append(n);let{iconElement:i,iconStyle:a,informationElement:s,informationStyle:c,buttonElement:u,buttonStyle:h,onlyCameraCapture:g}=this._settings;Object.assign(i.style,ro.SINGLE_IMAGE_UPLOADER_ICON_STYLE,a,{maxWidth:"100px",maxHeight:"100px"}),n.append(i),s.hasAttribute(Dn.DEFAULT_DOM_ATTRIBUTE)&&(Object.assign(s.style,ro.SINGLE_IMAGE_UPLOADER_INFORMATION_STYLE,c),s.textContent=jr.getInstance().get("core.singleImageUploader.title")),n.append(s);let o=document.createElement("input");o.type="file",o.accept="image/*",g&&(o.capture="environment",o.dataset.onlyCaptureOnMobile="environment"),o.addEventListener("change",f=>{this.onFileUpload(f)}),o.addEventListener("click",f=>{var m;(m=this._onInputCheck)==null||m.call(this,f)}),o.addEventListener("keydown",f=>{var m;(m=this._onInputCheck)==null||m.call(this,f)});let l=document.createElement("label");l.append(o),u.hasAttribute(Dn.DEFAULT_DOM_ATTRIBUTE)&&(Object.assign(u.style,ro.SINGLE_IMAGE_UPLOADER_BUTTON_STYLE,h),u.textContent=jr.getInstance().get("core.singleImageUploader.button")),l.append(u),n.append(l);let d=document.createRange().createContextualFragment(atob(vS)).firstElementChild;Object.assign(d.style,{position:"absolute",bottom:"1em",right:"1em",width:"10em"}),n.append(d),this._htmlRoot=n,this._mounted=!0,this._inputElement=o,this._buttonElement=u,this._chooseImageText=(r=u.textContent)!=null?r:""}unmount(){var e,r;this._mounted&&((e=this._htmlRoot)==null||e.remove(),(r=document.head.querySelector(`[data-component=${Dn.componentName}]`))==null||r.remove(),this._mounted=!1)}setButtonState(e){this._inputElement&&(this._inputElement.disabled=e==="disabled")}getButtonState(){return this._inputElement?this._inputElement.disabled?"disabled":"enabled":"disabled"}onInputCheck(e){this._onInputCheck=e}onBeforeFileRead(e){this._onBeforeFileRead=e}onImageLoadError(e){this._onImageLoadError=e}onFileReaderError(e){this._onFileReaderError=e}onCaptureReady(e){this._onCaptureReady=e}onAfterImageProcessed(){this.setLoading(!1)}setLoading(e){this._buttonElement&&(this.setButtonState(e?"disabled":"enabled"),this._buttonElement.textContent=e?"...":this._chooseImageText,this._loading=e)}getResizedImageDimensions(e,r){return e<=this._resizedImageSizeLimit&&r<=this._resizedImageSizeLimit?{width:e,height:r}:e>r?{width:this._resizedImageSizeLimit,height:Math.round(r/e*this._resizedImageSizeLimit)}:{width:Math.round(e/r*this._resizedImageSizeLimit),height:this._resizedImageSizeLimit}}onImageLoad(e){var r;let{height:n,width:i}=this.getResizedImageDimensions(e.naturalWidth,e.naturalHeight);this.canvasContext.canvas.width=i,this.canvasContext.canvas.height=n,this.canvasContext.drawImage(e,0,0,i,n);let a={data:this.canvasContext.getImageData(0,0,i,n).data,width:i,height:n};(r=this._onCaptureReady)==null||r.call(this,a)}onFileReaderLoad(e,r,n){e.value="",r.result!=null&&(n.addEventListener("load",()=>{this.onImageLoad(n)},{once:!0}),n.addEventListener("error",i=>{var a;(a=this._onImageLoadError)==null||a.call(this,i),this.setLoading(!1)},{once:!0}),n.src=r.result)}onFileUpload(e){var r;this.setLoading(!0);let n=e.currentTarget,{files:i}=n;if(i==null||i.length===0){this.setLoading(!1);return}if((r=this._onBeforeFileRead)==null||r.call(this,e),!this.canUploadFile){n.value="",_.log(_.Level.Warn,"Can't upload file, no capture mode enabled."),this.setLoading(!1);return}let a=new Image,s=new FileReader;s.addEventListener("load",()=>{this.onFileReaderLoad(n,s,a)}),s.addEventListener("error",c=>{var u;(u=this._onFileReaderError)==null||u.call(this,c),this.setLoading(!1)}),s.readAsDataURL(i[0])}};Au.componentName="SingleImageUploaderView",Au.DEFAULT_DOM_ATTRIBUTE="data-scandit-default";var wS=Au,SS=(t=>(t.Nonzero="nonzero",t.Evenodd="evenodd",t))(SS||{}),CS=class{constructor(){this.pathWinding="nonzero"}drawSingleCommand(e,r){switch(e){case 0:{this.addLine(r);break}case 1:{this.addArc(r);break}case 2:{this.addCircle(r);break}case 3:{this.addRectangle(r);break}case 4:{this.addRoundedRectangle(r);break}case 5:{this.beginPath(r);break}case 6:{this.closePath(r);break}case 7:{this.fill(r);break}case 8:{this.stroke(r);break}case 10:{this.setStrokeWidth(r);break}case 11:{this.setFillColor(r);break}case 12:{this.setStrokeColor(r);break}case 13:{this.moveTo(r);break}case 14:{this.lineTo(r);break}case 15:{this.saveState(r);break}case 16:{this.restoreState(r);break}case 17:{this.translate(r);break}case 19:{this.bezierTo(r);break}case 20:{this.transform(r);break}case 21:{this.scale(r);break}case 22:{this.addPathWinding(r);break}case 9:case 18:break;default:{Cp(e);break}}}beginPath(e){this.context.beginPath()}closePath(e){this.context.closePath()}setStrokeColor(e){let r=e.extractColor();this.context.strokeStyle=this.colorToRgbaString(r)}setFillColor(e){let r=e.extractColor();this.context.fillStyle=this.colorToRgbaString(r)}fill(e){this.context.fill(this.pathWinding)}stroke(e){this.context.stroke()}addLine(e){let r=e.extractFloat(),n=e.extractFloat();this.context.moveTo(r,n);let i=e.extractFloat(),a=e.extractFloat();this.context.lineTo(i,a)}lineTo(e){let r=e.extractFloat(),n=e.extractFloat();this.context.lineTo(r,n)}moveTo(e){let r=e.extractFloat(),n=e.extractFloat();this.context.moveTo(r,n)}addRectangle(e){let r=e.extractFloat(),n=e.extractFloat(),i=e.extractFloat(),a=e.extractFloat();this.context.rect(r,n,i,a)}addRoundedRectangle(e){let r=e.extractFloat(),n=e.extractFloat(),i=e.extractFloat(),a=e.extractFloat(),s=e.extractFloat();this.context.moveTo(r+s,n),this.context.lineTo(r+i-s,n),this.context.quadraticCurveTo(r+i,n,r+i,n+s),this.context.lineTo(r+i,n+a-s),this.context.quadraticCurveTo(r+i,n+a,r+i-s,n+a),this.context.lineTo(r+s,n+a),this.context.quadraticCurveTo(r,n+a,r,n+a-s),this.context.lineTo(r,n+s),this.context.quadraticCurveTo(r,n,r+s,n),this.context.closePath()}setStrokeWidth(e){this.context.lineWidth=e.extractFloat()}addArc(e){let r=e.extractFloat(),n=e.extractFloat(),i=e.extractFloat(),a=e.extractFloat(),s=e.extractFloat(),c=e.extractBoolean();this.context.arc(r,n,i,a,s,c)}addCircle(e){let r=e.extractFloat(),n=e.extractFloat(),i=e.extractFloat();this.context.arc(r,n,i,0,Math.PI*2)}bezierTo(e){let r=e.extractFloat(),n=e.extractFloat(),i=e.extractFloat(),a=e.extractFloat(),s=e.extractFloat(),c=e.extractFloat();this.context.bezierCurveTo(r,n,i,a,s,c)}saveState(e){this.context.save()}restoreState(e){this.context.restore()}translate(e){let r=e.extractFloat(),n=e.extractFloat();this.context.translate(r,n)}transform(e){let r=e.extractFloat(),n=e.extractFloat(),i=e.extractFloat(),a=e.extractFloat(),s=e.extractFloat(),c=e.extractFloat();this.context.transform(r,n,i,a,s,c)}scale(e){let r=e.extractFloat();this.context.scale(r,r)}addPathWinding(e){let r=e.extractBoolean();this.pathWinding=r?"nonzero":"evenodd"}colorToRgbaString(e){return`rgba(${e.r},${e.g},${e.b},${e.a})`}},AS=(t=>(t[t.AddLine=0]="AddLine",t[t.AddArc=1]="AddArc",t[t.AddCircle=2]="AddCircle",t[t.AddRect=3]="AddRect",t[t.AddRoundedRect=4]="AddRoundedRect",t[t.BeginPath=5]="BeginPath",t[t.ClosePath=6]="ClosePath",t[t.Fill=7]="Fill",t[t.Stroke=8]="Stroke",t[t.Clear=9]="Clear",t[t.SetStrokeWidth=10]="SetStrokeWidth",t[t.SetFillColor=11]="SetFillColor",t[t.SetStrokeColor=12]="SetStrokeColor",t[t.MoveTo=13]="MoveTo",t[t.LineTo=14]="LineTo",t[t.SaveState=15]="SaveState",t[t.RestoreState=16]="RestoreState",t[t.Translate=17]="Translate",t[t.ScaleAroundPoint=18]="ScaleAroundPoint",t[t.BezierTo=19]="BezierTo",t[t.Transform=20]="Transform",t[t.Scale=21]="Scale",t[t.AddPathWinding=22]="AddPathWinding",t))(AS||{}),bS=class{constructor(e){this._index=0,this._view=new DataView(e.buffer),this._index=0}extractCommandType(){let e=this._view.getUint8(this._index);return this._index+=1,e}extractFloat(){let e=this._view.getFloat32(this._index,!0);return this._index+=4,e}extractBoolean(){let e=this._view.getUint8(this._index);return this._index+=1,e!==0}extractColor(){let e=this._view.getUint8(this._index),r=this._view.getUint8(this._index+1),n=this._view.getUint8(this._index+2),i=this._view.getUint8(this._index+3)/256;return this._index+=4,{r:e,g:r,b:n,a:i}}isConsumed(){return this._index>=this._view.byteLength}},_S=(t=>(t.Nonzero="nonzero",t.Evenodd="evenodd",t))(_S||{}),Kp=class bu extends CS{constructor(e){super(),this._context=null,this.isNextDrawPending=!1,this.latestCommands=new Uint8Array([]),this.canvas=e,this.doDrawLoop=this.doDraw.bind(this)}get context(){if(!this._context&&(this._context=this.canvas.getContext("2d"),!this._context))throw new TypeError("CanvasRenderingContext cannot be retrieved.");return this._context}draw(e){if(this.latestCommands=e,!this.isCanvasReady()){this.postponeDraw();return}this.isNextDrawPending||(this.isNextDrawPending=!0,requestAnimationFrame(this.doDrawLoop))}updateCanvasSizeAttributes(e,r,n=window.devicePixelRatio){let i=Math.round(e*n),a=Math.round(r*n);(i!==this.canvas.width||a!==this.canvas.height)&&(this.canvas.width=i,this.canvas.height=a,this.context.scale(n,n))}startObservingCanvasResize(){if(!this.resizeObserver){if(!bu.ResizeObserver)throw new Error("PrivateCanvasDrawer.ResizeObserver is not set");this.resizeObserver=new bu.ResizeObserver(e=>{var r;let[n]=e,{width:i,height:a}=(r=n.contentRect)!=null?r:this.canvas;i===0||a===0||(this.updateCanvasSizeAttributes(i,a),this.latestCommands.length!==0&&(this.draw(this.latestCommands),this.latestCommands=new Uint8Array([])))}),this.resizeObserver.observe(this.canvas)}}endObservingCanvasResize(){this.resizeObserver&&this.resizeObserver.unobserve(this.canvas)}doDraw(){this.context.clearRect(0,0,this.canvas.width,this.canvas.height);let e=new bS(this.latestCommands);for(;!e.isConsumed();){let r=e.extractCommandType();this.drawSingleCommand(r,e)}this.isNextDrawPending=!1}postponeDraw(){this.startObservingCanvasResize()}isCanvasReady(){return this.canvas.width>0&&this.canvas.height>0}};Kp.ResizeObserver="ResizeObserver"in globalThis?globalThis.ResizeObserver:void 0;var Xp=Kp,ES={processedFramesCount:{text:"Frames processed by engine",valueSuffix:"/sec"},frameDataPoolSize:{text:"Frame data pool size",valueSuffix:""},redrawRequestsCount:{text:"Engine redraw requests",valueSuffix:"/sec"},actualRedrawsCount:{text:"Actual redraws",valueSuffix:"/sec"},FPS:{text:"Overlay FPS ",valueSuffix:"/sec"}},xS=class extends Xp{constructor(e){var r;super(e),this.drawPerformanceTimer=null,this.drawPerformanceFPSCounter=0,this.lastDrawPerformanceFPSCounter=0,this.performanceCanvasLayer=document.createElement("canvas"),(r=e.parentElement)==null||r.insertBefore(this.performanceCanvasLayer,e)}get performanceLayerContext(){if(!this._performanceLayerContext&&(this._performanceLayerContext=this.performanceCanvasLayer.getContext("2d"),!this._performanceLayerContext))throw new TypeError("CanvasRenderingContext cannot be retrieved.");return this._performanceLayerContext}setupPerformanceLayer(){}setPerformanceMetrics(e){this.performanceMetrics=e,this.drawPerformanceMetrics()}updateCanvasSizeAttributes(e,r,n=window.devicePixelRatio){super.updateCanvasSizeAttributes(e,r,n),this.performanceCanvasLayer.width=this.canvas.width,this.performanceCanvasLayer.height=this.canvas.height,this.performanceLayerContext.scale(n,n)}doDraw(){super.doDraw()}drawPerformanceMetrics(){this.drawPerformanceTimer==null&&(_.log(_.Level.Debug,"Drawing performance monitoring enabled, FPS will be drawn into canvas"),this.drawPerformanceTimer=setInterval(()=>{this.lastDrawPerformanceFPSCounter=this.drawPerformanceFPSCounter,this.drawPerformanceFPSCounter=0},1e3)),this.drawPerformanceFPSCounter++,this.drawFullPerformanceMetrics()}drawFullPerformanceMetrics(){let e={...this.performanceMetrics,FPS:this.lastDrawPerformanceFPSCounter};this.performanceLayerContext.lineWidth=1,this.performanceLayerContext.fillStyle="white",this.performanceLayerContext.strokeStyle="black";let r=Math.min(Math.max(window.innerWidth/35,13),20),n=1.5*r,i=1.5;this.performanceLayerContext.font=`bold ${r}px sans-serif`;let a=0,s=0,c=[];for(let[u,h]of Object.entries(e)){let g=ES[u],o=`${g.text}: ${h}${g.valueSuffix}`;s=Math.max(this.performanceLayerContext.measureText(o).width,s),c.push([o,n,n+r*i*a++])}this.performanceLayerContext.clearRect(n,n-r,s,Object.values(e).length*r*i);for(let u of c)this.performanceLayerContext.fillText(...u),this.performanceLayerContext.strokeText(...u)}},eg=class tg{constructor(){this.hasApi=!1,this.hasTouch=!1,this.requiresPrefix=!1}detect(){var e;try{"PointerEvent"in window?this.hasApi=!0:"msPointerEnabled"in navigator&&(this.hasApi=!0,this.requiresPrefix=!0);let r=(e=navigator.msMaxTouchPoints)!=null?e:navigator.maxTouchPoints;this.hasTouch=r>0}catch{}}prefixIfNeeded(e){return this.requiresPrefix?tg.prefixEventMap[e]:e}};eg.prefixEventMap={pointerdown:"MSPointerDown",pointerup:"MSPointerUp",pointercancel:"MSPointerCancel",pointermove:"MSPointerMove",pointerover:"MSPointerOver",pointerout:"MSPointerOut",pointerenter:"MSPointerEnter",pointerleave:"MSPointerLeave",gotpointercapture:"MSGotPointerCapture",lostpointercapture:"MSLostPointerCapture"};var MS=eg,no=new MS,LS=class{constructor(){this._listeners=new Set}get listeners(){return[...this._listeners]}addListener(e){this._listeners.add(e)}removeListener(e){this._listeners.delete(e)}},rg=class extends LS{constructor(t){super(),this._onTouchStart=this.onTouchStart.bind(this),this._onPointerDown=this.onPointerDown.bind(this),no.detect(),this.element=t,this.addPointerDownListener()}removeAllListeners(){this.element.removeEventListener("touchend",this._onTouchStart),this.element.removeEventListener("mousedown",this._onPointerDown),this.element.removeEventListener("pointerdown",this._onPointerDown)}addPointerDownListener(){no.hasApi?this.element.addEventListener(no.prefixIfNeeded("pointerdown"),this._onPointerDown):no.hasTouch?this.element.addEventListener("touchstart",this._onTouchStart):this.element.addEventListener("mousedown",this._onPointerDown)}onPointerDown(t){let{clientX:e,clientY:r,button:n,currentTarget:i=this.element}=t;n===0&&this.onTap(this.pointRelativeToElement({clientX:e,clientY:r,rect:i.getBoundingClientRect()}),t)}onTouchStart(t){let[e]=t.touches,{clientX:r,clientY:n}=e;this.onTap(this.pointRelativeToElement({clientX:r,clientY:n,rect:this.element.getBoundingClientRect()}),t)}pointRelativeToElement({clientX:t,clientY:e,rect:r}){return new Ye(t-r.left,e-r.top)}onTap(t,e){var r;for(let n of this.listeners)(r=n.onTap)==null||r.call(n,t,e)}},Aa={CUSTOM_VIEW_CONTAINER:"scandit-custom-views"},IS=`
  .${Aa.CUSTOM_VIEW_CONTAINER} {
    position: absolute;
    width: 100%;
    height: 100%;
    top: 0;
    left: 0;
  }
  .${Aa.CUSTOM_VIEW_CONTAINER} img {
    position: absolute;
    -webkit-tap-highlight-color: transparent;
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;
  }
`,DS=IS,kS={bottomLeft:"bottomRight",bottomRight:"bottomLeft",topLeft:"topRight",topRight:"topLeft",centerLeft:"centerRight",centerRight:"centerLeft",center:"center",topCenter:"topCenter",bottomCenter:"bottomCenter"},_u=class kn{constructor(){this.listener=null,this._mounted=!1,this._mirrored=!1,this._cachedSize=new ea(0,0),this.resizeObserver=null,this.mapViewAnchorPositionsForFramePoint=e=>e}get size(){return this._cachedSize}setMirrored(e){this._mounted&&(this._mirrored=e)}mount(e){var r;if(this._mounted)return;if(!document.head.querySelector(`[data-component=${kn.componentName}]`)){let i=document.createElement("style");i.dataset.component=kn.componentName,i.append(document.createTextNode(DS)),document.head.append(i)}let n=document.createElement("div");n.classList.add(Aa.CUSTOM_VIEW_CONTAINER),(r=e.parentNode)==null||r.replaceChild(n,e),this._htmlRoot=n,this.gestureRecognizer=new rg(this._htmlRoot),this.gestureRecognizer.addListener({onTap:(i,a)=>{var s,c;let u=(s=a.target.dataset.identifier)!=null?s:"";u!==""&&((c=this.listener)==null||c.didTapView(Number.parseInt(u,10)))}}),this.resizeObserver=new ResizeObserver(([i])=>{this._cachedSize=new ea(i.contentRect.width,i.contentRect.height)}),this.resizeObserver.observe(this._htmlRoot),this._cachedSize=new ea(this._htmlRoot.clientWidth,this._htmlRoot.clientHeight),this._mounted=!0}unmount(){var e,r,n,i;this._mounted&&(this.removeChildren(),(e=this.gestureRecognizer)==null||e.removeAllListeners(),(r=this.resizeObserver)==null||r.disconnect(),(n=this._htmlRoot)==null||n.remove(),this._htmlRoot=null,this.gestureRecognizer=null,(i=document.head.querySelector(`[data-component=${kn.componentName}]`))==null||i.remove(),this.listener=null,this._mounted=!1)}render(e){var r,n,i,a,s;if(e.elements.length===0){this.removeChildren();return}for(let u of e.removedIds)(n=(r=this._htmlRoot)==null?void 0:r.querySelector(`#${kn.elementSelectorPrefix}${u}`))==null||n.remove();let c=document.createDocumentFragment();for(let u of e.elements){let h=`${kn.elementSelectorPrefix}${u.identifier}`,g=(i=this._htmlRoot)==null?void 0:i.querySelector(`#${h}`),o=g;if(g==null&&(o=new Image(u.view.options.size.width,u.view.options.size.height),o.id=h,o.dataset.identifier=String(u.identifier),c.append(o)),o){o.src=u.view.data;let l=this.mapViewAnchorPositionsForFramePoint(u.anchorPositions)[this._mirrored?kS[u.anchor]:u.anchor];this._mirrored&&(l=Ye.mirrorX(l,this.size));let{x:d,y:f}=this.adjustCoordinatesWithOffset(l,{elementSize:u.view.options.size,offset:u.offset}),m=(a=u.view.options.scale)!=null?a:1;o.style.scale=`${m}`,o.style.transform=`translate3d(${d/m}px, ${f/m}px, 0px)`}}(s=this._htmlRoot)==null||s.append(c)}removeChildren(){for(var e;(e=this._htmlRoot)!=null&&e.firstChild;)this._htmlRoot.firstChild.remove()}adjustCoordinatesWithOffset(e,r){let n=e,{elementSize:i,offset:a}=r,s=e.x-i.width/2,c=e.y-i.height/2;return a.x.unit==="pixel"&&(n=new Ye(s+a.x.value,c+a.y.value)),a.x.unit==="fraction"&&(n=new Ye(s+i.width*a.x.value,c+i.height*a.y.value)),n}};_u.componentName="CustomLocationsView",_u.elementSelectorPrefix="scandit-view-";var TS=_u,ng={"core.view.loading":"Loading the Scandit SDK...","core.singleImageUploader.title":"Analyze an image from your device.","core.singleImageUploader.button":"Choose an Image","core.camera.recovery":"Tap/click to resume scanning","barcode.find.view.textForCollapseCardsButton":"Collapse Cards"},OS=class ig extends Cs{constructor(e,r,n,i,a,s,c,u,h){super(e,r,n,i),this._centerLeft=a,this._topCenter=s,this._centerRight=c,this._bottomCenter=u,this._center=h}get centerRight(){return this._centerRight}get center(){return this._center}get centerLeft(){return this._centerLeft}get topCenter(){return this._topCenter}get bottomCenter(){return this._bottomCenter}static fromJSON(e){let{topLeft:r,topRight:n,bottomRight:i,bottomLeft:a,centerLeft:s,topCenter:c,centerRight:u,bottomCenter:h,center:g}=e,o=Ye.fromJSON(r),l=Ye.fromJSON(n),d=Ye.fromJSON(i),f=Ye.fromJSON(a),m=Ye.fromJSON(s),y=Ye.fromJSON(c),p=Ye.fromJSON(u),v=Ye.fromJSON(h),w=Ye.fromJSON(g);return new ig(o,l,d,f,m,y,p,v,w)}toJSONObject(){return{...super.toJSONObject(),center:this._center.toJSONObject(),bottomCenter:this._bottomCenter.toJSONObject(),topCenter:this._topCenter.toJSONObject(),centerLeft:this._centerLeft.toJSONObject(),centerRight:this._centerRight.toJSONObject()}}},Eu=class ag{static fromJSON(e){let r=new ag;return r._code=e.code,r._message=e.message,r._isValid=e.isValid,r}get message(){return this._message}get code(){return this._code}get isValid(){return this._isValid}},NS=(t=>(t.None="None",t.X="X",t.Y="Y",t))(NS||{}),pl="core.camera.recovery",RS=class og{constructor(){this.focusGesture=st.DataCaptureView.focusGesture,this.zoomGesture=st.DataCaptureView.zoomGesture,this._scanAreaMargins=st.DataCaptureView.scanAreaMargins,this._pointOfInterest=st.DataCaptureView.pointOfInterest,this._logoStyle=st.DataCaptureView.logoStyle,this._logoAnchor=st.DataCaptureView.logoAnchor,this._logoOffset=st.DataCaptureView.logoOffset,this._context=null,this.overlays=[],this.controls=[],this.controlWidgets=new WeakMap,this.frozenFrameCanvas=document.createElement("canvas"),this.listeners=[],this.isVideoElementDetached=!1,this.orientation="portrait",this.hiddenProperties={stopVideoTracksOnVisibilityChange:!0,freezeFrameWhenStoppingFrameSource:!0},this.orientationObserver=new Pp,this.onOrientationChangeListener=this.onOrientationChange.bind(this),this.onHintPresenterUpdateHandler=this.onHintPresenterUpdate.bind(this),this.onBeforeShowToastsHandler=this.onBeforeShowToasts.bind(this),this.onWorkerMessageHandler=this.onWorkerMessage.bind(this),this.visibilityListener=this.onVisibilityChange.bind(this),this.cameraRecoveryListener=this.cameraRecovery.bind(this),jr.getInstance().updateIfMissing(ng)}get scanAreaMargins(){return this._scanAreaMargins}set scanAreaMargins(e){var r;this._scanAreaMargins=e,(r=this.privateContext)==null||r.update()}get pointOfInterest(){return this._pointOfInterest}set pointOfInterest(e){var r;this._pointOfInterest=e,(r=this.privateContext)==null||r.update()}get logoStyle(){return this._logoStyle}set logoStyle(e){var r;this._logoStyle=e,(r=this.privateContext)==null||r.update()}get logoAnchor(){return this._logoAnchor}set logoAnchor(e){var r;this._logoAnchor=e,(r=this.privateContext)==null||r.update()}get logoOffset(){return this._logoOffset}set logoOffset(e){var r;this._logoOffset=e,(r=this.privateContext)==null||r.update()}get cameraRecoveryText(){return jr.getInstance().get(pl)}get width(){var e,r;return Math.round((r=(e=this.htmlElementState)==null?void 0:e.width)!=null?r:0)}get height(){var e,r;return Math.round((r=(e=this.htmlElementState)==null?void 0:e.height)!=null?r:0)}get canvasDrawer(){return!this._canvasDrawer&&this.canvasElement!=null&&(this._canvasDrawer=new Xp(this.canvasElement),this._canvasDrawer.startObservingCanvasResize()),this._canvasDrawer}get privateContext(){return this._context}static async forContext(e){let r=new og;return await r.setContext(e),r}showProgressBar(){var e;(e=this.loadingOverlay)==null||e.show()}hideProgressBar(){var e;(e=this.loadingOverlay)==null||e.hide()}setProgressBarPercentage(e){this.loadingOverlay&&(this.loadingOverlay.progress=e)}setProgressBarMessage(e){this.loadingOverlay&&(this.loadingOverlay.message=e)}getContext(){return this._context}async setContext(e){var r,n,i;if(this._context=e,e){if(this.overlays.length>0&&((r=this.privateContext)==null?void 0:r.modes.size)===0)throw new Error(["Cannot assign this view to this context. This view has overlays but the context does not have any mode attached matching these overlays.","Remove the overlays first before attaching the view to the context, or add the corresponding mode to the context before attaching this view."].join(" "));await e.setView(this),(n=this.privateContext)==null||n.subscribeToWorkerMessages(this.onWorkerMessageHandler),(i=this._context)!=null&&i.frameSource&&await this.onFrameSourceChange(this._context.frameSource)}}connectToElement(e){var r,n,i;this.orientationObserver.register(),this.setupHtmlElement(e),(r=this.canvasDrawer)==null||r.startObservingCanvasResize(),this.htmlElementDidChange(),Cu.add(this),this.orientation=this.orientationObserver.orientation.value,this.orientationObserver.addEventListener(es,this.onOrientationChangeListener),(n=this.hintPresenter)==null||n.addEventListener("hintpresenterupdate",this.onHintPresenterUpdateHandler),(i=this.hintPresenter)==null||i.addEventListener("willshow",this.onBeforeShowToastsHandler),this.localizationSubscription=jr.getInstance().subscribe(a=>{a[pl]!=null&&(this.cameraRecoveryElement.textContent=a[pl])})}detachFromElement(){var e,r,n,i,a,s,c,u;(e=this.htmlElementState)==null||e.removeListeners(),this.removeStyles(),(r=this.canvasDrawer)==null||r.endObservingCanvasResize(),document.removeEventListener("visibilitychange",this.visibilityListener);for(let h of["touchend","mousedown"])this.cameraRecoveryElement.removeEventListener(h,this.cameraRecoveryListener);(n=this.loadingOverlay)==null||n.remove(),(i=this.customLocationsView)==null||i.unmount(),this.htmlElementDidChange(),(a=this.gestureRecognizer)==null||a.removeAllListeners(),this.clearHtmlElementContent(),Cu.delete(this),this.orientationObserver.unregister(),this.orientationObserver.removeEventListener(es,this.onOrientationChangeListener),(s=this.hintPresenter)==null||s.removeEventListener("hintpresenterupdate",this.onHintPresenterUpdateHandler),(c=this.hintPresenter)==null||c.removeEventListener("willshow",this.onBeforeShowToastsHandler),(u=this.localizationSubscription)==null||u.cancel()}async addOverlay(e){var r;this.overlays.includes(e)||(this.overlays.push(e),await((r=this.privateContext)==null?void 0:r.update([{type:"addOverlay",newValue:e}])))}async removeOverlay(e){var r;this.overlays.includes(e)&&(this.overlays.splice(this.overlays.indexOf(e),1),await((r=this.privateContext)==null?void 0:r.update([{type:"removeOverlay",newValue:e}])))}addListener(e){this.listeners.includes(e)||this.listeners.push(e)}removeListener(e){this.listeners.includes(e)&&this.listeners.splice(this.listeners.indexOf(e),1)}viewPointForFramePoint(e){var r,n,i,a,s,c,u,h;let g={width:(n=(r=this.htmlElementState)==null?void 0:r.width)!=null?n:0,height:(a=(i=this.htmlElementState)==null?void 0:i.height)!=null?a:0},o={width:(c=(s=this.videoElement)==null?void 0:s.videoWidth)!=null?c:0,height:(h=(u=this.videoElement)==null?void 0:u.videoHeight)!=null?h:0},l=g.width/g.height,d=o.width/o.height,f=l>d?g.width/o.width:g.height/o.height,m={x:e.x*f,y:e.y*f},y=(o.width*f-g.width)/2,p=(o.height*f-g.height)/2;return new Ye(m.x-y,m.y-p)}viewQuadrilateralForFrameQuadrilateral(e){let r=this.viewPointForFramePoint(e.topLeft),n=this.viewPointForFramePoint(e.topRight),i=this.viewPointForFramePoint(e.bottomLeft),a=this.viewPointForFramePoint(e.bottomRight);return new Cs(r,n,a,i)}addControl(e){var r;this.controls.includes(e)||(e.view=this,this.controls.push(e),this.controlsUpdated(),(r=this.privateContext)==null||r.update([{type:"addControl",newValue:e}]))}removeControl(e){var r;if(this.controls.includes(e)){e.view=null;let n=this.controls.splice(this.controls.indexOf(e),1);this.getControlWidget(n[0]).remove(!0),this.controlsUpdated(),(r=this.privateContext)==null||r.update([{type:"removeControl",newValue:e}])}}toJSONObject(){var e;return{scanAreaMargins:this.scanAreaMargins.toJSONObject(),pointOfInterest:this.pointOfInterest.toJSONObject(),logoAnchor:this.logoAnchor,logoOffset:this.logoOffset.toJSONObject(),logoHidden:(e=this.logoHidden)!=null?e:!1,logoStyle:this.logoStyle,overlays:this.overlays.map(r=>r.toJSONObject()),controls:this.controls.map(r=>r.toJSONObject()),focusGesture:this.focusGesture?this.focusGesture.toJSONObject():null,zoomGesture:this.zoomGesture?this.zoomGesture.toJSONObject():null}}isCameraRecoveryVisible(){return!this.cameraRecoveryElement.hidden}setCameraRecoveryVisible(e){this.cameraRecoveryElement.hidden=!e}async allowPictureInPicture(e){await ze.instance().allowPictureInPicture(e)}viewAnchorPositionsForFrameAnchorPositions(e){let r=this.viewPointForFramePoint(e.topLeft),n=this.viewPointForFramePoint(e.topRight),i=this.viewPointForFramePoint(e.bottomLeft),a=this.viewPointForFramePoint(e.bottomRight),s=this.viewPointForFramePoint(e.centerLeft),c=this.viewPointForFramePoint(e.centerRight),u=this.viewPointForFramePoint(e.topCenter),h=this.viewPointForFramePoint(e.bottomCenter),g=this.viewPointForFramePoint(e.center);return new OS(r,n,a,i,s,u,c,h,g)}setDidTapCustomLocationsViewListener(e){this.customLocationsView&&this.customLocationsView.listener===null&&(this.customLocationsView.listener=e)}renderCustomLocationsView(e){this.customLocationsView!=null&&(this.customLocationsView.setMirrored(ze.instance().isMirrorImageEnabled()),this.customLocationsView.render(e))}removeStyles(){for(let e of document.querySelectorAll("style[scandit]"))e.remove()}onHintPresenterUpdate(e){var r;(r=this.privateContext)==null||r.workerCommand("hintPresenterV2update",{})}clearHtmlElementContent(){var e;this.htmlElement&&((e=this.canvasDrawer)==null||e.endObservingCanvasResize(),this.htmlElement.innerHTML="",this.cameraPaintboardElement=void 0,this.singleImageUploaderPaintboardElement=void 0,this.htmlElement=void 0)}setupHtmlElement(e){var r,n,i;this.createStyles(),this.htmlElement=e,Ui.register();let a=`
      <div class="${z.CONTAINER_CLASS_NAME}">
        <div class="${z.PAINTBOARDS_CONTAINER_CLASS_NAME}">
          <div data-js-id="loading-overlay"></div>
          <div class="${z.PAINTBOARD_CLASS_NAME}" data-js-id="camera-paintboard">
            <video autoplay="autoplay" playsinline="true" muted="muted" poster="${Yw}" style="opacity: 0;"></video>
            <img class="${z.FROZEN_FRAME}" data-js-id="frozen-frame" alt="frozen-frame" hidden />
            <canvas></canvas>
            <div data-js-id="${Aa.CUSTOM_VIEW_CONTAINER}"></div>
            <div class="${z.HINT_CONTAINER_CLASS_NAME}">
              <div class="${z.HINT_CLASS_NAME}" hidden></div>
            </div>
            <${Ui.tag}></${Ui.tag}>
            <div class="${z.CONTROLS_CLASS_NAME}"></div>
            <div class="${z.CAMERA_RECOVERY_CLASS_NAME}" hidden>${this.cameraRecoveryText}</div>
            <div class="${z.ERROR_CLASS_NAME}" hidden></div>
          </div>
          <div class="${z.PAINTBOARD_CLASS_NAME}" data-js-id="singleimage-paintboard"></div>
        </div>
      </div>
    `;this.htmlElement.innerHTML=a,this.hintPresenter=this.htmlElement.querySelector(Ui.tag),this.loadingOverlay&&this.loadingOverlay.remove(),this.loadingOverlay=$p.create(),this.loadingOverlay.hide(),(r=this.htmlElement.querySelector('[data-js-id="loading-overlay"]'))==null||r.replaceWith(this.loadingOverlay),this.customLocationsView&&this.customLocationsView.unmount(),this.customLocationsView=new TS,this.customLocationsView.mount(this.htmlElement.querySelector(`[data-js-id="${Aa.CUSTOM_VIEW_CONTAINER}"]`)),this.customLocationsView.mapViewAnchorPositionsForFramePoint=h=>this.viewAnchorPositionsForFrameAnchorPositions(h),this.containerElement=this.htmlElement.querySelector(`.${z.CONTAINER_CLASS_NAME}`),this.cameraPaintboardElement=this.containerElement.querySelector('[data-js-id="camera-paintboard"]'),this.singleImageUploaderPaintboardElement=this.containerElement.querySelector('[data-js-id="singleimage-paintboard"]');let s=this.cameraPaintboardElement.querySelector("canvas");this.canvasElement==null?this.canvasElement=s:s.replaceWith(this.canvasElement);let c=this.cameraPaintboardElement.querySelector('[data-js-id="frozen-frame"]');this.frozenFrame==null?this.frozenFrame=c:c.replaceWith(this.frozenFrame),this.controlsElement=this.cameraPaintboardElement.querySelector(`.${z.CONTROLS_CLASS_NAME}`),this.cameraRecoveryElement=this.cameraPaintboardElement.querySelector(`.${z.CAMERA_RECOVERY_CLASS_NAME}`),this.errorElement=this.cameraPaintboardElement.querySelector(`.${z.ERROR_CLASS_NAME}`),this.hintContainerElement=this.cameraPaintboardElement.querySelector(`.${z.HINT_CONTAINER_CLASS_NAME}`),this.hintElement=this.cameraPaintboardElement.querySelector(`.${z.HINT_CLASS_NAME}`);let u=this.cameraPaintboardElement.querySelector("video");this.videoElement?u.replaceWith(this.videoElement):(this.videoElement=u,this.videoPauseListener=this.handleVideoPause.bind(this),this.videoElement.addEventListener("pause",this.videoPauseListener)),this.lastFrameSourceState!=null&&((i=(n=this._context)==null?void 0:n.frameSource)==null||i.switchToDesiredState(this.lastFrameSourceState)),document.addEventListener("visibilitychange",this.visibilityListener);for(let h of["touchend","mousedown"])this.cameraRecoveryElement.addEventListener(h,this.cameraRecoveryListener);this.htmlElementState&&this.htmlElementState.removeListeners(),this.htmlElementState=new Dh(this.htmlElement),this.htmlElementState.onStateChanged(this.htmlElementDidChange.bind(this)),this.htmlElementState.onDisconnected(this.htmlElementDisconnected.bind(this)),this.gestureRecognizer=new rg(this.htmlElement),this.gestureRecognizer.addListener({onTap:async h=>{var g;(g=this.privateContext)==null||g.workerCommand("onTap",{point:h.toJSONObject()})}})}setupHtmlElementSingleImageUploader(e){var r;if(this.singleImageUploaderPaintboardElement==null)return;this.singleImageUploaderView&&this.singleImageUploaderView.unmount(),this.singleImageUploaderView=new wS(e),this.singleImageUploaderView.mount(this.containerElement.querySelector('[data-js-id="singleimage-paintboard"]'));let n=(r=this._context)==null?void 0:r.frameSource;this.singleImageUploaderView.onInputCheck(i=>{n.getCurrentState()!=="starting"&&i.preventDefault()}),this.singleImageUploaderView.onBeforeFileRead(()=>{n._context&&this.singleImageUploaderView&&(this.singleImageUploaderView.canUploadFile=n._context.hasEnabledMode())}),this.singleImageUploaderView.onImageLoadError(()=>{n.currentState="starting",_.log(_.Level.Error,"Could not load image from selected file")}),this.singleImageUploaderView.onFileReaderError(i=>{var a,s;let c=i.target;n.currentState="starting",_.log(_.Level.Error,`Error while reading the file: ${(s=(a=c.error)==null?void 0:a.toString())!=null?s:""}`)}),this.singleImageUploaderView.onCaptureReady(async i=>{await n.processUploadedFileCapture(i)}),this.singleImageUploaderView.setButtonState(n.getCurrentState()==="starting"?"enabled":"disabled"),n.addView(this.singleImageUploaderView)}setupHtmlElementVisibility(e){this.cameraPaintboardElement!=null&&(this.cameraPaintboardElement.hidden=e!=="camera"),this.singleImageUploaderPaintboardElement!=null&&(this.singleImageUploaderPaintboardElement.hidden=e!=="singleImageUploader")}createStyles(){if(document.querySelector("style[scandit]")===null){let e=pS();for(let[r,n]of Object.entries(e))n.setAttribute("scandit",`data-capture-sdk-${r}`),document.head.append(n)}}async onOrientationChange(e){var r,n;this.orientation=e.detail.value,await((n=this.privateContext)==null?void 0:n.update([{type:"viewChange",newValue:{...(r=this.htmlElementState)==null?void 0:r.toJSONObject(),orientation:this.orientation}}]))}htmlElementDidChange(){var e,r;if(!this.htmlElementState)return;let n=this.htmlElementState,i=n.toJSONObject();if(!Dh.areEquivalentJSONStates(this.lastHtmlElementState,i)){this.orientation=this.orientationObserver.orientation.value,(e=this.privateContext)==null||e.update([{type:"viewChange",newValue:{...n.toJSONObject(),orientation:this.orientation}}]),this.lastHtmlElementState=i,(r=this.canvasDrawer)==null||r.updateCanvasSizeAttributes(this.width,this.height),this.handleVideoDisplay(i.visible);for(let a of this.listeners)typeof a.didChangeSize=="function"&&a.didChangeSize(this,new ea(i.size.width.value,i.size.height.value),this.orientation)}}async htmlElementDisconnected(){var e,r,n,i,a,s,c;this.isVideoElementDetached=!1,(e=this.videoElement)==null||e.remove(),this.lastFrameSourceState=(n=(r=this._context)==null?void 0:r.frameSource)==null?void 0:n.getCurrentState(),await((a=(i=this._context)==null?void 0:i.frameSource)==null?void 0:a.switchToDesiredState("off")),await((c=this.privateContext)==null?void 0:c.update([{type:"viewChange",newValue:{...(s=this.htmlElementState)==null?void 0:s.toJSONObject(),orientation:this.orientation}}]))}handleVideoDisplay(e){this.videoElement==null||this.cameraPaintboardElement==null||(!e&&!this.isVideoElementDetached?(this.videoElement.width=0,this.videoElement.height=0,this.videoElement.style.opacity="0",this.videoElement.style.visibility="hidden",document.body.append(this.videoElement),this.isVideoElementDetached=!0):e&&this.isVideoElementDetached&&(this.cameraPaintboardElement.insertAdjacentElement("afterbegin",this.videoElement),this.isVideoElementDetached=!1,this.videoElement.style.removeProperty("visibility"),this.videoElement.removeAttribute("width"),this.videoElement.removeAttribute("height"),this.videoElement.style.removeProperty("opacity")))}isCanvasDrawerWithMetrics(e){return e instanceof xS}onWorkerMessage(e){var r,n;switch(e.type){case"draw":{this.drawEngineCommands(e.payload);break}case"performanceMetricsReport":{let i=this._canvasDrawer;i!=null&&this.isCanvasDrawerWithMetrics(i)&&i.setPerformanceMetrics(e.payload);break}case"contextDidChangeStatus":{let i=Eu.fromJSON(e.payload);i.isValid||((r=this.loadingOverlay)==null||r.hide(),this.displayError(i));break}case"showHint":{this.displayHint(e.payload.text,e.payload.style);break}case"updateHint":{this.updateHint(e.payload.style);break}case"hideHint":{this.hideHint();break}default:{(n=this.hintPresenter)==null||n.handleMessage(e);break}}}async onBeforeShowToasts(){var e,r;let n=await((e=this._context)==null?void 0:e.workerCommand("getViewfinderInfo",{}));if((n==null?void 0:n.rect)!=null){if(n.rect.origin.x===0&&n.rect.origin.y===0&&n.rect.size.width===0&&n.rect.size.height===0)return;(r=this.hintPresenter)==null||r.setViewFinderRect(new ww(new Ye(n.rect.origin.x,n.rect.origin.y),new ea(n.rect.size.width,n.rect.size.height)))}}drawEngineCommands(e){var r;(r=this.canvasDrawer)==null||r.draw(e)}displayError(e){this.errorElement.textContent=`Error ${e.code}: ${e.message}`,this.errorElement.hidden=!1}clearError(){this.errorElement.textContent="",this.errorElement.hidden=!0}displayHint(e,r){this.hintElement.textContent=e,this.hintElement.hidden=!1,this.updateHint(r)}hideHint(){this.hintElement.textContent="",this.hintElement.hidden=!0}updateHint(e){this.hintElement.style.background=e.backgroundColor,this.hintElement.style.color=e.textColor,this.hintElement.style.fontSize=e.font==="body"?"1.25rem":"1rem",this.hintElement.style.borderRadius=e.hintCornerStyle==="rounded"?"5px":"0px",e.hintHeight==="taller"&&(this.hintElement.style.paddingTop="1.25em",this.hintElement.style.paddingBottom="1.25em"),e.hintWidth==="wider"&&(this.hintElement.style.paddingLeft="1.25em",this.hintElement.style.paddingRight="1.25em"),this.updateAnchor(e)}updateAnchor(e){let r=`${e.verticalOffsetRatio*100}vh`;switch(e.anchor){case"topLeft":{this.hintContainerElement.style.placeContent="start left",this.hintElement.style.transform=`translateY(${r})`;break}case"topCenter":{this.hintContainerElement.style.placeContent="start center",this.hintElement.style.transform=`translateY(${r})`;break}case"topRight":{this.hintContainerElement.style.placeContent="start right",this.hintElement.style.transform=`translateY(${r})`;break}case"centerLeft":{this.hintContainerElement.style.placeContent="center start";break}case"center":{this.hintContainerElement.style.placeContent="center";break}case"centerRight":{this.hintContainerElement.style.placeContent="center end";break}case"bottomLeft":{this.hintContainerElement.style.placeContent="end left";break}case"bottomCenter":{this.hintContainerElement.style.placeContent="end center";break}case"bottomRight":{this.hintContainerElement.style.placeContent="end right";break}}}controlsUpdated(){var e;this.redrawControls(),(e=this.privateContext)==null||e.update()}redrawControls(){var e;let r=(e=this._context)==null?void 0:e.frameSource;for(let n of this.controls){let i=this.getControlWidget(n);r==null||r.desiredState==="off"||r.desiredState==="standby"||r.desiredState==="stopping"?i.remove():i.install()}}registerControlWidget(e,r){let n=new r(e,this.controlsElement);return this.controlWidgets.set(e,n),n}getControlWidget(e){let r=this.controlWidgets.get(e);if(r)return r;let{type:n}=e,i;switch(n){case"torch":{i=new hS(e,this.controlsElement),this.controlWidgets.set(e,i);break}case"camera":{i=new fS(e,this.controlsElement),this.controlWidgets.set(e,i);break}case"camera-fov":{i=new mS(e,this.controlsElement),this.controlWidgets.set(e,i);break}}return i}async onFrameSourceChange(e){let r=e==null?void 0:e.type;if(this.setupHtmlElementVisibility(r),r==="camera"){let n=e==null?void 0:e.getCurrentState();n!=null&&await this.onCameraStateChanged(n)}else r==="singleImageUploader"&&this.setupHtmlElementSingleImageUploader(e.settings)}async onCameraStateChanged(e){var r;switch((r=this.cameraPaintboardElement)==null||r.classList.toggle(z.PAINTBOARD_CLASS_NAME_STATE_ON,e==="on"),e){case"stopping":{this.hiddenProperties.freezeFrameWhenStoppingFrameSource&&this.freezeFrame(),this.setVideoElementOpacity("0");return}case"starting":case"bootingUp":case"wakingUp":{if(!this.htmlElement){_.log(_.Level.Error,"cannot set frame source stream before connecting view to an HTML element");return}this.videoElement&&(ze.instance().videoElement=this.videoElement,ze.instance().gui.isCameraRecoveryVisible=this.isCameraRecoveryVisible.bind(this),ze.instance().gui.setCameraRecoveryVisible=this.setCameraRecoveryVisible.bind(this),this.setVideoElementOpacity("0"));return}case"off":{this.setVideoElementOpacity("0"),this.redrawControls();return}case"on":{await ze.instance().waitForCapabilities(),this.redrawControls(),this.unfreezeFrame(),this.setVideoElementOpacity("1");break}case"goingToSleep":{this.freezeFrame();break}}}setVideoElementOpacity(e){this.videoElement&&(this.videoElement.style.opacity=e),this.canvasElement&&(this.canvasElement.style.opacity=e)}onSingleImageUploaderSettingsChange(e){this.setupHtmlElementSingleImageUploader(e)}handleVideoPause(){ze.instance().playVideo()}setHiddenProperty(e,r){this.hiddenProperties[e]=r}async onVisibilityChange(){var e,r;let n=(e=this.videoElement)==null?void 0:e.srcObject;if(this.hiddenProperties.stopVideoTracksOnVisibilityChange&&(document.visibilityState==="hidden"&&ze.instance().stopVideoTracks(),document.visibilityState==="visible"&&ze.instance().activeCamera!=null&&n!=null))if(!n.active||(r=n.getVideoTracks()[0])!=null&&r.muted)try{_.log(_.Level.Debug,'Detected visibility change ("visible") event with inactive video source, try to reinitialize camera'),await ze.instance().reinitializeCamera()}catch{}else _.log(_.Level.Debug,'Detected visibility change ("visible") event with active video source, replay video'),ze.instance().playVideo()}async cameraRecovery(e){e.preventDefault(),ze.instance().activeCamera=ze.instance().selectedCamera,await ze.instance().reinitializeCamera()}freezeFrame(){var e;if(!this.frozenFrame)return;let r=ze.instance().getCurrentFrame();if(!r)return;let n=new ImageData(r.data,r.width,r.height);this.frozenFrameCanvas.width=n.width,this.frozenFrameCanvas.height=n.height,this.frozenFrame.width=n.width,this.frozenFrame.height=n.height,(e=this.frozenFrameCanvas.getContext("2d"))==null||e.putImageData(n,0,0),this.frozenFrame.src=this.frozenFrameCanvas.toDataURL("image/jpeg",.4),this.frozenFrame.classList.toggle(z.MIRRORED_CLASS_NAME,ze.instance().isMirrorImageEnabled()),this.frozenFrame.hidden=!1}unfreezeFrame(){this.frozenFrame&&(this.frozenFrame.src="",this.frozenFrame.hidden=!0)}},FS="data:audio/webm;base64,GkXfo59ChoEBQveBAULygQRC84EIQoKEd2VibUKHgQRChYECGFOAZwEAAAAAAAOWEU2bdLpNu4tTq4QVSalmU6yBoU27i1OrhBZUrmtTrIHWTbuMU6uEElTDZ1OsggFATbuMU6uEHFO7a1OsggOA7AEAAAAAAABZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmsCrXsYMPQkBNgIxMYXZmNjEuMS4xMDBXQYxMYXZmNjEuMS4xMDBEiYhAd+AAAAAAABZUrmvlrgEAAAAAAABc14EBc8WIg08ub3qWhnCcgQAitZyDdW5kiIEAhoZBX09QVVNWqoNjLqBWu4QExLQAg4EC4ZGfgQK1iEDHcAAAAAAAYmSBIGOik09wdXNIZWFkAQI4AeAuAAAAAAASVMNn+3Nzn2PAgGfImUWjh0VOQ09ERVJEh4xMYXZmNjEuMS4xMDBzc9ZjwItjxYiDTy5vepaGcGfIoUWjh0VOQ09ERVJEh5RMYXZjNjEuMy4xMDAgbGlib3B1c2fIoUWjiERVUkFUSU9ORIeTMDA6MDA6MDAuMzgyMDAwMDAwAB9DtnVBuueBAKOugQAAgCiDbjuDzUwipkvAAbsncWC64YXA60en1ZoN8Z+MzFsMrkjZdE9+kzThwKOugQAVgCikmlGjqD/BMTx8UMHQQIkyzNa4+i/GF8qWxMmwp9/b52ziROwy8+vlu6OogQApgCif9PJP2TVhRpk9OiIKqY7SgqYyraCgntSwzRFSNDAu39ER0KO0gQA9gCi+D4hgiPOvYBIzXCNWGWyjS2R2d67BIFy+lpuz8g8lJ9B/wNMBXD6sTtm6R2FKYKObgQBRgCgjswJcBYTX6v+tXBR9jGkdsn9jRx/Io4uBAGWAKAfGs+Mf06OMgQB5gCgHxrMPn6Jko4yBAI2AKAfGsw+fomSjjIEAoYAoB8azD5+iZKOMgQC1gCgHxrMPn6Jko4yBAMmAKAfGsw+fomSjjIEA3YAoB8azD5+iZKOMgQDxgCgHxrMPn6Jko4yBAQWAKAfGsw+fomSjjIEBGYAoB8azD5+iZKOMgQEtgCgHxrMPn6Jko4yBAUGAKAfGsw+fomSjjIEBVYAoB8azD5+iZKOMgQFpgCgHxrMPn6JkoJWhjIEBfQAoB8azD5+iZHWihAEgpTscU7trkbuPs4EAt4r3gQHxggHA8IED",PS=Tc(t=>{(function(){var e=function(){this.init()};e.prototype={init:function(){var o=this||r;return o._counter=1e3,o._html5AudioPool=[],o.html5PoolSize=10,o._codecs={},o._howls=[],o._muted=!1,o._volume=1,o._canPlayEvent="canplaythrough",o._navigator=typeof window<"u"&&window.navigator?window.navigator:null,o.masterGain=null,o.noAudio=!1,o.usingWebAudio=!0,o.autoSuspend=!0,o.ctx=null,o.autoUnlock=!0,o._setup(),o},volume:function(o){var l=this||r;if(o=parseFloat(o),l.ctx||g(),typeof o<"u"&&o>=0&&o<=1){if(l._volume=o,l._muted)return l;l.usingWebAudio&&l.masterGain.gain.setValueAtTime(o,r.ctx.currentTime);for(var d=0;d<l._howls.length;d++)if(!l._howls[d]._webAudio)for(var f=l._howls[d]._getSoundIds(),m=0;m<f.length;m++){var y=l._howls[d]._soundById(f[m]);y&&y._node&&(y._node.volume=y._volume*o)}return l}return l._volume},mute:function(o){var l=this||r;l.ctx||g(),l._muted=o,l.usingWebAudio&&l.masterGain.gain.setValueAtTime(o?0:l._volume,r.ctx.currentTime);for(var d=0;d<l._howls.length;d++)if(!l._howls[d]._webAudio)for(var f=l._howls[d]._getSoundIds(),m=0;m<f.length;m++){var y=l._howls[d]._soundById(f[m]);y&&y._node&&(y._node.muted=o?!0:y._muted)}return l},stop:function(){for(var o=this||r,l=0;l<o._howls.length;l++)o._howls[l].stop();return o},unload:function(){for(var o=this||r,l=o._howls.length-1;l>=0;l--)o._howls[l].unload();return o.usingWebAudio&&o.ctx&&typeof o.ctx.close<"u"&&(o.ctx.close(),o.ctx=null,g()),o},codecs:function(o){return(this||r)._codecs[o.replace(/^x-/,"")]},_setup:function(){var o=this||r;if(o.state=o.ctx&&o.ctx.state||"suspended",o._autoSuspend(),!o.usingWebAudio)if(typeof Audio<"u")try{var l=new Audio;typeof l.oncanplaythrough>"u"&&(o._canPlayEvent="canplay")}catch{o.noAudio=!0}else o.noAudio=!0;try{var l=new Audio;l.muted&&(o.noAudio=!0)}catch{}return o.noAudio||o._setupCodecs(),o},_setupCodecs:function(){var o=this||r,l=null;try{l=typeof Audio<"u"?new Audio:null}catch{return o}if(!l||typeof l.canPlayType!="function")return o;var d=l.canPlayType("audio/mpeg;").replace(/^no$/,""),f=o._navigator?o._navigator.userAgent:"",m=f.match(/OPR\/(\d+)/g),y=m&&parseInt(m[0].split("/")[1],10)<33,p=f.indexOf("Safari")!==-1&&f.indexOf("Chrome")===-1,v=f.match(/Version\/(.*?) /),w=p&&v&&parseInt(v[1],10)<15;return o._codecs={mp3:!!(!y&&(d||l.canPlayType("audio/mp3;").replace(/^no$/,""))),mpeg:!!d,opus:!!l.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!l.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!l.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(l.canPlayType('audio/wav; codecs="1"')||l.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!l.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!l.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(l.canPlayType("audio/x-m4a;")||l.canPlayType("audio/m4a;")||l.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(l.canPlayType("audio/x-m4b;")||l.canPlayType("audio/m4b;")||l.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(l.canPlayType("audio/x-mp4;")||l.canPlayType("audio/mp4;")||l.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!(!w&&l.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!!(!w&&l.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!l.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(l.canPlayType("audio/x-flac;")||l.canPlayType("audio/flac;")).replace(/^no$/,"")},o},_unlockAudio:function(){var o=this||r;if(!(o._audioUnlocked||!o.ctx)){o._audioUnlocked=!1,o.autoUnlock=!1,!o._mobileUnloaded&&o.ctx.sampleRate!==44100&&(o._mobileUnloaded=!0,o.unload()),o._scratchBuffer=o.ctx.createBuffer(1,1,22050);var l=function(d){for(;o._html5AudioPool.length<o.html5PoolSize;)try{var f=new Audio;f._unlocked=!0,o._releaseHtml5Audio(f)}catch{o.noAudio=!0;break}for(var m=0;m<o._howls.length;m++)if(!o._howls[m]._webAudio)for(var y=o._howls[m]._getSoundIds(),p=0;p<y.length;p++){var v=o._howls[m]._soundById(y[p]);v&&v._node&&!v._node._unlocked&&(v._node._unlocked=!0,v._node.load())}o._autoResume();var w=o.ctx.createBufferSource();w.buffer=o._scratchBuffer,w.connect(o.ctx.destination),typeof w.start>"u"?w.noteOn(0):w.start(0),typeof o.ctx.resume=="function"&&o.ctx.resume(),w.onended=function(){w.disconnect(0),o._audioUnlocked=!0,document.removeEventListener("touchstart",l,!0),document.removeEventListener("touchend",l,!0),document.removeEventListener("click",l,!0),document.removeEventListener("keydown",l,!0);for(var A=0;A<o._howls.length;A++)o._howls[A]._emit("unlock")}};return document.addEventListener("touchstart",l,!0),document.addEventListener("touchend",l,!0),document.addEventListener("click",l,!0),document.addEventListener("keydown",l,!0),o}},_obtainHtml5Audio:function(){var o=this||r;if(o._html5AudioPool.length)return o._html5AudioPool.pop();var l=new Audio().play();return l&&typeof Promise<"u"&&(l instanceof Promise||typeof l.then=="function")&&l.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(o){var l=this||r;return o._unlocked&&l._html5AudioPool.push(o),l},_autoSuspend:function(){var o=this;if(!(!o.autoSuspend||!o.ctx||typeof o.ctx.suspend>"u"||!r.usingWebAudio)){for(var l=0;l<o._howls.length;l++)if(o._howls[l]._webAudio){for(var d=0;d<o._howls[l]._sounds.length;d++)if(!o._howls[l]._sounds[d]._paused)return o}return o._suspendTimer&&clearTimeout(o._suspendTimer),o._suspendTimer=setTimeout(function(){if(o.autoSuspend){o._suspendTimer=null,o.state="suspending";var f=function(){o.state="suspended",o._resumeAfterSuspend&&(delete o._resumeAfterSuspend,o._autoResume())};o.ctx.suspend().then(f,f)}},3e4),o}},_autoResume:function(){var o=this;if(!(!o.ctx||typeof o.ctx.resume>"u"||!r.usingWebAudio))return o.state==="running"&&o.ctx.state!=="interrupted"&&o._suspendTimer?(clearTimeout(o._suspendTimer),o._suspendTimer=null):o.state==="suspended"||o.state==="running"&&o.ctx.state==="interrupted"?(o.ctx.resume().then(function(){o.state="running";for(var l=0;l<o._howls.length;l++)o._howls[l]._emit("resume")}),o._suspendTimer&&(clearTimeout(o._suspendTimer),o._suspendTimer=null)):o.state==="suspending"&&(o._resumeAfterSuspend=!0),o}};var r=new e,n=function(o){var l=this;if(!o.src||o.src.length===0){console.error("An array of source files must be passed with any new Howl.");return}l.init(o)};n.prototype={init:function(o){var l=this;return r.ctx||g(),l._autoplay=o.autoplay||!1,l._format=typeof o.format!="string"?o.format:[o.format],l._html5=o.html5||!1,l._muted=o.mute||!1,l._loop=o.loop||!1,l._pool=o.pool||5,l._preload=typeof o.preload=="boolean"||o.preload==="metadata"?o.preload:!0,l._rate=o.rate||1,l._sprite=o.sprite||{},l._src=typeof o.src!="string"?o.src:[o.src],l._volume=o.volume!==void 0?o.volume:1,l._xhr={method:o.xhr&&o.xhr.method?o.xhr.method:"GET",headers:o.xhr&&o.xhr.headers?o.xhr.headers:null,withCredentials:o.xhr&&o.xhr.withCredentials?o.xhr.withCredentials:!1},l._duration=0,l._state="unloaded",l._sounds=[],l._endTimers={},l._queue=[],l._playLock=!1,l._onend=o.onend?[{fn:o.onend}]:[],l._onfade=o.onfade?[{fn:o.onfade}]:[],l._onload=o.onload?[{fn:o.onload}]:[],l._onloaderror=o.onloaderror?[{fn:o.onloaderror}]:[],l._onplayerror=o.onplayerror?[{fn:o.onplayerror}]:[],l._onpause=o.onpause?[{fn:o.onpause}]:[],l._onplay=o.onplay?[{fn:o.onplay}]:[],l._onstop=o.onstop?[{fn:o.onstop}]:[],l._onmute=o.onmute?[{fn:o.onmute}]:[],l._onvolume=o.onvolume?[{fn:o.onvolume}]:[],l._onrate=o.onrate?[{fn:o.onrate}]:[],l._onseek=o.onseek?[{fn:o.onseek}]:[],l._onunlock=o.onunlock?[{fn:o.onunlock}]:[],l._onresume=[],l._webAudio=r.usingWebAudio&&!l._html5,typeof r.ctx<"u"&&r.ctx&&r.autoUnlock&&r._unlockAudio(),r._howls.push(l),l._autoplay&&l._queue.push({event:"play",action:function(){l.play()}}),l._preload&&l._preload!=="none"&&l.load(),l},load:function(){var o=this,l=null;if(r.noAudio){o._emit("loaderror",null,"No audio support.");return}typeof o._src=="string"&&(o._src=[o._src]);for(var d=0;d<o._src.length;d++){var f,m;if(o._format&&o._format[d])f=o._format[d];else{if(m=o._src[d],typeof m!="string"){o._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}f=/^data:audio\/([^;,]+);/i.exec(m),f||(f=/\.([^.]+)$/.exec(m.split("?",1)[0])),f&&(f=f[1].toLowerCase())}if(f||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),f&&r.codecs(f)){l=o._src[d];break}}if(!l){o._emit("loaderror",null,"No codec support for selected audio sources.");return}return o._src=l,o._state="loading",window.location.protocol==="https:"&&l.slice(0,5)==="http:"&&(o._html5=!0,o._webAudio=!1),new i(o),o._webAudio&&s(o),o},play:function(o,l){var d=this,f=null;if(typeof o=="number")f=o,o=null;else{if(typeof o=="string"&&d._state==="loaded"&&!d._sprite[o])return null;if(typeof o>"u"&&(o="__default",!d._playLock)){for(var m=0,y=0;y<d._sounds.length;y++)d._sounds[y]._paused&&!d._sounds[y]._ended&&(m++,f=d._sounds[y]._id);m===1?o=null:f=null}}var p=f?d._soundById(f):d._inactiveSound();if(!p)return null;if(f&&!o&&(o=p._sprite||"__default"),d._state!=="loaded"){p._sprite=o,p._ended=!1;var v=p._id;return d._queue.push({event:"play",action:function(){d.play(v)}}),v}if(f&&!p._paused)return l||d._loadQueue("play"),p._id;d._webAudio&&r._autoResume();var w=Math.max(0,p._seek>0?p._seek:d._sprite[o][0]/1e3),A=Math.max(0,(d._sprite[o][0]+d._sprite[o][1])/1e3-w),M=A*1e3/Math.abs(p._rate),C=d._sprite[o][0]/1e3,N=(d._sprite[o][0]+d._sprite[o][1])/1e3;p._sprite=o,p._ended=!1;var D=function(){p._paused=!1,p._seek=w,p._start=C,p._stop=N,p._loop=!!(p._loop||d._sprite[o][2])};if(w>=N){d._ended(p);return}var x=p._node;if(d._webAudio){var I=function(){d._playLock=!1,D(),d._refreshBuffer(p);var ne=p._muted||d._muted?0:p._volume;x.gain.setValueAtTime(ne,r.ctx.currentTime),p._playStart=r.ctx.currentTime,typeof x.bufferSource.start>"u"?p._loop?x.bufferSource.noteGrainOn(0,w,86400):x.bufferSource.noteGrainOn(0,w,A):p._loop?x.bufferSource.start(0,w,86400):x.bufferSource.start(0,w,A),M!==1/0&&(d._endTimers[p._id]=setTimeout(d._ended.bind(d,p),M)),l||setTimeout(function(){d._emit("play",p._id),d._loadQueue()},0)};r.state==="running"&&r.ctx.state!=="interrupted"?I():(d._playLock=!0,d.once("resume",I),d._clearTimer(p._id))}else{var F=function(){x.currentTime=w,x.muted=p._muted||d._muted||r._muted||x.muted,x.volume=p._volume*r.volume(),x.playbackRate=p._rate;try{var ne=x.play();if(ne&&typeof Promise<"u"&&(ne instanceof Promise||typeof ne.then=="function")?(d._playLock=!0,D(),ne.then(function(){d._playLock=!1,x._unlocked=!0,l?d._loadQueue():d._emit("play",p._id)}).catch(function(){d._playLock=!1,d._emit("playerror",p._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),p._ended=!0,p._paused=!0})):l||(d._playLock=!1,D(),d._emit("play",p._id)),x.playbackRate=p._rate,x.paused){d._emit("playerror",p._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");return}o!=="__default"||p._loop?d._endTimers[p._id]=setTimeout(d._ended.bind(d,p),M):(d._endTimers[p._id]=function(){d._ended(p),x.removeEventListener("ended",d._endTimers[p._id],!1)},x.addEventListener("ended",d._endTimers[p._id],!1))}catch(Ge){d._emit("playerror",p._id,Ge)}};x.src==="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"&&(x.src=d._src,x.load());var te=window&&window.ejecta||!x.readyState&&r._navigator.isCocoonJS;if(x.readyState>=3||te)F();else{d._playLock=!0,d._state="loading";var ae=function(){d._state="loaded",F(),x.removeEventListener(r._canPlayEvent,ae,!1)};x.addEventListener(r._canPlayEvent,ae,!1),d._clearTimer(p._id)}}return p._id},pause:function(o){var l=this;if(l._state!=="loaded"||l._playLock)return l._queue.push({event:"pause",action:function(){l.pause(o)}}),l;for(var d=l._getSoundIds(o),f=0;f<d.length;f++){l._clearTimer(d[f]);var m=l._soundById(d[f]);if(m&&!m._paused&&(m._seek=l.seek(d[f]),m._rateSeek=0,m._paused=!0,l._stopFade(d[f]),m._node))if(l._webAudio){if(!m._node.bufferSource)continue;typeof m._node.bufferSource.stop>"u"?m._node.bufferSource.noteOff(0):m._node.bufferSource.stop(0),l._cleanBuffer(m._node)}else(!isNaN(m._node.duration)||m._node.duration===1/0)&&m._node.pause();arguments[1]||l._emit("pause",m?m._id:null)}return l},stop:function(o,l){var d=this;if(d._state!=="loaded"||d._playLock)return d._queue.push({event:"stop",action:function(){d.stop(o)}}),d;for(var f=d._getSoundIds(o),m=0;m<f.length;m++){d._clearTimer(f[m]);var y=d._soundById(f[m]);y&&(y._seek=y._start||0,y._rateSeek=0,y._paused=!0,y._ended=!0,d._stopFade(f[m]),y._node&&(d._webAudio?y._node.bufferSource&&(typeof y._node.bufferSource.stop>"u"?y._node.bufferSource.noteOff(0):y._node.bufferSource.stop(0),d._cleanBuffer(y._node)):(!isNaN(y._node.duration)||y._node.duration===1/0)&&(y._node.currentTime=y._start||0,y._node.pause(),y._node.duration===1/0&&d._clearSound(y._node))),l||d._emit("stop",y._id))}return d},mute:function(o,l){var d=this;if(d._state!=="loaded"||d._playLock)return d._queue.push({event:"mute",action:function(){d.mute(o,l)}}),d;if(typeof l>"u")if(typeof o=="boolean")d._muted=o;else return d._muted;for(var f=d._getSoundIds(l),m=0;m<f.length;m++){var y=d._soundById(f[m]);y&&(y._muted=o,y._interval&&d._stopFade(y._id),d._webAudio&&y._node?y._node.gain.setValueAtTime(o?0:y._volume,r.ctx.currentTime):y._node&&(y._node.muted=r._muted?!0:o),d._emit("mute",y._id))}return d},volume:function(){var o=this,l=arguments,d,f;if(l.length===0)return o._volume;if(l.length===1||l.length===2&&typeof l[1]>"u"){var m=o._getSoundIds(),y=m.indexOf(l[0]);y>=0?f=parseInt(l[0],10):d=parseFloat(l[0])}else l.length>=2&&(d=parseFloat(l[0]),f=parseInt(l[1],10));var p;if(typeof d<"u"&&d>=0&&d<=1){if(o._state!=="loaded"||o._playLock)return o._queue.push({event:"volume",action:function(){o.volume.apply(o,l)}}),o;typeof f>"u"&&(o._volume=d),f=o._getSoundIds(f);for(var v=0;v<f.length;v++)p=o._soundById(f[v]),p&&(p._volume=d,l[2]||o._stopFade(f[v]),o._webAudio&&p._node&&!p._muted?p._node.gain.setValueAtTime(d,r.ctx.currentTime):p._node&&!p._muted&&(p._node.volume=d*r.volume()),o._emit("volume",p._id))}else return p=f?o._soundById(f):o._sounds[0],p?p._volume:0;return o},fade:function(o,l,d,f){var m=this;if(m._state!=="loaded"||m._playLock)return m._queue.push({event:"fade",action:function(){m.fade(o,l,d,f)}}),m;o=Math.min(Math.max(0,parseFloat(o)),1),l=Math.min(Math.max(0,parseFloat(l)),1),d=parseFloat(d),m.volume(o,f);for(var y=m._getSoundIds(f),p=0;p<y.length;p++){var v=m._soundById(y[p]);if(v){if(f||m._stopFade(y[p]),m._webAudio&&!v._muted){var w=r.ctx.currentTime,A=w+d/1e3;v._volume=o,v._node.gain.setValueAtTime(o,w),v._node.gain.linearRampToValueAtTime(l,A)}m._startFadeInterval(v,o,l,d,y[p],typeof f>"u")}}return m},_startFadeInterval:function(o,l,d,f,m,y){var p=this,v=l,w=d-l,A=Math.abs(w/.01),M=Math.max(4,A>0?f/A:f),C=Date.now();o._fadeTo=d,o._interval=setInterval(function(){var N=(Date.now()-C)/f;C=Date.now(),v+=w*N,v=Math.round(v*100)/100,w<0?v=Math.max(d,v):v=Math.min(d,v),p._webAudio?o._volume=v:p.volume(v,o._id,!0),y&&(p._volume=v),(d<l&&v<=d||d>l&&v>=d)&&(clearInterval(o._interval),o._interval=null,o._fadeTo=null,p.volume(d,o._id),p._emit("fade",o._id))},M)},_stopFade:function(o){var l=this,d=l._soundById(o);return d&&d._interval&&(l._webAudio&&d._node.gain.cancelScheduledValues(r.ctx.currentTime),clearInterval(d._interval),d._interval=null,l.volume(d._fadeTo,o),d._fadeTo=null,l._emit("fade",o)),l},loop:function(){var o=this,l=arguments,d,f,m;if(l.length===0)return o._loop;if(l.length===1)if(typeof l[0]=="boolean")d=l[0],o._loop=d;else return m=o._soundById(parseInt(l[0],10)),m?m._loop:!1;else l.length===2&&(d=l[0],f=parseInt(l[1],10));for(var y=o._getSoundIds(f),p=0;p<y.length;p++)m=o._soundById(y[p]),m&&(m._loop=d,o._webAudio&&m._node&&m._node.bufferSource&&(m._node.bufferSource.loop=d,d&&(m._node.bufferSource.loopStart=m._start||0,m._node.bufferSource.loopEnd=m._stop,o.playing(y[p])&&(o.pause(y[p],!0),o.play(y[p],!0)))));return o},rate:function(){var o=this,l=arguments,d,f;if(l.length===0)f=o._sounds[0]._id;else if(l.length===1){var m=o._getSoundIds(),y=m.indexOf(l[0]);y>=0?f=parseInt(l[0],10):d=parseFloat(l[0])}else l.length===2&&(d=parseFloat(l[0]),f=parseInt(l[1],10));var p;if(typeof d=="number"){if(o._state!=="loaded"||o._playLock)return o._queue.push({event:"rate",action:function(){o.rate.apply(o,l)}}),o;typeof f>"u"&&(o._rate=d),f=o._getSoundIds(f);for(var v=0;v<f.length;v++)if(p=o._soundById(f[v]),p){o.playing(f[v])&&(p._rateSeek=o.seek(f[v]),p._playStart=o._webAudio?r.ctx.currentTime:p._playStart),p._rate=d,o._webAudio&&p._node&&p._node.bufferSource?p._node.bufferSource.playbackRate.setValueAtTime(d,r.ctx.currentTime):p._node&&(p._node.playbackRate=d);var w=o.seek(f[v]),A=(o._sprite[p._sprite][0]+o._sprite[p._sprite][1])/1e3-w,M=A*1e3/Math.abs(p._rate);(o._endTimers[f[v]]||!p._paused)&&(o._clearTimer(f[v]),o._endTimers[f[v]]=setTimeout(o._ended.bind(o,p),M)),o._emit("rate",p._id)}}else return p=o._soundById(f),p?p._rate:o._rate;return o},seek:function(){var o=this,l=arguments,d,f;if(l.length===0)o._sounds.length&&(f=o._sounds[0]._id);else if(l.length===1){var m=o._getSoundIds(),y=m.indexOf(l[0]);y>=0?f=parseInt(l[0],10):o._sounds.length&&(f=o._sounds[0]._id,d=parseFloat(l[0]))}else l.length===2&&(d=parseFloat(l[0]),f=parseInt(l[1],10));if(typeof f>"u")return 0;if(typeof d=="number"&&(o._state!=="loaded"||o._playLock))return o._queue.push({event:"seek",action:function(){o.seek.apply(o,l)}}),o;var p=o._soundById(f);if(p)if(typeof d=="number"&&d>=0){var v=o.playing(f);v&&o.pause(f,!0),p._seek=d,p._ended=!1,o._clearTimer(f),!o._webAudio&&p._node&&!isNaN(p._node.duration)&&(p._node.currentTime=d);var w=function(){v&&o.play(f,!0),o._emit("seek",f)};if(v&&!o._webAudio){var A=function(){o._playLock?setTimeout(A,0):w()};setTimeout(A,0)}else w()}else if(o._webAudio){var M=o.playing(f)?r.ctx.currentTime-p._playStart:0,C=p._rateSeek?p._rateSeek-p._seek:0;return p._seek+(C+M*Math.abs(p._rate))}else return p._node.currentTime;return o},playing:function(o){var l=this;if(typeof o=="number"){var d=l._soundById(o);return d?!d._paused:!1}for(var f=0;f<l._sounds.length;f++)if(!l._sounds[f]._paused)return!0;return!1},duration:function(o){var l=this,d=l._duration,f=l._soundById(o);return f&&(d=l._sprite[f._sprite][1]/1e3),d},state:function(){return this._state},unload:function(){for(var o=this,l=o._sounds,d=0;d<l.length;d++)l[d]._paused||o.stop(l[d]._id),o._webAudio||(o._clearSound(l[d]._node),l[d]._node.removeEventListener("error",l[d]._errorFn,!1),l[d]._node.removeEventListener(r._canPlayEvent,l[d]._loadFn,!1),l[d]._node.removeEventListener("ended",l[d]._endFn,!1),r._releaseHtml5Audio(l[d]._node)),delete l[d]._node,o._clearTimer(l[d]._id);var f=r._howls.indexOf(o);f>=0&&r._howls.splice(f,1);var m=!0;for(d=0;d<r._howls.length;d++)if(r._howls[d]._src===o._src||o._src.indexOf(r._howls[d]._src)>=0){m=!1;break}return a&&m&&delete a[o._src],r.noAudio=!1,o._state="unloaded",o._sounds=[],o=null,null},on:function(o,l,d,f){var m=this,y=m["_on"+o];return typeof l=="function"&&y.push(f?{id:d,fn:l,once:f}:{id:d,fn:l}),m},off:function(o,l,d){var f=this,m=f["_on"+o],y=0;if(typeof l=="number"&&(d=l,l=null),l||d)for(y=0;y<m.length;y++){var p=d===m[y].id;if(l===m[y].fn&&p||!l&&p){m.splice(y,1);break}}else if(o)f["_on"+o]=[];else{var v=Object.keys(f);for(y=0;y<v.length;y++)v[y].indexOf("_on")===0&&Array.isArray(f[v[y]])&&(f[v[y]]=[])}return f},once:function(o,l,d){var f=this;return f.on(o,l,d,1),f},_emit:function(o,l,d){for(var f=this,m=f["_on"+o],y=m.length-1;y>=0;y--)(!m[y].id||m[y].id===l||o==="load")&&(setTimeout((function(p){p.call(this,l,d)}).bind(f,m[y].fn),0),m[y].once&&f.off(o,m[y].fn,m[y].id));return f._loadQueue(o),f},_loadQueue:function(o){var l=this;if(l._queue.length>0){var d=l._queue[0];d.event===o&&(l._queue.shift(),l._loadQueue()),o||d.action()}return l},_ended:function(o){var l=this,d=o._sprite;if(!l._webAudio&&o._node&&!o._node.paused&&!o._node.ended&&o._node.currentTime<o._stop)return setTimeout(l._ended.bind(l,o),100),l;var f=!!(o._loop||l._sprite[d][2]);if(l._emit("end",o._id),!l._webAudio&&f&&l.stop(o._id,!0).play(o._id),l._webAudio&&f){l._emit("play",o._id),o._seek=o._start||0,o._rateSeek=0,o._playStart=r.ctx.currentTime;var m=(o._stop-o._start)*1e3/Math.abs(o._rate);l._endTimers[o._id]=setTimeout(l._ended.bind(l,o),m)}return l._webAudio&&!f&&(o._paused=!0,o._ended=!0,o._seek=o._start||0,o._rateSeek=0,l._clearTimer(o._id),l._cleanBuffer(o._node),r._autoSuspend()),!l._webAudio&&!f&&l.stop(o._id,!0),l},_clearTimer:function(o){var l=this;if(l._endTimers[o]){if(typeof l._endTimers[o]!="function")clearTimeout(l._endTimers[o]);else{var d=l._soundById(o);d&&d._node&&d._node.removeEventListener("ended",l._endTimers[o],!1)}delete l._endTimers[o]}return l},_soundById:function(o){for(var l=this,d=0;d<l._sounds.length;d++)if(o===l._sounds[d]._id)return l._sounds[d];return null},_inactiveSound:function(){var o=this;o._drain();for(var l=0;l<o._sounds.length;l++)if(o._sounds[l]._ended)return o._sounds[l].reset();return new i(o)},_drain:function(){var o=this,l=o._pool,d=0,f=0;if(!(o._sounds.length<l)){for(f=0;f<o._sounds.length;f++)o._sounds[f]._ended&&d++;for(f=o._sounds.length-1;f>=0;f--){if(d<=l)return;o._sounds[f]._ended&&(o._webAudio&&o._sounds[f]._node&&o._sounds[f]._node.disconnect(0),o._sounds.splice(f,1),d--)}}},_getSoundIds:function(o){var l=this;if(typeof o>"u"){for(var d=[],f=0;f<l._sounds.length;f++)d.push(l._sounds[f]._id);return d}else return[o]},_refreshBuffer:function(o){var l=this;return o._node.bufferSource=r.ctx.createBufferSource(),o._node.bufferSource.buffer=a[l._src],o._panner?o._node.bufferSource.connect(o._panner):o._node.bufferSource.connect(o._node),o._node.bufferSource.loop=o._loop,o._loop&&(o._node.bufferSource.loopStart=o._start||0,o._node.bufferSource.loopEnd=o._stop||0),o._node.bufferSource.playbackRate.setValueAtTime(o._rate,r.ctx.currentTime),l},_cleanBuffer:function(o){var l=this,d=r._navigator&&r._navigator.vendor.indexOf("Apple")>=0;if(!o.bufferSource)return l;if(r._scratchBuffer&&o.bufferSource&&(o.bufferSource.onended=null,o.bufferSource.disconnect(0),d))try{o.bufferSource.buffer=r._scratchBuffer}catch{}return o.bufferSource=null,l},_clearSound:function(o){var l=/MSIE |Trident\//.test(r._navigator&&r._navigator.userAgent);l||(o.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var i=function(o){this._parent=o,this.init()};i.prototype={init:function(){var o=this,l=o._parent;return o._muted=l._muted,o._loop=l._loop,o._volume=l._volume,o._rate=l._rate,o._seek=0,o._paused=!0,o._ended=!0,o._sprite="__default",o._id=++r._counter,l._sounds.push(o),o.create(),o},create:function(){var o=this,l=o._parent,d=r._muted||o._muted||o._parent._muted?0:o._volume;return l._webAudio?(o._node=typeof r.ctx.createGain>"u"?r.ctx.createGainNode():r.ctx.createGain(),o._node.gain.setValueAtTime(d,r.ctx.currentTime),o._node.paused=!0,o._node.connect(r.masterGain)):r.noAudio||(o._node=r._obtainHtml5Audio(),o._errorFn=o._errorListener.bind(o),o._node.addEventListener("error",o._errorFn,!1),o._loadFn=o._loadListener.bind(o),o._node.addEventListener(r._canPlayEvent,o._loadFn,!1),o._endFn=o._endListener.bind(o),o._node.addEventListener("ended",o._endFn,!1),o._node.src=l._src,o._node.preload=l._preload===!0?"auto":l._preload,o._node.volume=d*r.volume(),o._node.load()),o},reset:function(){var o=this,l=o._parent;return o._muted=l._muted,o._loop=l._loop,o._volume=l._volume,o._rate=l._rate,o._seek=0,o._rateSeek=0,o._paused=!0,o._ended=!0,o._sprite="__default",o._id=++r._counter,o},_errorListener:function(){var o=this;o._parent._emit("loaderror",o._id,o._node.error?o._node.error.code:0),o._node.removeEventListener("error",o._errorFn,!1)},_loadListener:function(){var o=this,l=o._parent;l._duration=Math.ceil(o._node.duration*10)/10,Object.keys(l._sprite).length===0&&(l._sprite={__default:[0,l._duration*1e3]}),l._state!=="loaded"&&(l._state="loaded",l._emit("load"),l._loadQueue()),o._node.removeEventListener(r._canPlayEvent,o._loadFn,!1)},_endListener:function(){var o=this,l=o._parent;l._duration===1/0&&(l._duration=Math.ceil(o._node.duration*10)/10,l._sprite.__default[1]===1/0&&(l._sprite.__default[1]=l._duration*1e3),l._ended(o)),o._node.removeEventListener("ended",o._endFn,!1)}};var a={},s=function(o){var l=o._src;if(a[l]){o._duration=a[l].duration,h(o);return}if(/^data:[^;]+;base64,/.test(l)){for(var d=atob(l.split(",")[1]),f=new Uint8Array(d.length),m=0;m<d.length;++m)f[m]=d.charCodeAt(m);u(f.buffer,o)}else{var y=new XMLHttpRequest;y.open(o._xhr.method,l,!0),y.withCredentials=o._xhr.withCredentials,y.responseType="arraybuffer",o._xhr.headers&&Object.keys(o._xhr.headers).forEach(function(p){y.setRequestHeader(p,o._xhr.headers[p])}),y.onload=function(){var p=(y.status+"")[0];if(p!=="0"&&p!=="2"&&p!=="3"){o._emit("loaderror",null,"Failed loading audio file with status: "+y.status+".");return}u(y.response,o)},y.onerror=function(){o._webAudio&&(o._html5=!0,o._webAudio=!1,o._sounds=[],delete a[l],o.load())},c(y)}},c=function(o){try{o.send()}catch{o.onerror()}},u=function(o,l){var d=function(){l._emit("loaderror",null,"Decoding audio data failed.")},f=function(m){m&&l._sounds.length>0?(a[l._src]=m,h(l,m)):d()};typeof Promise<"u"&&r.ctx.decodeAudioData.length===1?r.ctx.decodeAudioData(o).then(f).catch(d):r.ctx.decodeAudioData(o,f,d)},h=function(o,l){l&&!o._duration&&(o._duration=l.duration),Object.keys(o._sprite).length===0&&(o._sprite={__default:[0,o._duration*1e3]}),o._state!=="loaded"&&(o._state="loaded",o._emit("load"),o._loadQueue())},g=function(){if(r.usingWebAudio){try{typeof AudioContext<"u"?r.ctx=new AudioContext:typeof webkitAudioContext<"u"?r.ctx=new webkitAudioContext:r.usingWebAudio=!1}catch{r.usingWebAudio=!1}r.ctx||(r.usingWebAudio=!1);var o=/iP(hone|od|ad)/.test(r._navigator&&r._navigator.platform),l=r._navigator&&r._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),d=l?parseInt(l[1],10):null;if(o&&d&&d<9){var f=/safari/.test(r._navigator&&r._navigator.userAgent.toLowerCase());r._navigator&&!f&&(r.usingWebAudio=!1)}r.usingWebAudio&&(r.masterGain=typeof r.ctx.createGain>"u"?r.ctx.createGainNode():r.ctx.createGain(),r.masterGain.gain.setValueAtTime(r._muted?0:r._volume,r.ctx.currentTime),r.masterGain.connect(r.ctx.destination)),r._setup()}};typeof define=="function"&&define.amd&&define([],function(){return{Howler:r,Howl:n}}),typeof t<"u"&&(t.Howler=r,t.Howl=n),typeof global<"u"?(global.HowlerGlobal=e,global.Howler=r,global.Howl=n,global.Sound=i):typeof window<"u"&&(window.HowlerGlobal=e,window.Howler=r,window.Howl=n,window.Sound=i)})(),function(){HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(r){var n=this;if(!n.ctx||!n.ctx.listener)return n;for(var i=n._howls.length-1;i>=0;i--)n._howls[i].stereo(r);return n},HowlerGlobal.prototype.pos=function(r,n,i){var a=this;if(!a.ctx||!a.ctx.listener)return a;if(n=typeof n!="number"?a._pos[1]:n,i=typeof i!="number"?a._pos[2]:i,typeof r=="number")a._pos=[r,n,i],typeof a.ctx.listener.positionX<"u"?(a.ctx.listener.positionX.setTargetAtTime(a._pos[0],Howler.ctx.currentTime,.1),a.ctx.listener.positionY.setTargetAtTime(a._pos[1],Howler.ctx.currentTime,.1),a.ctx.listener.positionZ.setTargetAtTime(a._pos[2],Howler.ctx.currentTime,.1)):a.ctx.listener.setPosition(a._pos[0],a._pos[1],a._pos[2]);else return a._pos;return a},HowlerGlobal.prototype.orientation=function(r,n,i,a,s,c){var u=this;if(!u.ctx||!u.ctx.listener)return u;var h=u._orientation;if(n=typeof n!="number"?h[1]:n,i=typeof i!="number"?h[2]:i,a=typeof a!="number"?h[3]:a,s=typeof s!="number"?h[4]:s,c=typeof c!="number"?h[5]:c,typeof r=="number")u._orientation=[r,n,i,a,s,c],typeof u.ctx.listener.forwardX<"u"?(u.ctx.listener.forwardX.setTargetAtTime(r,Howler.ctx.currentTime,.1),u.ctx.listener.forwardY.setTargetAtTime(n,Howler.ctx.currentTime,.1),u.ctx.listener.forwardZ.setTargetAtTime(i,Howler.ctx.currentTime,.1),u.ctx.listener.upX.setTargetAtTime(a,Howler.ctx.currentTime,.1),u.ctx.listener.upY.setTargetAtTime(s,Howler.ctx.currentTime,.1),u.ctx.listener.upZ.setTargetAtTime(c,Howler.ctx.currentTime,.1)):u.ctx.listener.setOrientation(r,n,i,a,s,c);else return h;return u},Howl.prototype.init=function(r){return function(n){var i=this;return i._orientation=n.orientation||[1,0,0],i._stereo=n.stereo||null,i._pos=n.pos||null,i._pannerAttr={coneInnerAngle:typeof n.coneInnerAngle<"u"?n.coneInnerAngle:360,coneOuterAngle:typeof n.coneOuterAngle<"u"?n.coneOuterAngle:360,coneOuterGain:typeof n.coneOuterGain<"u"?n.coneOuterGain:0,distanceModel:typeof n.distanceModel<"u"?n.distanceModel:"inverse",maxDistance:typeof n.maxDistance<"u"?n.maxDistance:1e4,panningModel:typeof n.panningModel<"u"?n.panningModel:"HRTF",refDistance:typeof n.refDistance<"u"?n.refDistance:1,rolloffFactor:typeof n.rolloffFactor<"u"?n.rolloffFactor:1},i._onstereo=n.onstereo?[{fn:n.onstereo}]:[],i._onpos=n.onpos?[{fn:n.onpos}]:[],i._onorientation=n.onorientation?[{fn:n.onorientation}]:[],r.call(this,n)}}(Howl.prototype.init),Howl.prototype.stereo=function(r,n){var i=this;if(!i._webAudio)return i;if(i._state!=="loaded")return i._queue.push({event:"stereo",action:function(){i.stereo(r,n)}}),i;var a=typeof Howler.ctx.createStereoPanner>"u"?"spatial":"stereo";if(typeof n>"u")if(typeof r=="number")i._stereo=r,i._pos=[r,0,0];else return i._stereo;for(var s=i._getSoundIds(n),c=0;c<s.length;c++){var u=i._soundById(s[c]);if(u)if(typeof r=="number")u._stereo=r,u._pos=[r,0,0],u._node&&(u._pannerAttr.panningModel="equalpower",(!u._panner||!u._panner.pan)&&e(u,a),a==="spatial"?typeof u._panner.positionX<"u"?(u._panner.positionX.setValueAtTime(r,Howler.ctx.currentTime),u._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),u._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):u._panner.setPosition(r,0,0):u._panner.pan.setValueAtTime(r,Howler.ctx.currentTime)),i._emit("stereo",u._id);else return u._stereo}return i},Howl.prototype.pos=function(r,n,i,a){var s=this;if(!s._webAudio)return s;if(s._state!=="loaded")return s._queue.push({event:"pos",action:function(){s.pos(r,n,i,a)}}),s;if(n=typeof n!="number"?0:n,i=typeof i!="number"?-.5:i,typeof a>"u")if(typeof r=="number")s._pos=[r,n,i];else return s._pos;for(var c=s._getSoundIds(a),u=0;u<c.length;u++){var h=s._soundById(c[u]);if(h)if(typeof r=="number")h._pos=[r,n,i],h._node&&((!h._panner||h._panner.pan)&&e(h,"spatial"),typeof h._panner.positionX<"u"?(h._panner.positionX.setValueAtTime(r,Howler.ctx.currentTime),h._panner.positionY.setValueAtTime(n,Howler.ctx.currentTime),h._panner.positionZ.setValueAtTime(i,Howler.ctx.currentTime)):h._panner.setPosition(r,n,i)),s._emit("pos",h._id);else return h._pos}return s},Howl.prototype.orientation=function(r,n,i,a){var s=this;if(!s._webAudio)return s;if(s._state!=="loaded")return s._queue.push({event:"orientation",action:function(){s.orientation(r,n,i,a)}}),s;if(n=typeof n!="number"?s._orientation[1]:n,i=typeof i!="number"?s._orientation[2]:i,typeof a>"u")if(typeof r=="number")s._orientation=[r,n,i];else return s._orientation;for(var c=s._getSoundIds(a),u=0;u<c.length;u++){var h=s._soundById(c[u]);if(h)if(typeof r=="number")h._orientation=[r,n,i],h._node&&(h._panner||(h._pos||(h._pos=s._pos||[0,0,-.5]),e(h,"spatial")),typeof h._panner.orientationX<"u"?(h._panner.orientationX.setValueAtTime(r,Howler.ctx.currentTime),h._panner.orientationY.setValueAtTime(n,Howler.ctx.currentTime),h._panner.orientationZ.setValueAtTime(i,Howler.ctx.currentTime)):h._panner.setOrientation(r,n,i)),s._emit("orientation",h._id);else return h._orientation}return s},Howl.prototype.pannerAttr=function(){var r=this,n=arguments,i,a,s;if(!r._webAudio)return r;if(n.length===0)return r._pannerAttr;if(n.length===1)if(typeof n[0]=="object")i=n[0],typeof a>"u"&&(i.pannerAttr||(i.pannerAttr={coneInnerAngle:i.coneInnerAngle,coneOuterAngle:i.coneOuterAngle,coneOuterGain:i.coneOuterGain,distanceModel:i.distanceModel,maxDistance:i.maxDistance,refDistance:i.refDistance,rolloffFactor:i.rolloffFactor,panningModel:i.panningModel}),r._pannerAttr={coneInnerAngle:typeof i.pannerAttr.coneInnerAngle<"u"?i.pannerAttr.coneInnerAngle:r._coneInnerAngle,coneOuterAngle:typeof i.pannerAttr.coneOuterAngle<"u"?i.pannerAttr.coneOuterAngle:r._coneOuterAngle,coneOuterGain:typeof i.pannerAttr.coneOuterGain<"u"?i.pannerAttr.coneOuterGain:r._coneOuterGain,distanceModel:typeof i.pannerAttr.distanceModel<"u"?i.pannerAttr.distanceModel:r._distanceModel,maxDistance:typeof i.pannerAttr.maxDistance<"u"?i.pannerAttr.maxDistance:r._maxDistance,refDistance:typeof i.pannerAttr.refDistance<"u"?i.pannerAttr.refDistance:r._refDistance,rolloffFactor:typeof i.pannerAttr.rolloffFactor<"u"?i.pannerAttr.rolloffFactor:r._rolloffFactor,panningModel:typeof i.pannerAttr.panningModel<"u"?i.pannerAttr.panningModel:r._panningModel});else return s=r._soundById(parseInt(n[0],10)),s?s._pannerAttr:r._pannerAttr;else n.length===2&&(i=n[0],a=parseInt(n[1],10));for(var c=r._getSoundIds(a),u=0;u<c.length;u++)if(s=r._soundById(c[u]),s){var h=s._pannerAttr;h={coneInnerAngle:typeof i.coneInnerAngle<"u"?i.coneInnerAngle:h.coneInnerAngle,coneOuterAngle:typeof i.coneOuterAngle<"u"?i.coneOuterAngle:h.coneOuterAngle,coneOuterGain:typeof i.coneOuterGain<"u"?i.coneOuterGain:h.coneOuterGain,distanceModel:typeof i.distanceModel<"u"?i.distanceModel:h.distanceModel,maxDistance:typeof i.maxDistance<"u"?i.maxDistance:h.maxDistance,refDistance:typeof i.refDistance<"u"?i.refDistance:h.refDistance,rolloffFactor:typeof i.rolloffFactor<"u"?i.rolloffFactor:h.rolloffFactor,panningModel:typeof i.panningModel<"u"?i.panningModel:h.panningModel};var g=s._panner;g||(s._pos||(s._pos=r._pos||[0,0,-.5]),e(s,"spatial"),g=s._panner),g.coneInnerAngle=h.coneInnerAngle,g.coneOuterAngle=h.coneOuterAngle,g.coneOuterGain=h.coneOuterGain,g.distanceModel=h.distanceModel,g.maxDistance=h.maxDistance,g.refDistance=h.refDistance,g.rolloffFactor=h.rolloffFactor,g.panningModel=h.panningModel}return r},Sound.prototype.init=function(r){return function(){var n=this,i=n._parent;n._orientation=i._orientation,n._stereo=i._stereo,n._pos=i._pos,n._pannerAttr=i._pannerAttr,r.call(this),n._stereo?i.stereo(n._stereo):n._pos&&i.pos(n._pos[0],n._pos[1],n._pos[2],n._id)}}(Sound.prototype.init),Sound.prototype.reset=function(r){return function(){var n=this,i=n._parent;return n._orientation=i._orientation,n._stereo=i._stereo,n._pos=i._pos,n._pannerAttr=i._pannerAttr,n._stereo?i.stereo(n._stereo):n._pos?i.pos(n._pos[0],n._pos[1],n._pos[2],n._id):n._panner&&(n._panner.disconnect(0),n._panner=void 0,i._refreshBuffer(n)),r.call(this)}}(Sound.prototype.reset);var e=function(r,n){n=n||"spatial",n==="spatial"?(r._panner=Howler.ctx.createPanner(),r._panner.coneInnerAngle=r._pannerAttr.coneInnerAngle,r._panner.coneOuterAngle=r._pannerAttr.coneOuterAngle,r._panner.coneOuterGain=r._pannerAttr.coneOuterGain,r._panner.distanceModel=r._pannerAttr.distanceModel,r._panner.maxDistance=r._pannerAttr.maxDistance,r._panner.refDistance=r._pannerAttr.refDistance,r._panner.rolloffFactor=r._pannerAttr.rolloffFactor,r._panner.panningModel=r._pannerAttr.panningModel,typeof r._panner.positionX<"u"?(r._panner.positionX.setValueAtTime(r._pos[0],Howler.ctx.currentTime),r._panner.positionY.setValueAtTime(r._pos[1],Howler.ctx.currentTime),r._panner.positionZ.setValueAtTime(r._pos[2],Howler.ctx.currentTime)):r._panner.setPosition(r._pos[0],r._pos[1],r._pos[2]),typeof r._panner.orientationX<"u"?(r._panner.orientationX.setValueAtTime(r._orientation[0],Howler.ctx.currentTime),r._panner.orientationY.setValueAtTime(r._orientation[1],Howler.ctx.currentTime),r._panner.orientationZ.setValueAtTime(r._orientation[2],Howler.ctx.currentTime)):r._panner.setOrientation(r._orientation[0],r._orientation[1],r._orientation[2])):(r._panner=Howler.ctx.createStereoPanner(),r._panner.pan.setValueAtTime(r._stereo,Howler.ctx.currentTime)),r._panner.connect(r._node),r._paused||r._parent.pause(r._id,!0).play(r._id,!0)}}()}),jS=Oc(PS(),1),sg=class Tn{constructor(e){this.resource=null,this.resource=e}static get defaultSound(){return Tn._defaultSound instanceof Tn||(Tn._defaultSound=new Tn(FS)),Tn._defaultSound}toJSONObject(){return this.resource!==null?{resource:this.resource}:{}}play(){this.audio==null&&this.resource!=null&&(this.audio=new jS.Howl({src:this.resource,html5:!0})),this.audio!=null&&this.audio.play()}};sg._defaultSound=null;var zS=sg,BS=class xu{constructor(e,r=st.Feedback.defaultVibrationPattern){this.type=e,this.pattern=r;let n=Le.getSupportedVibrationMethod();n&&(this._vibrate=n.bind(navigator))}static get defaultVibration(){return new xu("default")}static withPattern(e){return new xu("default",e)}toJSONObject(){return{type:this.type}}vibrate(){var e;return(e=this._vibrate)==null?void 0:e.call(this,this.pattern)}},US=class lg{constructor(e,r){this._vibration=null,this._sound=null,this._vibration=e,this._sound=r}static get defaultFeedback(){return new lg(BS.defaultVibration,zS.defaultSound)}get vibration(){return this._vibration}get sound(){return this._sound}emit(){this.sound&&this.sound.play(),this.vibration&&this.vibration.vibrate()}toJSONObject(){let e={};return this.sound!==null&&(e.sound=this.sound.toJSONObject()),this.vibration!==null&&(e.vibration=this.vibration.toJSONObject()),e}},WS=class ug{constructor(e=st.Brush.fillColor,r=st.Brush.strokeColor,n=st.Brush.strokeWidth){this.fill={color:e},this.stroke={color:r,width:n}}static get transparent(){let e=ie.fromRGBA(255,255,255,0);return new ug(e,e,0)}get fillColor(){return this.fill.color}get strokeColor(){return this.stroke.color}get strokeWidth(){return this.stroke.width}static areEquals(e,r){return e==null||r==null?!1:ie.areEquals(e.fill.color,r.fill.color)&&ie.areEquals(e.stroke.color,r.stroke.color)&&e.stroke.width===r.stroke.width}toJSONObject(){return{fill:{color:this.fillColor.toJSON()},stroke:{width:this.strokeWidth,color:this.strokeColor.toJSON()}}}},VS=class{constructor(e){this._licenseText=e}get licenseText(){return this._licenseText}},$S=[119,101,98,107,105,116,84,114,97,110,115,112,111,114,116,68,117,112,108,101,120,67,104,97,110,110,101,108],HS=[53,65,41,124,75,47,108,120,50,48,115,62,66,60,107,57],GS=[111,74,88,52,51,101,51,112,66,79,38,88,40,65,36,94],Pc=String.fromCodePoint,jc=Pc.apply(String,$S);Pc.apply(String,HS);Pc.apply(String,GS);function JS(){return globalThis.location.hostname==="localhost"||globalThis.location.hostname==="127.0.0.1"||globalThis.location.hostname===""}function zc(t){let e=t;if(e!=null&&typeof e.getAppInfo=="function"&&typeof e.getKey=="function")return e}function Mu(){let{name:t=""}=Le.getUserAgentInfo().getBrowser();return t==="Electron"&&typeof zc(window[jc])=="object"&&JS()}async function YS(){var t;return(t=zc(window[jc]))==null?void 0:t.getAppInfo()}async function QS(t){var e;return(e=zc(window[jc]))==null?void 0:e.getKey(t)}var qS=class{constructor(){this.subscribers=new Set}subscribe(e){this.subscribers.add(e)}unsubscribe(e){this.subscribers.has(e)&&this.subscribers.delete(e)}notify(e){for(let r of this.subscribers)r(e)}},ZS=new qS,On=ZS,mt={configurePhase:"unconfigured",configurePromise:void 0,userLicenseKey:void 0,mainDataCaptureLoader:void 0,dataCaptureLoaders:void 0,loadingStatus:On,libraryLocation:void 0},KS=class{constructor(e=mt,r=_,n=globalThis.fetch.bind(globalThis)){this.sdk=e,this.logger=r,this.fetch=n}get workerCommand(){var e;return(e=this.sdk.mainDataCaptureLoader)==null?void 0:e.workerCommand.bind(this.sdk.mainDataCaptureLoader)}async getLicenseText(){var e,r;if(this.sdk.configurePhase!=="done")return this.logger.warn('You must call "configure" before retrieving open source license text info.'),"";let n=new URL(`${((e=this.sdk.libraryLocation)!=null?e:"").replace(/\/$/,"")}/license/web-core-license.txt`),[i,a]=await Promise.all([(r=this.workerCommand)==null?void 0:r.call(this,"getOpenSourceSoftwareLicenseInfo",{}),this.fetchWebLicenseText(n.toString())]);return[i==null?void 0:i.licenseText,a].filter(s=>s!=null).join(`
`)}async fetchWebLicenseText(e){return this.fetch(e,{mode:"cors",credentials:"include",headers:{"Content-Type":"text/plain"}}).then(async r=>{if(!r.ok)throw new Error(`${r.status} ${r.statusText}`);return r.text()}).catch(r=>(this.logger.warn(`Failed to fetch license from ${e}: ${r.toString()}`),null))}},XS=class{constructor(){}setProperty(e,r){this[e]=r}getProperty(e){return this[e]}toJSONObject(){return Object.keys(this).reduce((e,r)=>(e[r]=this.getProperty(r),e),{})}},kh,Th,Oh,Lu=class Vi{constructor(e,r){this.framework="web",this.runtimeEnvironment={deviceOS:(kh=Le.getUserAgentInfo().getOS().name)!=null?kh:"",browser:(Th=Le.getUserAgentInfo().getBrowser().name)!=null?Th:"",browserVersion:(Oh=Le.getUserAgentInfo().getBrowser().version)!=null?Oh:"",get deviceModelName(){let{model:h,vendor:g}=Le.getUserAgentInfo().getDevice();return(g==null||g==="")&&(g="Unknown"),(h==null||h==="")&&(h="Unknown"),[g,h].join(" ")}},this.settings=new XS,this._frameSource=null,this._view=null,this.modes=new Set,this.components=[],this.listeners=[],this.updateListeners=new Set,this.cameraPropertiesReportListener=this.reportCameraProperties.bind(this),this.cameraAccessErrorListener=this.onCameraAccessError.bind(this),this.onWorkerMessageListener=this.onWorkerMessage.bind(this),this.onVisibilityChangeListener=this.onVisibilityChange.bind(this),this._frameHandlers=[],this._useSynchronousFrameFlow=!1;var n,i,a,s,c,u;this.licenseKey=e,this.deviceName=(n=r.deviceName)!=null?n:"",this.dataCaptureInstance=(i=r.dataCaptureInstance)!=null?i:mt.mainDataCaptureLoader,this.delayedRegistration=(a=r.delayedRegistration)!=null?a:!1,this.highEndBlurryRecognition=(u=(c=(s=r.dataCaptureInstance)==null?void 0:s.highEndBlurryRecognition)!=null?c:mt.mainDataCaptureLoader.highEndBlurryRecognition)!=null?u:!1}get frameSource(){return this._frameSource}get workerCommand(){return this.dataCaptureInstance.workerCommand.bind(this.dataCaptureInstance)}static async create(){return Vi.createWithOptions({})}static async createWithOptions(e){var r;let n=new Vi((r=e.licenseKey)!=null?r:mt.userLicenseKey,{deviceName:e.deviceName});return e.settings!=null&&await n.applySettings(e.settings),await n.initialize(),n}static async getOpenSourceSoftwareLicenseInfo(){let e=[];for(let n of Vi.moduleLicenseTextProviders){let i=await n.getLicenseText();e.push(i)}let r=e.join(`

`);return new VS(r)}async setFrameSource(e){let r=e!==this._frameSource;if(this._frameSource!==null&&(this._frameSource.context=null),this._frameSource=e??null,e&&(e.context=this,await this.workerCommand("setFrameSource",{mirrorAxis:this.getMirrorAxisForFrameSource(e),isCameraFrameSource:oi(e)})),await this.update([{type:"frameSourceState",newValue:this.frameSource}]),r)for(let n of this.listeners)n.didChangeFrameSource&&n.didChangeFrameSource(this,this._frameSource)}addListener(e){this.listeners.includes(e)||this.listeners.push(e)}async flushAnalytics(){await this.workerCommand("flushAnalytics",{})}removeListener(e){this.listeners.includes(e)&&this.listeners.splice(this.listeners.indexOf(e),1)}async addMode(e){this.modes.add(e),await e.attachedToContext(this),this.updateCameraFrameFlow(),await this.update()}async removeMode(e){this.modes.delete(e),await e.detachedFromContext(),this.updateCameraFrameFlow(),await this.update()}async removeAllModes(){for(let e of this.modes)await this.removeMode(e)}async dispose(){ze.instance().removeListener("cameraProperties",this.cameraPropertiesReportListener),ze.instance().removeListener("cameraAccessError",this.cameraAccessErrorListener),this.unsubscribeToVisibilityChange(this.onVisibilityChangeListener),await this.workerCommand("dispose",{})}async applySettings(e){this.settings=e,await this.update()}toJSONObject(){var e,r;return{licenseKey:this.licenseKey,framework:this.framework,deviceName:this.deviceName,...this.runtimeEnvironment,modes:[...this.modes].filter(n=>!n.skipSerialization).map(n=>n.toJSONObject()),components:this.components.map(n=>n.toJSONObject()),frameSource:this.frameSource?this.frameSource.toJSONObject():null,settings:this.settings.toJSONObject(),view:(r=(e=this._view)==null?void 0:e.toJSONObject())!=null?r:null}}getView(){return this._view}async setView(e){return this._view=e,this.update([{type:"viewSet",newValue:e}])}async getAppName(){let e=null;if(Mu()){let r=await YS();if((r==null?void 0:r.appName)==null||r.appName==="")throw new Error("Cannot retrieve electron appName. Did you set it up in package.json? https://www.electronjs.org/docs/latest/api/app#appgetname");e=r.appName}return e}urlToHostname(e){try{return new URL(e??"").hostname}catch{return""}}getParentDomain(){var e;let r="";return parent!==window&&(r||(r=this.urlToHostname((e=location.ancestorOrigins)==null?void 0:e[0])),r||(r=this.urlToHostname(document.referrer)),r||(r="")),r.startsWith("[")&&r.at(-1)==="]"&&(r=r.slice(1,-1)),r}async initialize(e=!0){await this.workerCommand("createContext",{context:this.toJSONObject(),deviceId:Vi.deviceID,delayedRegistration:this.delayedRegistration,highEndBlurryRecognition:this.highEndBlurryRecognition,appName:await this.getAppName(),parentDomain:this.getParentDomain()}),this.subscribeToWorkerMessages(this.onWorkerMessageListener),e&&(this.subscribeToCameraManagerEvents(),this.subscribeToVisibilityChange(this.onVisibilityChangeListener))}subscribeToVisibilityChange(e){document.addEventListener("visibilitychange",e)}unsubscribeToVisibilityChange(e){document.removeEventListener("visibilitychange",e)}async requestFrameData(e){return this.workerCommand("requestFrameData",{frameId:e})}performanceMark(e){rw(globalThis.performance)&&typeof globalThis.performance.mark=="function"&&performance.mark(e)}async sendFrameToProcessor(e){let r=e instanceof ImageData?{data:e.data,width:e.width,height:e.height}:e;return await this.sendFrameToHandlers(r)?(this.performanceMark("processFrameBeforeSDC"),this.sendFrameToSDC(r)):e}async sendFrameToHandlers(e){for(let r of this._frameHandlers)if(await r(e)==="skip")return!1;return!0}async sendFrameToSDC(e){return this.workerCommand("processFrame",e,[e.data.buffer])}registerFrameHandler(e){this._frameHandlers.includes(e)||this._frameHandlers.push(e)}unregisterFrameHandler(e){this._frameHandlers.includes(e)&&this._frameHandlers.splice(this._frameHandlers.indexOf(e),1)}onVisibilityChange(){this.workerCommand("documentVisibility",{state:document.visibilityState})}onWorkerMessage(e){if(e.type==="contextDidChangeStatus"){e.payload.isValid||_.log(_.Level.Error,e.payload);for(let r of this.listeners)r.didChangeStatus&&r.didChangeStatus(this,Eu.fromJSON(e.payload))}if(e.type==="didStartObservingContext")for(let r of this.listeners)r.didStartObservingContext&&r.didStartObservingContext(this);e.type==="onFrameProcessingFinished"&&this.performanceMark("processFrameAfterSDC")}subscribeToCameraManagerEvents(){ze.instance().addListener("cameraProperties",this.cameraPropertiesReportListener),ze.instance().addListener("cameraAccessError",this.cameraAccessErrorListener)}async reportCameraProperties(e){return this.workerCommand("reportCameraProperties",e)}onCameraAccessError(e){for(let r of this.listeners)r.didChangeStatus&&r.didChangeStatus(this,Eu.fromJSON({code:33794,isValid:!0,message:e.toString()}))}async update(e=[]){var r,n;await this.updateContext();for(let i of e){switch(i.type){case"frameSourceState":{await((r=this._view)==null?void 0:r.onFrameSourceChange(this.frameSource));break}case"singleImageModeUploaderSettings":{(n=this._view)==null||n.onSingleImageUploaderSettingsChange(i.newValue);break}}for(let a of this.updateListeners)a(i)}}async updateContext(){await this.workerCommand("updateContext",{context:this.toJSONObject(),...this.getViewInfo()}).catch(e=>{_.log(_.Level.Warn,"Error while updating context:",e)})}getViewInfo(){return this._view!=null?{view:{width:this._view.width,height:this._view.height,visible:this._view.width>0&&this._view.height>0,orientation:this._view.orientation}}:{view:null}}getMirrorAxisForFrameSource(e){let r="None";return oi(e)&&e.getMirrorImageEnabled()&&(r="Y"),r}async addComponent(e){if(!this.components.includes(e))return this.components.push(e),e._context=this,this.update()}subscribeToWorkerMessages(e){this.dataCaptureInstance.addWorkerListener(e)}unsubscribeToWorkerMessages(e){this.dataCaptureInstance.removeWorkerListener(e)}hasEnabledMode(){return[...this.modes].some(e=>e.isEnabled())}updateCameraFrameFlow(){let e=[...this.modes].some(r=>r._synchronousFrameFlow===!0);ze.instance().setFrameHandling(e)}async isFeatureSupported(e){return(await this.workerCommand("isFeatureSupported",{feature:e})).supported}};Lu.deviceID=Le.getDeviceId(),Lu.moduleLicenseTextProviders=[new KS];var eC=Lu,ta=mt;async function tC(){var t;mt.configurePhase="unconfigured",(t=ta.mainDataCaptureLoader)!=null&&t.terminateDataCaptureWorker&&await ta.mainDataCaptureLoader.terminateDataCaptureWorker(!0)}function gl({percentage:t}){for(let e of Cu.values())e.setProgressBarPercentage(t)}function rC(){var t,e;function r(s){return["auto","off","on"].includes(s)}let n=new URLSearchParams(window.location.search),[i="auto",a="auto"]=[(t=n.get("pthreads"))==null?void 0:t.toLowerCase(),(e=n.get("simd"))==null?void 0:e.toLowerCase()];return{overrideThreadsSupport:r(i)?i:"auto",overrideSimdSupport:r(a)?a:"auto"}}async function nC(t){if(Mu()&&typeof t.licenseDataPath!="string")throw new Mt({name:"MisconfigurationError",message:'"licenseDataPath" string is missing or not valid'});if(Mu()&&typeof t.licenseDataPath=="string"){let r=await QS({licenseDataPath:t.licenseDataPath});if(r==null)throw new Error("Cannot retrieve license key for Electron");t.licenseKey=r.licenseKey}if(t.licenseKey==null||t.licenseKey.trim().length<64)throw new Mt({name:"NoLicenseKeyError",message:"No license key provided"});if(typeof t.libraryLocation!="string")throw new Mt({name:"MisconfigurationError",message:'Option "libraryLocation" was not provided'});if(!Array.isArray(t.moduleLoaders)||t.moduleLoaders.length===0)throw new Mt({name:"MisconfigurationError",message:'Option "moduleLoaders" is missing or empty'});let e=t.moduleLoaders.map(r=>r.moduleName);if(!["BarcodeCapture","IdCapture"].includes(e[0]))throw new Mt({name:"MisconfigurationError",message:'Main modules must be loaded before side modules. For example "BarcodeCapture" must be loaded before "Parser".'})}async function iC(t,e){let r=new Map,n=new Map;for(let i of t)n.set(i.moduleName,i.load(e));await Promise.all(n.values());for(let[i,a]of n)r.set(i,await a);return r}async function aC(t){var e;if(ta.configurePhase!=="unconfigured"&&ta.configurePromise!=null)return ta.configurePromise;jr.getInstance().updateIfMissing(ng),await nC(t);let r={...rC(),...t,libraryLocation:Zy(t.libraryLocation),logLevel:(e=t.logLevel)!=null?e:_.Level.Debug,verifyResponseHash:!0,loadProgressNotifier:On.notify.bind(On)};mt.userLicenseKey=r.licenseKey,mt.libraryLocation=r.libraryLocation,_.setLevel(r.logLevel);async function n(){mt.configurePhase="started",On.subscribe(gl);let i=Le.checkBrowserCompatibility();if(!i.fullSupport&&!i.scannerSupport)throw new wu(i);Le.isSupportedIOSVersion()||_.log(_.Level.Warn,`Warning: Minimum supported iOS version is 14.6.
Please check the minimum system requirements here:
https://docs.scandit.com/system-requirements#web-sdk`),mt.dataCaptureLoaders=await iC(r.moduleLoaders,r),mt.mainDataCaptureLoader=[...mt.dataCaptureLoaders.entries()][0][1],mt.configurePhase="done",On.unsubscribe(gl)}return mt.configurePromise=n().catch(i=>{throw tC(),On.unsubscribe(gl),i}),mt.configurePromise}var oC=class cg{constructor(e,r,n,i){this.inListItemColor=e,this.notInListItemColor=r,this.hapticEnabled=i,this.soundEnabled=n}static fromJSON(e){return new cg(ie.fromJSON(e.inListItemColor),ie.fromJSON(e.notInListItemColor),e.soundEnabled,e.hapticEnabled)}toJSONObject(){return{inListItemColor:this.inListItemColor.toJSON(),notInListItemColor:this.notInListItemColor.toJSON(),soundEnabled:this.soundEnabled,hapticEnabled:this.hapticEnabled}}},Nh=class dg{get isFixed(){return this.minimum===this.maximum||this.step<=0}get maximum(){return this._maximum}get minimum(){return this._minimum}get step(){return this._step}static fromJSON(e){let r=new dg;return r._minimum=e.minimum,r._maximum=e.maximum,r._step=e.step,r}toJSONObject(){return{maximum:this.maximum,minimum:this.minimum,step:this.step}}},As=class Nn{constructor(e){if(e!=null)return Nn.all[Nn.all.findIndex(r=>r.identifier===e)]}static get all(){return this.defaults().SymbologyDescriptions}get activeSymbolCountRange(){return this._activeSymbolCountRange}get defaultSymbolCountRange(){return this._defaultSymbolCountRange}get identifier(){return this._identifier}get isAvailable(){return this._isAvailable}get isColorInvertible(){return this._isColorInvertible}get readableName(){return this._readableName}get supportedExtensions(){return[...this._supportedExtensions]}get symbology(){return this.identifier}static forIdentifier(e){return Nn.all.findIndex(r=>r.identifier===e)===-1?null:new Nn(e)}static fromJSON(e){let r=new Nn;return r._identifier=e.identifier,r._readableName=e.readableName,r._isAvailable=e.isAvailable,r._isColorInvertible=e.isColorInvertible,r._activeSymbolCountRange=Nh.fromJSON(e.activeSymbolCountRange),r._defaultSymbolCountRange=Nh.fromJSON(e.defaultSymbolCountRange),r._supportedExtensions=new Set(e.supportedExtensions),r}},sC=class hg{get enabledExtensions(){return[...this.extensions]}get symbology(){return this._symbology}static fromJSON(e){let r=new hg;return r.extensions=new Set(e.extensions),r.isEnabled=e.enabled,r.isColorInvertedEnabled=e.colorInvertedEnabled,r.checksums=new Set(e.checksums),r.activeSymbolCounts=e.activeSymbolCounts,r}setExtensionEnabled(e,r){r?this.extensions.add(e):this.extensions.delete(e)}toJSONObject(){return{activeSymbolCounts:[...this.activeSymbolCounts],checksums:[...this.checksums],colorInvertedEnabled:this.isColorInvertedEnabled,enabled:this.isEnabled,extensions:[...this.extensions]}}},lC=t=>({SymbologySettings:Object.keys(t.SymbologySettings).reduce((e,r)=>(e[r]=sC.fromJSON(JSON.parse(t.SymbologySettings[r])),e),{}),SymbologyDescriptions:t.SymbologyDescriptions.map(e=>As.fromJSON(JSON.parse(e))),CompositeTypeDescriptions:t.CompositeTypeDescriptions.map(e=>JSON.parse(e)),BarcodeCapture:{BarcodeCaptureOverlay:{defaultStyle:t.BarcodeCapture.BarcodeCaptureOverlay.defaultStyle,DefaultBrush:{fillColor:ie.fromJSON(t.BarcodeCapture.BarcodeCaptureOverlay.DefaultBrush.fillColor),strokeColor:ie.fromJSON(t.BarcodeCapture.BarcodeCaptureOverlay.DefaultBrush.strokeColor),strokeWidth:t.BarcodeCapture.BarcodeCaptureOverlay.DefaultBrush.strokeWidth},styles:Object.fromEntries(Object.keys(t.BarcodeCapture.BarcodeCaptureOverlay.styles).map(e=>[e,{DefaultBrush:{fillColor:ie.fromJSON(t.BarcodeCapture.BarcodeCaptureOverlay.styles[e].DefaultBrush.fillColor),strokeColor:ie.fromJSON(t.BarcodeCapture.BarcodeCaptureOverlay.styles[e].DefaultBrush.strokeColor),strokeWidth:t.BarcodeCapture.BarcodeCaptureOverlay.styles[e].DefaultBrush.strokeWidth}}]))},BarcodeCaptureSettings:{codeDuplicateFilter:t.BarcodeCapture.BarcodeCaptureSettings.codeDuplicateFilter},RecommendedCameraSettings:fr.fromJSON(t.BarcodeCapture.RecommendedCameraSettings)},BarcodeBatch:{BarcodeBatchBasicOverlay:{defaultStyle:t.BarcodeBatch.BarcodeBatchBasicOverlay.defaultStyle,DefaultBrush:{fillColor:ie.fromJSON(t.BarcodeBatch.BarcodeBatchBasicOverlay.DefaultBrush.fillColor),strokeColor:ie.fromJSON(t.BarcodeBatch.BarcodeBatchBasicOverlay.DefaultBrush.strokeColor),strokeWidth:t.BarcodeBatch.BarcodeBatchBasicOverlay.DefaultBrush.strokeWidth},styles:Object.fromEntries(Object.keys(t.BarcodeBatch.BarcodeBatchBasicOverlay.styles).map(e=>[e,{DefaultBrush:{fillColor:ie.fromJSON(t.BarcodeBatch.BarcodeBatchBasicOverlay.styles[e].DefaultBrush.fillColor),strokeColor:ie.fromJSON(t.BarcodeBatch.BarcodeBatchBasicOverlay.styles[e].DefaultBrush.strokeColor),strokeWidth:t.BarcodeBatch.BarcodeBatchBasicOverlay.styles[e].DefaultBrush.strokeWidth}}]))},RecommendedCameraSettings:fr.fromJSON(t.BarcodeBatch.RecommendedCameraSettings)},BarcodeFind:{CameraSettings:{hiddenProperties:{exposureTargetBias:t.BarcodeFind.CameraSettings.hiddenProperties.exposureTargetBias,grayScaleFrameReader:t.BarcodeFind.CameraSettings.hiddenProperties.grayScaleFrameReader},settings:fr.fromJSON(t.BarcodeFind.CameraSettings.settings)},BarcodeFindViewSettings:{settings:oC.fromJSON(t.BarcodeFind.BarcodeFindViewSettings.settings)}},SparkScan:{SparkScanFeedback:{errorVibrationPattern:t.SparkScan.SparkScanFeedback.errorVibrationPattern},SparkScanSettings:{codeDuplicateFilter:t.SparkScan.SparkScanSettings.codeDuplicateFilter,locationSelection:{radius:t.SparkScan.SparkScanSettings.locationSelection.radius,unit:t.SparkScan.SparkScanSettings.locationSelection.unit},targetModeLocationSelection:{radius:t.SparkScan.SparkScanSettings.targetModeLocationSelection.radius,unit:t.SparkScan.SparkScanSettings.targetModeLocationSelection.unit},hiddenProperties:{zoom1x:{motion_scan_suppression_mode:t.SparkScan.SparkScanSettings.hiddenProperties.zoom1x.motion_scan_suppression_mode},zoom2x:{motion_scan_suppression_mode:t.SparkScan.SparkScanSettings.hiddenProperties.zoom2x.motion_scan_suppression_mode}}},SparkScanOverlay:{DefaultBrush:{fillColor:ie.fromJSON(t.SparkScan.SparkScanOverlay.DefaultBrush.fillColor),strokeColor:ie.fromJSON(t.SparkScan.SparkScanOverlay.DefaultBrush.strokeColor),strokeWidth:t.SparkScan.SparkScanOverlay.DefaultBrush.strokeWidth},defaultStyle:"frame"},CameraSettings:{hiddenProperties:{exposureTargetBias:t.SparkScan.CameraSettings.hiddenProperties.exposureTargetBias,grayScaleFrameReader:t.SparkScan.CameraSettings.hiddenProperties.grayScaleFrameReader,repeatedTriggerInterval:t.SparkScan.CameraSettings.hiddenProperties.repeatedTriggerInterval},settings:fr.fromJSON(t.SparkScan.CameraSettings.settings)},SparkScanViewSettings:{triggerButtonCollapseTimeout:t.SparkScan.SparkScanViewSettings.triggerButtonCollapseTimeout,defaultHandMode:t.SparkScan.SparkScanViewSettings.defaultHandMode,defaultTorchState:t.SparkScan.SparkScanViewSettings.defaultTorchState,defaultMiniPreviewSize:t.SparkScan.SparkScanViewSettings.defaultMiniPreviewSize,soundEnabled:t.SparkScan.SparkScanViewSettings.soundEnabled,hapticEnabled:t.SparkScan.SparkScanViewSettings.hapticEnabled,holdToScanEnabled:t.SparkScan.SparkScanViewSettings.holdToScanEnabled,visualFeedbackEnabled:t.SparkScan.SparkScanViewSettings.visualFeedbackEnabled,inactiveStateTimeout:t.SparkScan.SparkScanViewSettings.inactiveStateTimeout,zoomFactorOut:t.SparkScan.SparkScanViewSettings.zoomFactorOut,zoomFactorIn:t.SparkScan.SparkScanViewSettings.zoomFactorIn}},SparkCapture:{SparkCaptureSettings:{codeDuplicateFilter:t.SparkCapture.SparkCaptureSettings.codeDuplicateFilter}}}),nr=lC({BarcodeCapture:{BarcodeCaptureSettings:{codeDuplicateFilter:0},BarcodeCaptureOverlay:{defaultStyle:"frame",DefaultBrush:{fillColor:"#00000000",strokeColor:"#FFFFFFFF",strokeWidth:3},styles:{frame:{DefaultBrush:{fillColor:"#00000000",strokeColor:"#FFFFFFFF",strokeWidth:3}}}},RecommendedCameraSettings:{zoomFactor:1,zoomGestureZoomFactor:2,focusGestureStrategy:"manualUntilCapture",preferredResolution:"auto"}},SymbologySettings:{ean13Upca:JSON.stringify({activeSymbolCounts:[12],checksums:[],colorInvertedEnabled:!1,enabled:!1,extensions:[]}),ean8:JSON.stringify({activeSymbolCounts:[8],checksums:[],colorInvertedEnabled:!1,enabled:!1,extensions:[]}),upce:JSON.stringify({activeSymbolCounts:[6],checksums:[],colorInvertedEnabled:!1,enabled:!1,extensions:[]}),code128:JSON.stringify({activeSymbolCounts:[40,39,38,37,36,35,34,33,32,31,30,29,28,27,26,25,24,23,22,21,20,19,18,17,16,15,14,13,12,11,10,9,8,7,6],checksums:[],colorInvertedEnabled:!1,enabled:!1,extensions:["strip_leading_fnc1"]}),code39:JSON.stringify({activeSymbolCounts:[40,39,38,37,36,35,34,33,32,31,30,29,28,27,26,25,24,23,22,21,20,19,18,17,16,15,14,13,12,11,10,9,8,7,6],checksums:[],colorInvertedEnabled:!1,enabled:!1,extensions:[]}),code93:JSON.stringify({activeSymbolCounts:[40,39,38,37,36,35,34,33,32,31,30,29,28,27,26,25,24,23,22,21,20,19,18,17,16,15,14,13,12,11,10,9,8,7,6],checksums:[],colorInvertedEnabled:!1,enabled:!1,extensions:[]}),interleavedTwoOfFive:JSON.stringify({activeSymbolCounts:[40,38,36,34,32,30,28,26,24,22,20,18,16,14,12,10,8,6],checksums:[],colorInvertedEnabled:!1,enabled:!1,extensions:[]}),qr:JSON.stringify({activeSymbolCounts:[],checksums:[],colorInvertedEnabled:!1,enabled:!1,extensions:[]}),dataMatrix:JSON.stringify({activeSymbolCounts:[],checksums:[],colorInvertedEnabled:!1,enabled:!1,extensions:["strip_leading_fnc1"]}),pdf417:JSON.stringify({activeSymbolCounts:[],checksums:[],colorInvertedEnabled:!1,enabled:!1,extensions:[]}),msiPlessey:JSON.stringify({activeSymbolCounts:[32,31,30,29,28,27,26,25,24,23,22,21,20,19,18,17,16,15,14,13,12,11,10,9,8,7,6],checksums:[],colorInvertedEnabled:!1,enabled:!1,extensions:[]}),databar:JSON.stringify({activeSymbolCounts:[2],checksums:[],colorInvertedEnabled:!1,enabled:!1,extensions:[]}),databarExpanded:JSON.stringify({activeSymbolCounts:[],checksums:[],colorInvertedEnabled:!1,enabled:!1,extensions:[]}),codabar:JSON.stringify({activeSymbolCounts:[20,19,18,17,16,15,14,13,12,11,10,9,8,7],checksums:[],colorInvertedEnabled:!1,enabled:!1,extensions:[]}),aztec:JSON.stringify({activeSymbolCounts:[],checksums:[],colorInvertedEnabled:!1,enabled:!1,extensions:[]}),maxicode:JSON.stringify({activeSymbolCounts:[],checksums:[],colorInvertedEnabled:!1,enabled:!1,extensions:[]}),code11:JSON.stringify({activeSymbolCounts:[20,19,18,17,16,15,14,13,12,11,10,9,8,7],checksums:["mod11"],colorInvertedEnabled:!1,enabled:!1,extensions:[]}),databarLimited:JSON.stringify({activeSymbolCounts:[1],checksums:[],colorInvertedEnabled:!1,enabled:!1,extensions:[]}),code25:JSON.stringify({activeSymbolCounts:[20,19,18,17,16,15,14,13,12,11,10,9,8,7],checksums:[],colorInvertedEnabled:!1,enabled:!1,extensions:[]}),microPdf417:JSON.stringify({activeSymbolCounts:[],checksums:[],colorInvertedEnabled:!1,enabled:!1,extensions:[]}),rm4scc:JSON.stringify({activeSymbolCounts:[24,23,22,21,20,19,18,17,16,15,14,13,12,11,10,9,8,7],checksums:[],colorInvertedEnabled:!1,enabled:!1,extensions:[]}),kix:JSON.stringify({activeSymbolCounts:[24,23,22,21,20,19,18,17,16,15,14,13,12,11,10,9,8,7],checksums:[],colorInvertedEnabled:!1,enabled:!1,extensions:[]}),dotcode:JSON.stringify({activeSymbolCounts:[],checksums:[],colorInvertedEnabled:!1,enabled:!1,extensions:[]}),microQr:JSON.stringify({activeSymbolCounts:[],checksums:[],colorInvertedEnabled:!1,enabled:!1,extensions:[]}),code32:JSON.stringify({activeSymbolCounts:[8],checksums:[],colorInvertedEnabled:!1,enabled:!1,extensions:[]}),lapa4sc:JSON.stringify({activeSymbolCounts:[16],checksums:[],colorInvertedEnabled:!1,enabled:!1,extensions:[]}),iata2of5:JSON.stringify({activeSymbolCounts:[20,19,18,17,16,15,14,13,12,11,10,9,8,7],checksums:[],colorInvertedEnabled:!1,enabled:!1,extensions:[]}),matrix2of5:JSON.stringify({activeSymbolCounts:[20,19,18,17,16,15,14,13,12,11,10,9,8,7],checksums:[],colorInvertedEnabled:!1,enabled:!1,extensions:[]}),uspsIntelligentMail:JSON.stringify({activeSymbolCounts:[65],checksums:[],colorInvertedEnabled:!1,enabled:!1,extensions:[]})},BarcodeBatch:{BarcodeBatchBasicOverlay:{defaultStyle:"frame",DefaultBrush:{fillColor:"#00000000",strokeColor:"#FFFFFFFF",strokeWidth:3},styles:{frame:{DefaultBrush:{fillColor:"#00000000",strokeColor:"#FFFFFFFF",strokeWidth:3}},dot:{DefaultBrush:{fillColor:"#FFFFFFFF",strokeColor:"#FFFFFFFF",strokeWidth:1}},legacy:{DefaultBrush:{fillColor:"#00000000",strokeColor:"#FFFFFFFF",strokeWidth:1}}}},RecommendedCameraSettings:{zoomFactor:1,zoomGestureZoomFactor:2,focusGestureStrategy:"manualUntilCapture",preferredResolution:"fullHd"}},BarcodeFind:{CameraSettings:{hiddenProperties:{exposureTargetBias:-1,grayScaleFrameReader:!0},settings:{zoomFactor:1,zoomGestureZoomFactor:1,focusGestureStrategy:"manualUntilCapture",preferredResolution:"fullHd"}},BarcodeFindViewSettings:{settings:{inListItemColor:ie.fromHex("#2EC1CE").toJSON(),notInListItemColor:ie.fromHex("#FFFFFF").toJSON(),hapticEnabled:!0,soundEnabled:!0}}},SparkScan:{SparkScanFeedback:{errorVibrationPattern:[600]},SparkScanSettings:{codeDuplicateFilter:1e3,locationSelection:{radius:.5,unit:mu.Fraction},targetModeLocationSelection:{radius:.07,unit:mu.Fraction},hiddenProperties:{zoom1x:{motion_scan_suppression_mode:1},zoom2x:{motion_scan_suppression_mode:2}}},SparkScanOverlay:{DefaultBrush:{fillColor:"#00000000",strokeColor:"#FFFFFFFF",strokeWidth:3},defaultStyle:"frame"},CameraSettings:{hiddenProperties:{exposureTargetBias:-1,grayScaleFrameReader:!0,repeatedTriggerInterval:1},settings:{focus:{focusGestureStrategy:Qp.None},preferredResolution:Yp.FullHD,zoomFactor:1,zoomGestureZoomFactor:2}},SparkScanViewSettings:{defaultHandMode:"right",defaultTorchState:Jp.Off,defaultMiniPreviewSize:"regular",hapticEnabled:!0,holdToScanEnabled:!0,soundEnabled:!0,triggerButtonCollapseTimeout:5e3,visualFeedbackEnabled:!0,inactiveStateTimeout:1e4,zoomFactorOut:1,zoomFactorIn:2}},CompositeTypeDescriptions:[JSON.stringify({symbologies:["ean8","ean13Upca","microPdf417","databarLimited","upce","databar","databarExpanded"],types:["A"]}),JSON.stringify({symbologies:["ean8","ean13Upca","microPdf417","databarLimited","upce","databar","databarExpanded"],types:["B"]}),JSON.stringify({symbologies:["code128","pdf417"],types:["C"]})],SparkCapture:{SparkCaptureSettings:{codeDuplicateFilter:1e3}},SymbologyDescriptions:[JSON.stringify({activeSymbolCountRange:{maximum:12,minimum:12,step:1},defaultSymbolCountRange:{maximum:12,minimum:12,step:1},identifier:"ean13Upca",isAvailable:!0,isColorInvertible:!0,readableName:"EAN-13/UPC-A",supportedChecksums:[],supportedExtensions:["two_digit_add_on","strict","remove_leading_upca_zero","relaxed_sharp_quiet_zone_check","five_digit_add_on"]}),JSON.stringify({activeSymbolCountRange:{maximum:8,minimum:8,step:1},defaultSymbolCountRange:{maximum:8,minimum:8,step:1},identifier:"ean8",isAvailable:!0,isColorInvertible:!0,readableName:"EAN-8",supportedChecksums:[],supportedExtensions:["two_digit_add_on","strict","relaxed_sharp_quiet_zone_check","five_digit_add_on"]}),JSON.stringify({activeSymbolCountRange:{maximum:6,minimum:6,step:1},defaultSymbolCountRange:{maximum:6,minimum:6,step:1},identifier:"upce",isAvailable:!0,isColorInvertible:!0,readableName:"UPC-E",supportedChecksums:[],supportedExtensions:["two_digit_add_on","strict","return_as_upca","remove_leading_upca_zero","five_digit_add_on"]}),JSON.stringify({activeSymbolCountRange:{maximum:50,minimum:4,step:1},defaultSymbolCountRange:{maximum:40,minimum:6,step:1},identifier:"code128",isAvailable:!0,isColorInvertible:!0,readableName:"Code 128",supportedChecksums:[],supportedExtensions:["strict"]}),JSON.stringify({activeSymbolCountRange:{maximum:50,minimum:3,step:1},defaultSymbolCountRange:{maximum:40,minimum:6,step:1},identifier:"code39",isAvailable:!0,isColorInvertible:!0,readableName:"Code 39",supportedChecksums:["mod43"],supportedExtensions:["strict","relaxed_sharp_quiet_zone_check","full_ascii"]}),JSON.stringify({activeSymbolCountRange:{maximum:60,minimum:5,step:1},defaultSymbolCountRange:{maximum:40,minimum:6,step:1},identifier:"code93",isAvailable:!0,isColorInvertible:!1,readableName:"Code 93",supportedChecksums:[],supportedExtensions:["strict"]}),JSON.stringify({activeSymbolCountRange:{maximum:50,minimum:4,step:2},defaultSymbolCountRange:{maximum:40,minimum:6,step:2},identifier:"interleavedTwoOfFive",isAvailable:!0,isColorInvertible:!1,readableName:"Interleaved Two of Five",supportedChecksums:[],supportedExtensions:["strict"]}),JSON.stringify({activeSymbolCountRange:{maximum:0,minimum:0,step:0},defaultSymbolCountRange:{maximum:0,minimum:0,step:0},identifier:"qr",isAvailable:!0,isColorInvertible:!0,readableName:"QR Code",supportedChecksums:[],supportedExtensions:["guess_encoding"]}),JSON.stringify({activeSymbolCountRange:{maximum:0,minimum:0,step:0},defaultSymbolCountRange:{maximum:0,minimum:0,step:0},identifier:"dataMatrix",isAvailable:!0,isColorInvertible:!0,readableName:"Data Matrix",supportedChecksums:[],supportedExtensions:["direct_part_marking_mode"]}),JSON.stringify({activeSymbolCountRange:{maximum:0,minimum:0,step:0},defaultSymbolCountRange:{maximum:0,minimum:0,step:0},identifier:"pdf417",isAvailable:!0,isColorInvertible:!1,readableName:"PDF417",supportedChecksums:[],supportedExtensions:[]}),JSON.stringify({activeSymbolCountRange:{maximum:32,minimum:3,step:1},defaultSymbolCountRange:{maximum:32,minimum:6,step:1},identifier:"msiPlessey",isAvailable:!0,isColorInvertible:!1,readableName:"MSI Plessey",supportedChecksums:["mod11","mod1010","mod1110"],supportedExtensions:["strict"]}),JSON.stringify({activeSymbolCountRange:{maximum:2,minimum:2,step:1},defaultSymbolCountRange:{maximum:2,minimum:2,step:1},identifier:"databar",isAvailable:!0,isColorInvertible:!1,readableName:"GS1 DataBar 14",supportedChecksums:[],supportedExtensions:["strict"]}),JSON.stringify({activeSymbolCountRange:{maximum:0,minimum:0,step:0},defaultSymbolCountRange:{maximum:0,minimum:0,step:0},identifier:"databarExpanded",isAvailable:!0,isColorInvertible:!1,readableName:"GS1 DataBar Expanded",supportedChecksums:[],supportedExtensions:["strict"]}),JSON.stringify({activeSymbolCountRange:{maximum:34,minimum:3,step:1},defaultSymbolCountRange:{maximum:20,minimum:7,step:1},identifier:"codabar",isAvailable:!0,isColorInvertible:!1,readableName:"Codabar",supportedChecksums:["mod11","mod16"],supportedExtensions:["strict"]}),JSON.stringify({activeSymbolCountRange:{maximum:0,minimum:0,step:0},defaultSymbolCountRange:{maximum:0,minimum:0,step:0},identifier:"aztec",isAvailable:!0,isColorInvertible:!1,readableName:"Aztec",supportedChecksums:[],supportedExtensions:[]}),JSON.stringify({activeSymbolCountRange:{maximum:0,minimum:0,step:0},defaultSymbolCountRange:{maximum:0,minimum:0,step:0},identifier:"maxicode",isAvailable:!0,isColorInvertible:!1,readableName:"MaxiCode",supportedChecksums:[],supportedExtensions:[]}),JSON.stringify({activeSymbolCountRange:{maximum:34,minimum:5,step:1},defaultSymbolCountRange:{maximum:20,minimum:7,step:1},identifier:"code11",isAvailable:!0,isColorInvertible:!1,readableName:"Code 11",supportedChecksums:["mod11"],supportedExtensions:["strict"]}),JSON.stringify({activeSymbolCountRange:{maximum:1,minimum:1,step:1},defaultSymbolCountRange:{maximum:1,minimum:1,step:1},identifier:"databarLimited",isAvailable:!0,isColorInvertible:!1,readableName:"GS1 DataBar Limited",supportedChecksums:[],supportedExtensions:["strict"]}),JSON.stringify({activeSymbolCountRange:{maximum:32,minimum:3,step:1},defaultSymbolCountRange:{maximum:20,minimum:7,step:1},identifier:"code25",isAvailable:!0,isColorInvertible:!1,readableName:"Code 25",supportedChecksums:[],supportedExtensions:["strict"]}),JSON.stringify({activeSymbolCountRange:{maximum:0,minimum:0,step:0},defaultSymbolCountRange:{maximum:0,minimum:0,step:0},identifier:"microPdf417",isAvailable:!0,isColorInvertible:!1,readableName:"MicroPDF417",supportedChecksums:[],supportedExtensions:[]}),JSON.stringify({activeSymbolCountRange:{maximum:50,minimum:4,step:1},defaultSymbolCountRange:{maximum:24,minimum:7,step:1},identifier:"rm4scc",isAvailable:!0,isColorInvertible:!1,readableName:"RM4SCC",supportedChecksums:[],supportedExtensions:[]}),JSON.stringify({activeSymbolCountRange:{maximum:50,minimum:4,step:1},defaultSymbolCountRange:{maximum:24,minimum:7,step:1},identifier:"kix",isAvailable:!0,isColorInvertible:!1,readableName:"KIX",supportedChecksums:[],supportedExtensions:[]}),JSON.stringify({activeSymbolCountRange:{maximum:0,minimum:0,step:0},defaultSymbolCountRange:{maximum:0,minimum:0,step:0},identifier:"dotcode",isAvailable:!0,isColorInvertible:!0,readableName:"DotCode",supportedChecksums:[],supportedExtensions:[]}),JSON.stringify({activeSymbolCountRange:{maximum:0,minimum:0,step:0},defaultSymbolCountRange:{maximum:0,minimum:0,step:0},identifier:"microQr",isAvailable:!0,isColorInvertible:!0,readableName:"Micro QR",supportedChecksums:[],supportedExtensions:[]}),JSON.stringify({activeSymbolCountRange:{maximum:8,minimum:8,step:1},defaultSymbolCountRange:{maximum:8,minimum:8,step:1},identifier:"code32",isAvailable:!0,isColorInvertible:!1,readableName:"Code 32",supportedChecksums:[],supportedExtensions:["strict"]}),JSON.stringify({activeSymbolCountRange:{maximum:16,minimum:16,step:1},defaultSymbolCountRange:{maximum:16,minimum:16,step:1},identifier:"lapa4sc",isAvailable:!0,isColorInvertible:!1,readableName:"LAPA4SC",supportedChecksums:[],supportedExtensions:[]}),JSON.stringify({activeSymbolCountRange:{maximum:32,minimum:3,step:1},defaultSymbolCountRange:{maximum:20,minimum:7,step:1},identifier:"iata2of5",isAvailable:!0,isColorInvertible:!1,readableName:"IATA 2 of 5",supportedChecksums:["mod1010"],supportedExtensions:["strict"]}),JSON.stringify({activeSymbolCountRange:{maximum:32,minimum:3,step:1},defaultSymbolCountRange:{maximum:20,minimum:7,step:1},identifier:"matrix2of5",isAvailable:!0,isColorInvertible:!1,readableName:"Matrix 2 of 5",supportedChecksums:[],supportedExtensions:["strict"]}),JSON.stringify({activeSymbolCountRange:{maximum:65,minimum:65,step:1},defaultSymbolCountRange:{maximum:65,minimum:65,step:1},identifier:"uspsIntelligentMail",isAvailable:!0,isColorInvertible:!1,readableName:"USPS Intelligent Mail",supportedChecksums:[],supportedExtensions:[]})]});As.defaults=()=>({SymbologyDescriptions:nr.SymbologyDescriptions});var fg=class mg{get endIndex(){return this._endIndex}get ianaName(){return this._ianaName}get startIndex(){return this._startIndex}static fromJSON(e){let r=new mg;return r._ianaName=e.ianaName,r._startIndex=e.startIndex,r._endIndex=e.endIndex,r}toJSONObject(){return{endIndex:this.endIndex,ianaName:this.ianaName,startIndex:this.startIndex}}},uC=class pg{get barcodeSetId(){return this._barcodeSetId}get completeData(){return this._completeData}get encodingRanges(){return this._encodingRanges}get isComplete(){return this._complete}get rawCompleteData(){return this._rawCompleteData}get scannedSegmentCount(){return this._scannedSegmentCount}get totalSegmentCount(){return this._totalSegmentCount}static fromJSON(e){if(e==null)return null;let r=new pg;return r._complete=e.complete,r._barcodeSetId=e.barcodeSetId,r._scannedSegmentCount=e.scannedSegmentCount,r._totalSegmentCount=e.totalSegmentCount,r._encodingRanges=e.completeDataEncodings.map(n=>fg.fromJSON(n)),r._completeData=e.completeDataUtf8String,r._rawCompleteData=e.completeDataRaw,r}toJSONObject(){return{complete:this._complete,barcodeSetId:this.barcodeSetId,scannedSegmentCount:this.scannedSegmentCount,totalSegmentCount:this.totalSegmentCount,completeDataEncodings:this._encodingRanges.map(e=>e.toJSONObject()),completeDataUtf8String:this.completeData,completeDataRaw:this.rawCompleteData}}},Bc=(t=>(t.EAN13UPCA="ean13Upca",t.UPCE="upce",t.EAN8="ean8",t.Code39="code39",t.Code93="code93",t.Code128="code128",t.Code11="code11",t.Code25="code25",t.Codabar="codabar",t.InterleavedTwoOfFive="interleavedTwoOfFive",t.MSIPlessey="msiPlessey",t.QR="qr",t.DataMatrix="dataMatrix",t.Aztec="aztec",t.MaxiCode="maxicode",t.DotCode="dotcode",t.KIX="kix",t.RM4SCC="rm4scc",t.GS1Databar="databar",t.GS1DatabarExpanded="databarExpanded",t.GS1DatabarLimited="databarLimited",t.PDF417="pdf417",t.MicroPDF417="microPdf417",t.MicroQR="microQr",t.Code32="code32",t.Lapa4SC="lapa4sc",t.IATATwoOfFive="iata2of5",t.MatrixTwoOfFive="matrix2of5",t.USPSIntelligentMail="uspsIntelligentMail",t))(Bc||{}),cC=(t=>(t.A="A",t.B="B",t.C="C",t))(cC||{}),dC=(t=>(t.Mod10="mod10",t.Mod11="mod11",t.Mod16="mod16",t.Mod43="mod43",t.Mod47="mod47",t.Mod103="mod103",t.Mod10AndMod11="mod1110",t.Mod10AndMod10="mod1010",t))(dC||{}),hC=(t=>(t.None="none",t.Unknown="unknown",t.Linked="linked",t.GS1TypeA="gs1TypeA",t.GS1TypeB="gs1TypeB",t.GS1TypeC="gs1TypeC",t))(hC||{}),fC=class gg{get isStructuredAppend(){return this._structuredAppendData!=null}get structuredAppendData(){return this._structuredAppendData}get addOnData(){return this._addOnData}get compositeData(){return this._compositeData}get compositeFlag(){return this._compositeFlag}get compositeRawData(){return this._compositeRawData}get data(){return this._data}get encodingRanges(){return this._encodingRanges}get frameID(){return this._frameID}get isColorInverted(){return this._isColorInverted}get isGS1DataCarrier(){return this._isGS1DataCarrier}get location(){return this._location}get rawData(){return this._rawData}get symbolCount(){return this._symbolCount}get symbology(){return this._symbology}static fromJSON(e){var r;let n=new gg;return n._symbology=e.symbology,n._data=e.data,n._rawData=e.rawData,n._compositeData=e.compositeData,n._compositeRawData=e.compositeRawData,n._addOnData=(r=e.addOnData)!=null?r:null,n._isGS1DataCarrier=e.isGS1DataCarrier,n._compositeFlag=e.compositeFlag,n._isColorInverted=e.isColorInverted,n._symbolCount=e.symbolCount,n._frameID=e.frameId,n._encodingRanges=e.encodingRanges.map(i=>fg.fromJSON(i)),n._location=Cs.fromJSON(e.location),n._structuredAppendData=uC.fromJSON(e.structuredAppendData),n}toJSONObject(){var e,r,n;return{symbology:this.symbology.toString(),data:this.data,rawData:this.rawData,compositeData:this.compositeData,compositeRawData:this.compositeRawData,addOnData:(e=this.addOnData)!=null?e:null,isGS1DataCarrier:this.isGS1DataCarrier,compositeFlag:this.compositeFlag.toString(),isColorInverted:this.isColorInverted,symbolCount:this.symbolCount,frameId:this.frameID,encodingRanges:this.encodingRanges.map(i=>i.toJSONObject()),location:this.location.toJSONObject(),structuredAppendData:(n=(r=this.structuredAppendData)==null?void 0:r.toJSONObject())!=null?n:null}}};function mC(t){let e=URL.createObjectURL(new Blob(['"use strict";(()=>{var u={"scandit-datacapture-sdk-barcode-pthreads.wasm":{bytes:7033813},"scandit-datacapture-sdk-barcode-simd.wasm":{bytes:7551236},"scandit-datacapture-sdk-barcode.wasm":{bytes:7369989},"scandit-datacapture-sdk-barcode-simd-pthreads.wasm":{bytes:7180436}};function C(t){return typeof t=="object"&&t!=null}function k(t){if(typeof t=="string")return t;if(C(t)){if(typeof t.message=="string")return t.message}else if(typeof t?.toString=="function")return t.toString();return"unknown error"}var c;(t=>{(o=>(o.Debug="debug",o.Info="info",o.Warn="warn",o.Error="error",o.Quiet="quiet"))(t.Level||(t.Level={}));let e=new Map([["debug",1],["info",2],["warn",3],["error",4],["quiet",5]]),r="debug";function a(o){r=o}t.setLevel=a;function s(o,...p){if(!(e.get(r)>e.get(o)))switch(o){case"debug":{console.debug(...p);break}case"info":{console.log(...p);break}case"warn":{console.warn(...p);break}case"error":{console.error(...p);break}}}t.log=s;function i(...o){s("warn",...o)}t.warn=i;function n(...o){s("debug",...o)}t.debug=n;function d(...o){s("info",...o)}t.info=d;function l(...o){s("error",...o)}t.error=l})(c||(c={}));var j=(t,e)=>(e=Symbol[t])?e:Symbol.for("Symbol."+t);var G=function(t,e){this[0]=t,this[1]=e},te=(t,e,r)=>{var a=(n,d,l,o)=>{try{var p=r[n](d),b=(d=p.value)instanceof G,h=p.done;Promise.resolve(b?d[0]:d).then(m=>b?a(n==="return"?n:"next",d[1]?{done:m.done,value:m.value}:m,l,o):l({value:m,done:h})).catch(m=>a("throw",m,l,o))}catch(m){o(m)}},s=n=>i[n]=d=>new Promise((l,o)=>a(n,d,l,o)),i={};return r=r.apply(t,e),i[j("asyncIterator")]=()=>i,s("next"),s("throw"),s("return"),i},re=(t,e,r)=>(e=t[j("asyncIterator")])?e.call(t):(t=t[j("iterator")](),e={},r=(a,s)=>(s=t[a])&&(e[a]=i=>new Promise((n,d,l)=>(i=s.call(t,i),l=i.done,Promise.resolve(i.value).then(o=>n({value:o,done:l}),d)))),r("next"),r("return"),e);var ae={};function Te(t){return[...new Uint8Array(t)].map(e=>{let r=e.toString(16);return r.length===1?`0${r}`:r}).join("")}function Ie(t){return te(this,null,function*(){let e=t.getReader();try{for(;;){let{done:r,value:a}=yield new G(e.read());if(r)return;yield a}}finally{e.releaseLock()}})}async function Ae(t){let e=[],r=0,a=0;try{for(var s=re(Ie(t)),i,n,d;i=!(n=await s.next()).done;i=!1){let o=n.value;e.push(o),r+=o.length}}catch(o){d=[o]}finally{try{i&&(n=s.return)&&await n.call(s)}finally{if(d)throw d[0]}}let l=new Uint8Array(r);for(let o of e)l.set(o,a),a+=o.length;return l.buffer}var We=(t=>(t.VALID="VALID",t.INVALID="INVALID",t.NOT_VERIFIABLE="NOT_VERIFIABLE",t))(We||{});async function Ee(t,e,r){if(typeof crypto.subtle.digest!="function")return c.log(c.Level.Warn,`Insecure context (see https://developer.mozilla.org/en-US/docs/Web/Security/Secure_Contexts): The hash of the Scandit Data Capture library WASM file found at ${r} could not be verified`),"NOT_VERIFIABLE";try{let a=t instanceof Promise?await t:t,s=await crypto.subtle.digest("SHA-256",a),i=Te(s);return e==null?(c.log(c.Level.Warn,"The library hash is not defined or empty, cannot correctly verify integrity."),"NOT_VERIFIABLE"):i===e?(c.log(c.Level.Debug,`Data Capture library WASM integrity found at ${r} has been verified correctly.`),"VALID"):(c.log(c.Level.Warn,`The Scandit Data Capture library WASM file found at ${r} seems invalid: expected file hash doesn\'t match (received: ${i}, expected: ${e}). Please ensure the correct Scandit Data Capture file (with correct version) is retrieved.`),"INVALID")}catch(a){return c.log(c.Level.Warn,"Wasm response could not be verified",a),"NOT_VERIFIABLE"}}var q=new Map([["br",4.4],["gzip",2.9],["none",1]]);function Re(t){var e;let r="content-encoding";if(t==null||t.get(r)==null)return q.get("none");let a=new Set(((e=t.get(r))!=null?e:"").split(",").map(s=>s.trim()));for(let[s,i]of q)if(a.has(s))return i;return q.get("none")}function Ne(t){var e,r;if(t==null)return 0;let a=(e=Re(t))!=null?e:1,s=Number.parseInt((r=t.get("content-length"))!=null?r:"0",10);return Number.isNaN(s)?0:Math.floor(s*a*100)/100}function _e(t){let{pathname:e}=new URL(t);for(let[r,a]of Object.entries(ae))if(e.endsWith(r))return a.bytes;return 0}function se(t){ae=t}var He=(t,e)=>{let r=Ne(e);return r===0?_e(t):r};function ze(t,e,r,{onProgress:a,onError:s,onComplete:i}){if(!e.body)return[e];let n=He(t,e.headers),d=0,l=0,[o,p]=r?e.body.tee():[e.body],b=o.pipeThrough(new TransformStream({async transform(h,m){try{d+=h.length,l=Number((d/n*100).toFixed(2)),n>0&&h.length>0&&l<100?a?.({percentage:l,loadedBytes:d,privateUri:t}):n===0&&h.length>0&&a?.({percentage:null,loadedBytes:d,privateUri:t}),m.enqueue(h)}catch(f){m.error(f),s?.({error:f})}},flush(h){a?.({percentage:100,loadedBytes:d,privateUri:t}),i?.({percentage:100,loadedBytes:d,privateUri:t}),h.terminate()}}));return[new Response(b,{headers:new Headers(e.headers),status:e.status,statusText:e.statusText}),p]}async function K({wasmURI:t,expectedHash:e,verifyResponseHash:r,onProgress:a,onComplete:s,onError:i,referredOrigin:n}){let d=await fetch(t,{referrerPolicy:"origin",referrer:n??""});if(!d.ok)throw new Error(`HTTP status code is not ok: ${d.status}, ${d.statusText}`);let[l,o]=ze(t,d,r,{onProgress:a,onError:i,onComplete:s});return o!=null&&Ee(Ae(o),e,t),l}function ie({wasmURI:t,expectedHash:e,verifyResponseHash:r,progressCallback:a,successCallback:s,importObject:i,referredOrigin:n}){async function d(o){try{let p=await K({wasmURI:t,expectedHash:e,verifyResponseHash:r,onProgress:a,referredOrigin:n}),b=await(o??p).arrayBuffer(),h=await globalThis.WebAssembly.instantiate(b,i);s(h.instance,h.module)}catch(p){c.log(c.Level.Error,p),c.log(c.Level.Error,`Couldn\'t instantiate Scandit SDK DataCapture library at ${t}, did you configure the path for it correctly?`)}}async function l(){let o;try{o=await K({wasmURI:t,expectedHash:e,verifyResponseHash:r,onProgress:a,referredOrigin:n});let p=await globalThis.WebAssembly.instantiateStreaming(o,i);s(p.instance,p.module)}catch(p){c.log(c.Level.Warn,p),c.log(c.Level.Warn,"WebAssembly streaming compile failed. Falling back to ArrayBuffer instantiation (this will make things slower)"),d(o?.bodyUsed===!0?void 0:o)}}typeof globalThis.WebAssembly.instantiateStreaming=="function"?l():d()}async function X(t,e,r,a){return new Promise((s,i)=>{t().then(s).catch(n=>{let d=e*2;if(d>r){i(n);return}a(n),globalThis.setTimeout(()=>{X(t,d,r,a).then(s).catch(i)},e)})})}function Y(t){var e,r;let a="";if((e=t.href)!=null&&e.startsWith("blob:null/"))a="localhost";else{let s=((r=t.pathname)==null?void 0:r.length)>1&&!t.pathname.startsWith("/");a=new URL(s?t.pathname:t.origin).hostname}return a.startsWith("[")&&a.endsWith("]")&&(a=a.slice(1,-1)),a}async function ne(t,e){async function r(){return importScripts(t)}try{await X(r,250,4e3,s=>{c.log(c.Level.Warn,s),c.log(c.Level.Warn,`Couldn\'t retrieve Scandit Data Capture library at ${t}, retrying...`)}),self.Module.mainScriptUrlOrBlob=t;let a=globalThis.SDC_WASM_JS_VERSION;return a!==e&&c.log(c.Level.Warn,`The Scandit Data Capture library JS file found at ${t} seems invalid: expected version doesn\'t match (received: ${a}, expected: ${e}). Please ensure the correct Scandit Data Capture file (with correct version) is retrieved.`),!0}catch(a){return c.log(c.Level.Error,a),!1}}var L=class oe extends Error{constructor(e){super(e.message),Object.setPrototypeOf(this,oe.prototype),this.name=e.name}toString(){return`${this.name}: ${this.message}`}};var T=Promise.resolve(),I=!1,Z=!1,D,M={writableDataPathPreload:"",writableDataPath:"",preloading:!1};async function Ve(){let t="FILE_DATA",e,r,a,s,i;function n(){clearTimeout(i),a.result.close(),s.result.close(),e(0)}function d(){try{let l=[],o=a.result.transaction(t,"readonly");o.addEventListener("error",n),o.addEventListener("abort",n);let p=o.objectStore(t).openCursor();p.onsuccess=()=>{let b=p.result;if(b==null)try{let h=0,m=s.result.transaction(t,"readwrite"),f=m.objectStore(t);m.addEventListener("error",n),m.addEventListener("abort",n),m.oncomplete=()=>{clearTimeout(i),a.result.close(),s.result.close(),e(h)};for(let v of l){let F=f.count(v.primaryKey);F.onsuccess=()=>{F.result===0&&(++h,f.add(v.value,v.primaryKey))},clearTimeout(i),i=globalThis.setTimeout(()=>{c.log(c.Level.Warn,"IndexedDB database is blocked! Resetting Scandit Data Capture library..."),r(new L({name:"BlockedIndexedDB",message:"IndexedDB database is blocked"}))},500)}}catch(h){n.call({error:h})}else{let{writableDataPathPreload:h,writableDataPath:m}=M;l.push({value:b.value,primaryKey:b.primaryKey.toString().replace(`${h}/`,`${m}/`)}),b.continue()}},p.onerror=n}catch(l){n.call({error:l})}}return new Promise((l,o)=>{let{writableDataPathPreload:p,writableDataPath:b}=M;e=l,r=o,a=indexedDB.open(p),a.onupgradeneeded=()=>{try{a.result.createObjectStore(t)}catch{}},a.onsuccess=()=>{if(!Array.from(a.result.objectStoreNames).includes(t)){l(0);return}s=indexedDB.open(b),s.onupgradeneeded=()=>{try{s.result.createObjectStore(t)}catch{}},s.onsuccess=()=>{d()},s.onblocked=s.onerror=n},a.onblocked=a.onerror=n})}async function de(t,e){let{preloading:r}=M;if(D!=null){if(I=!0,!r&&t){let a=await Ve();if(!e&&a===0){I=!1;return}}await new Promise((a,s)=>{D?.(t,i=>{if(I=!1,i!=null){s(i);return}a()})})}}async function ce(t,e=!1,r=!1){return(!Z||r)&&(I?(Z=!0,T=T.then(async()=>(Z=!1,de(t,e)))):T=de(t,e)),T}async function le(t){M=t,D=FS.syncfs,FS.syncfs=(e,r)=>{let a=r,s=i=>{a(i)};ce(e).then(s).catch(s)};try{FS.mkdir(M.writableDataPath)}catch(e){if(e.code!=="EEXIST")throw D=void 0,e}return FS.mount(IDBFS,{},M.writableDataPath),ce(!0,!0)}function Ue(t){return/^https?:\\/\\/(?:[^./]*\\.)*cdn.jsdelivr.net\\//.test(t)?{result:!0,cdnBaseURL:"https://cdn.jsdelivr.net/npm/"}:/^https?:\\/\\/(?:[^./]*\\.)*unpkg.com\\//.test(t)?{result:!0,cdnBaseURL:"https://unpkg.com/"}:{result:!1,cdnBaseURL:""}}function Je(t){let e=/@scandit\\/web-datacapture-[a-z]+/i.exec(t);return e?e[0]:null}function ue(t,e,r){let a=e,s=Ue(a);if(s.result){let n=Je(a);n!=null&&(a=`${s.cdnBaseURL}${n}@${t}/sdc-lib/`)}let i=r.replace(".wasm","");return s.result?{jsURI:`${a}${i}.js`,wasmURI:`${a}${i}.wasm`}:{jsURI:`${a}${i}.js?v=${t}`,wasmURI:`${a}${i}.wasm?v=${t}`}}var A;(t=>{function e(){return"7.0.1"}t.sdkVersion=e})(A||(A={}));var pe=class{constructor(){this.promise=new Promise((t,e)=>{this.reject=e,this.resolve=t})}};var $e=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11])),je=()=>(async t=>{try{return typeof MessageChannel<"u"&&new MessageChannel().port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(t)}catch{return!1}})(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11]));function Ge(){return typeof crossOriginIsolated>"u"?!1:crossOriginIsolated}function qe(){try{return new WebAssembly.Memory({initial:1,maximum:1,shared:!0}).buffer.constructor.name==="SharedArrayBuffer"}catch{return!1}}async function he(){return $e()}async function Ke(){if(!await je())return!1;let t=null;try{t=new Worker(URL.createObjectURL(new Blob([\'postMessage("Worker" in self);\'],{type:"text/javascript"})),{name:"nestedWorkerTest"})}catch{return!1}return new Promise(e=>{if(t==null){e(!1);return}t.onmessage=r=>{t?.terminate(),e(r.data)}})}async function me(){let t=await Ke();return Ge()&&qe()&&t}var ge=class be{constructor(e,r){this.hintPresenterV2=null,this.MAX_NUMBER_OF_IMAGES_IN_FRAME_DATA_POOL=10,this.redrawInterval=1e3/30,this.redrawRequests=[],this._isDrawLoopRunning=!1,this.frameDataPool=new Map,this.lastFrameCounter=-1,this.poorMansBenchmarkLogs=!1,this.writableDataPathPreload="/scandit_sync_folder_preload",this.writableDataPathStandard="/scandit_sync_folder",this.resourceFilesSubfolder="resources",this.performanceMetricsReporterTimer=void 0,this.performanceMetrics={frameDataPoolSize:0,processedFramesCount:0,redrawRequestsCount:0,actualRedrawsCount:0},this.gestureListener=null,this.webPlatformHintPresenter=null,this.moduleHandler=e,this.workerFunctions=r,this._loadProgressCallback=this._loadProgressCallback.bind(this),se(this.getWasmMetadata())}get Module(){return this.moduleHandler.get()}set isDrawLoopRunning(e){this._isDrawLoopRunning=e,!e&&typeof this.loopTimeoutId=="number"&&(clearTimeout(this.loopTimeoutId),this.loopTimeoutId=void 0)}get isDrawLoopRunning(){return this._isDrawLoopRunning}convertToLoadableFrameData(e){let r=this.getNextFrameId();this.frameDataPool.set(r,new Uint8ClampedArray(e.getFrameData()));let a=this.lastUsedModuleMirrorAxis==null?!1:this.lastUsedModuleMirrorAxis!==this.Module.Axis.None;return{frameId:r,width:e.getWidth(),height:e.getHeight(),isFrameSourceMirrored:a}}createContext(e){var r,a,s,i,n;let d=this.getModeDeserializers(),l=Y(location);(l==="localhost"||l==="127.0.0.1")&&navigator.userAgent.includes("Electron")&&e.appName!=null&&(l+=`-${e.appName}`),this.parentDomain=e.parentDomain,this.contextDeserializer=new this.Module.DataCaptureContextDeserializer(this.writableDataPath,e.deviceId,e.context.deviceModelName,l,this.parentDomain,d,e.delayedRegistration,e.highEndBlurryRecognition,this.resourcePath);let o=this.contextDeserializer.contextFromJson(JSON.stringify(e.context));if(o==null){let g=this.contextDeserializer.getLastError();throw new Error(`Could not create the context: ${g}`)}let p=o.getView();this.context=o.getContext(),o.delete();let b=this.Module.DataCaptureContextListener.extend("DataCaptureContextListener",{didChangeStatus:(g,y)=>{this.contextDidChangeStatus(JSON.parse(y.toJson()))},didStartObservingContext:()=>{this.didStartObservingContext()}}),h=this.Module.DataCaptureContextFrameListener.extend("DataCaptureContextFrameListener",{onObservationStarted:g=>{},onObservationStopped:g=>{},onFrameProcessingStarted:(g,y)=>{this.workerFunctions.postMessage({type:"onFrameProcessingStarted"})},onFrameProcessingFinished:(g,y)=>{this.workerFunctions.postMessage({type:"onFrameProcessingFinished"})},onFrameSkipped:(g,y)=>{this.workerFunctions.postMessage({type:"onFrameSkipped"})}}),m=this.Module.GestureRecognizer.extend("GestureRecognizer",{setGestureListener:(g,y)=>{var O;(O=this.gestureListener)==null||O.delete(),this.gestureListener=g.clone()}});(r=this.gestureRecognizer)==null||r.delete(),this.gestureRecognizer=new m;let f=new b;this.context.addListener(f),f.delete();let v=new h;this.context.addFrameListener(v),v.delete(),this.setView(p),(a=this.view)==null||a.setGestureRecognizer(this.gestureRecognizer);let F=this.Module.PlatformHintPresenter.extend("PlatformHintPresenter",{setHintPresenter:g=>{},showToast:g=>{this.workerFunctions.postMessage({type:"showToast",payload:JSON.parse(g)})},hideToast:g=>{this.workerFunctions.postMessage({type:"hideToast",payload:JSON.parse(g)})},showGuidance:g=>{this.workerFunctions.postMessage({type:"showGuidance",payload:JSON.parse(g)})},hideGuidance:g=>{this.workerFunctions.postMessage({type:"hideGuidance",payload:JSON.parse(g)})},startUpdateTimer:g=>{this.workerFunctions.postMessage({type:"startUpdateTimer",payload:{duration:{unit:"ms",value:g}}})},stopUpdateTimer:()=>{this.workerFunctions.postMessage({type:"stopUpdateTimer"})}});(s=this.hintPresenterV2)==null||s.delete(),(i=this.webPlatformHintPresenter)==null||i.delete(),this.webPlatformHintPresenter=new F,this.hintPresenterV2=new this.Module.HintPresenterV2(this.webPlatformHintPresenter),(n=this.view)==null||n.setHintPresenterV2(this.hintPresenterV2)}onTap(e){var r;(r=this.gestureListener)==null||r.onTap(JSON.stringify(e))}hintPresenterV2Update(){var e;(e=this.hintPresenterV2)==null||e.update()}startReportingPerformanceMetrics(){this.performanceMetricsReporterTimer==null&&(this.performanceMetricsReporterTimer=setInterval(()=>{this.reportPerformanceMetrics();for(let e of Object.keys(this.performanceMetrics))this.performanceMetrics[e]=0},1e3))}async reportPerformanceMetrics(){this.workerFunctions.postMessage({type:"performanceMetricsReport",payload:{...this.performanceMetrics}})}deleteFrameData(e){this.frameDataPool.delete(e)}dispose(){var e,r;this.context.dispose(),this.frameDataPool.clear(),this.isDrawLoopRunning=!1,this.lastFrameCounter=-1,(e=this.gestureRecognizer)==null||e.delete(),this.gestureRecognizer=null,(r=this.gestureListener)==null||r.delete(),this.gestureListener=null}flushAnalytics(){this.context.flushAnalytics()}extractCentaurusLicense(e){return{payload:{centaurus:{licenseKey:this.Module.LicenseUtils[be.get3dPartyLicenseKeyMethodName](e)}}}}getModeDeserializers(){return new this.Module.VectorDataCaptureModeDeserializer}loadLibrary(e){return this.libraryLoadingPromise!=null?this.libraryLoadingPromise:(this.libraryLoadingPromise=this.setup(e),this.libraryLoadingPromise)}processFrame(e){var r;if(this.context==null)return{payload:e,transferables:[e.data.buffer]};let a=e.data,s=e.colorType==="GRAYSCALE"?this.Module.ImageBufferFormat.Grayscale8:this.Module.ImageBufferFormat.Rgba8888,i=this.Module.allocateUint8Array(a.byteLength);return this.Module.HEAPU8.set(a,i),(r=this.imageFrameSource)==null||r.outputFrame(i,e.width,e.height,s),{payload:e,transferables:[e.data.buffer]}}reportCameraProperties(e){this.context.setCameraProperties(e.deviceId,e.isFrontFacing,e.hasAutofocus)}requestFrameData(e){let r=this.frameDataPool.get(e);return r==null?{payload:{data:null}}:{payload:{data:r},transferables:[r.buffer]}}scheduleRedraw(e,r){this.addRedrawRequest(r),this.isDrawLoopRunning||this.startDrawLoop(e)}sendViewRefreshCommands(e){this.workerFunctions.postMessage({type:"draw",payload:e},[e.buffer])}setFrameSource(e,r){var a;this.lastUsedModuleMirrorAxis=this.mapMirrorAxisOnModule(e),(a=this.imageFrameSource)==null||a.delete(),this.imageFrameSource=new this.Module.ImageBufferFrameSource(this.lastUsedModuleMirrorAxis,r,0),this.context.setFrameSource(this.imageFrameSource)}startDrawLoop(e){this.isDrawLoopRunning=!0;let r=i=>this.redrawRequests.length>0&&this.redrawRequests[0]<=i,a=i=>{for(;this.redrawRequests.length>0&&this.redrawRequests[0]<=i;)this.redrawRequests.shift()},s=()=>{this.loopTimeoutId=setTimeout(()=>{if(!this.isDrawLoopRunning)return;let i=performance.now();if(r(i)){a(i),e.draw();let n=e.getDrawCommands();this.sendViewRefreshCommands(new Uint8Array(n))}s()},this.redrawInterval)};s()}updateContext(e){if(this.context!=null&&this.contextDeserializer!=null){e.view!=null&&!e.view.visible&&this.context.flushAnalytics();let r=this.contextDeserializer.updateContextFromJson(this.context,this.view,JSON.stringify(e.context));if(r==null){let s=this.contextDeserializer.getLastError();throw new Error(`Could not update the context: ${s}`)}this.context.delete(),this.context=r.getContext();let a=r.getView();r.delete(),a!=null&&e.view!=null&&a.setViewSize(e.view.width,e.view.height,e.view.orientation),this.hintPresenterV2!=null&&a?.setHintPresenterV2(this.hintPresenterV2),this.gestureRecognizer!=null&&a?.setGestureRecognizer(this.gestureRecognizer),this.setView(a),c.log(c.Level.Debug,"context updated",e)}}onDocumentVisibilityChange(e){e==="hidden"&&this.context.flushAnalytics()}isFeatureSupported(e){return{payload:{supported:this.context.isFeatureSupported(e)}}}getViewfinderInfo(){var e,r;return{payload:{isDisplayingViewfinder:(r=(e=this.view)==null?void 0:e.isDisplayingViewfinder())!=null?r:!1,rect:JSON.parse(this.view.getViewfinderRect())}}}getOpenSourceSoftwareLicenseInfo(){return{payload:{licenseText:this.Module.OpenSourceSoftwareLicenseInfo.getLicenseText()}}}getNextFrameId(){return this.lastFrameCounter++,this.lastFrameCounter>=this.MAX_NUMBER_OF_IMAGES_IN_FRAME_DATA_POOL&&(this.lastFrameCounter=0),this.lastFrameCounter}getWasmDynamicLibraries(e){return this.getWasmSideModuleFileName()==null?[]:[`${e.replace(/\\/[^/]*$/,"/")}${this.getWasmSideModuleFileName()}`]}getWasmCoreExpectedHash(e,r){return r?e?"d13e6818158b88ae1bd5716befe80b24401fec064fb8813a9adf0a4baebf5f5e":"6087ed38f29976e22796c9da937a7febfea0340d358d41099e5cf74832753853":e?"62e5d8b44b357c5cdeb9519e49d9a4aff9e1ad5f22d00e378c645e49e23205b2":""}getWasmCoreFileName(e,r){return r?e?"scandit-datacapture-sdk-barcode-simd-pthreads.wasm":"scandit-datacapture-sdk-barcode-pthreads.wasm":e?"scandit-datacapture-sdk-barcode-simd.wasm":""}getWasmMetadata(){return u}getWasmSideModuleFileName(){return""}_loadProgressCallback(e){this.workerFunctions.postMessage({type:"loadLibraryProgress",payload:e})}addRedrawRequest(e){this.redrawRequests.push(Math.round(performance.now())+e),this.redrawRequests.sort((r,a)=>r-a)}contextDidChangeStatus(e){e.code===260?e.message=e.message.replace("domain name",`domain name (${Y(location)})`):e.code===265&&(e.message=e.message.replace("domain name",`domain name (${this.parentDomain})`)),this.workerFunctions.postMessage({type:"contextDidChangeStatus",payload:e})}didStartObservingContext(){this.workerFunctions.postMessage({type:"didStartObservingContext"})}mapMirrorAxisOnModule(e){switch(e){case"None":return this.Module.Axis.None;case"X":return this.Module.Axis.X;case"Y":return this.Module.Axis.Y;default:return this.Module.Axis.None}}setView(e){this.view=e,this.setViewRefreshHandler(e),e==null&&(this.isDrawLoopRunning=!1,this.sendViewRefreshCommands(new Uint8Array([])))}setViewRefreshHandler(e){if(e==null||e.isViewRefreshHandlerSet)return;let r=this.Module.NeedsRedrawDelegate.extend("NeedsRedrawDelegate",{setNeedsRedrawIn:this.scheduleRedraw.bind(this,e)}),a=new r;e.setNeedsRedrawDelegate(a),e.isViewRefreshHandlerSet=!0}setupDataDecoding(){let e=this.moduleHandler.get(),r=e.DataDecoding.extend("DataDecoding",{decode(a,s){try{let i=JSON.parse(s),n=[];for(let d of i){let l=new TextDecoder(d.ianaName,{fatal:!0});n.push(l.decode(a.slice(d.startIndex,d.endIndex)))}return n.join("")}catch{return""}}});e.setDataDecoding(new r)}start(e,r,a){e&&r&&(this.setupDataDecoding(),this.moduleHandler.get().callMain(),typeof this.moduleHandler.get().PThread=="object"||a())}getWritableDataPath(e,r){return e?this.writableDataPathPreload:r!=null?(c.log(c.Level.Debug,`IndexedDB database name override in use to recover from blocked standard database: ${r}`),r):this.writableDataPathStandard}numOfMBToPages(e){return Math.ceil(1024*e*1024/64/1024)}async setup({libraryLocation:e,locationPath:r,preloadEngine:a,writableDataPathOverride:s,overrideThreadsSupport:i,overrideSimdSupport:n,verifyResponseHash:d,referredOrigin:l,fixedWasmMemory:o}){var p;let b=!1,h=!1;this.writableDataPath=this.getWritableDataPath(a,s),this.resourcePath=`${e}${this.resourceFilesSubfolder}/`,globalThis.path=r;let{resolve:m,reject:f,promise:v}=new pe,F=A.sdkVersion();if(F==="")throw new L({name:"Invalid library version",message:"Library version is not defined or empty, cannot generate proper path to library files."});let[g,y]=await Promise.all([he(),me()]);i!=="auto"&&(y=i==="on"),n!=="auto"&&(g=n==="on");let O=this.getWasmCoreFileName(g,y),Pe=ue(F,e,O),{jsURI:$,wasmURI:ee}=Pe,Oe={instantiateWasm:(w,Be)=>(ie({importObject:w,wasmURI:ee,expectedHash:this.getWasmCoreExpectedHash(g,y),verifyResponseHash:d,successCallback:Be,progressCallback:this._loadProgressCallback,referredOrigin:l}),{})},B=o===null?null:new WebAssembly.Memory({initial:this.numOfMBToPages(o),maximum:this.numOfMBToPages(o),shared:y});return B!==null&&c.log(c.Level.Debug,"Fixed wasmMemory set",B),this.moduleHandler.set({...B?{wasmMemory:B}:{},mainScriptUrlOrBlob:$,canvas:(p=this.workerFunctions.getOffscreenCanvas())!=null?p:{getContext:()=>null},...Oe,dynamicLibraries:this.getWasmDynamicLibraries(ee),locateFile:w=>e+w,noInitialRun:!0,preRun:[async()=>{try{await le({writableDataPathPreload:this.writableDataPathPreload,writableDataPath:this.writableDataPath,preloading:a})}catch(w){if(w.name==="BlockedIndexedDB"){f(w.toString());return}c.log(c.Level.Debug,"No IndexedDB support, some data will not be persisted:",w)}h=!0,this.start(h,b,m)}],onMainComplete:()=>{if([b,h].includes(!1)){c.log(c.Level.Warn,{runtimeLoaded:b,fileSystemSynced:h},"Both runtimeLoaded and fileSystemSynced should be true when calling onMainComplete"),f("onMainComplete has been called but runtime or file system was not ready.");return}m()},onRuntimeInitialized:()=>{b=!0,this.start(h,b,m)},print:w=>{c.log(c.Level.Info,w)}}),await ne($,F)||f(`Couldn\'t retrieve Scandit Data Capture library at ${$}, did you configure the path for it correctly?`),v}};ge.get3dPartyLicenseKeyMethodName=atob("Z2V0QmxpbmtJZExpY2Vuc2VLZXk=");var x=ge;function fe(t){return typeof t=="object"&&t!=null&&t.document==null&&"addEventListener"in t&&typeof t.importScripts=="function"}function ye(t){console.warn("Reached unexpected case",t)}var Q=class{constructor(t,e){this.onMessageListener=this.onMessage.bind(this),this.workerSelf=t,this.dataCaptureInstance=new x(e,{postMessage:this.postMessage.bind(this),getOffscreenCanvas:this.getOffscreenCanvas.bind(this)}),fe(t)&&this.listenToMessages()}listenToMessages(){this.workerSelf.addEventListener("message",this.onMessageListener),this.workerSelf.addEventListener("error",t=>{c.log(c.Level.Error,t)}),this.workerSelf.addEventListener("messageerror",t=>{c.log(c.Level.Error,t)})}postMessage(t,e){this.workerSelf.postMessage(t,e??[])}getOffscreenCanvas(){if(typeof this.workerSelf.OffscreenCanvas=="function")return new this.workerSelf.OffscreenCanvas(32,32)}hasPayload(t){return C(t)&&"payload"in t}hasTransferables(t){return C(t)&&Array.isArray(t.transferables)}async respondWith(t,e,r){let a=null,s;try{s=r(),s instanceof Promise&&(s=await s)}catch(n){s=void 0,a=k(n)}let i={type:"workerTaskId",command:t,id:e,payload:this.hasPayload(s)?s.payload:void 0};a!=null&&(i.error=a),this.postMessage(i,this.hasTransferables(s)?s.transferables:[])}onMessage(t){switch(t.data.command){case"loadLibrary":{{let{data:e}=t;this.respondWith(e.command,e.id,async()=>this.dataCaptureInstance.loadLibrary({libraryLocation:e.libraryLocation,locationPath:e.locationPath,referredOrigin:e.referredOrigin,preloadEngine:e.preloadEngine,writableDataPathOverride:e.writableDataPathOverride,overrideThreadsSupport:e.overrideThreadsSupport,overrideSimdSupport:e.overrideSimdSupport,verifyResponseHash:e.verifyResponseHash,fixedWasmMemory:e.fixedWasmMemory}))}break}case"onTap":{{let{data:e}=t;this.respondWith(e.command,e.id,async()=>{this.dataCaptureInstance.onTap(e.point)})}break}case"hintPresenterV2update":{{let{data:e}=t;this.respondWith(e.command,e.id,async()=>{this.dataCaptureInstance.hintPresenterV2Update()})}break}case"createContext":{{let{data:e}=t;this.respondWith(e.command,e.id,()=>this.dataCaptureInstance.createContext({context:e.context,deviceId:e.deviceId,delayedRegistration:e.delayedRegistration,highEndBlurryRecognition:e.highEndBlurryRecognition,appName:e.appName,parentDomain:e.parentDomain}))}break}case"setFrameSource":{{let{data:e}=t;this.respondWith(e.command,e.id,()=>this.dataCaptureInstance.setFrameSource(e.mirrorAxis,e.isCameraFrameSource))}break}case"processFrame":{{let{data:e}=t;this.respondWith(e.command,e.id,()=>this.dataCaptureInstance.processFrame({data:e.data,width:e.width,height:e.height,colorType:e.colorType}))}break}case"requestFrameData":{{let{data:e}=t;this.respondWith(e.command,e.id,()=>this.dataCaptureInstance.requestFrameData(e.frameId))}break}case"deleteFrameData":{{let{data:e}=t;this.respondWith(e.command,e.id,()=>{this.dataCaptureInstance.deleteFrameData(e.frameId)})}break}case"updateContext":{{let{data:e}=t;this.respondWith(e.command,e.id,async()=>this.dataCaptureInstance.updateContext(e))}break}case"dispose":{this.respondWith(t.data.command,t.data.id,()=>this.dataCaptureInstance.dispose());break}case"flushAnalytics":{this.respondWith(t.data.command,t.data.id,()=>{this.dataCaptureInstance.flushAnalytics()});break}case"reportCameraProperties":{{let{data:e}=t;this.respondWith(e.command,e.id,async()=>this.dataCaptureInstance.reportCameraProperties(e))}break}case"setLogLevel":{{let{data:e}=t;this.respondWith(e.command,e.id,()=>{c.setLevel(e.level)})}break}case"extractCentaurusLicense":{{let{data:e}=t;this.respondWith(e.command,e.id,()=>this.dataCaptureInstance.extractCentaurusLicense(e.licenseKey))}break}case"documentVisibility":{{let{data:e}=t;this.respondWith(e.command,e.id,()=>{this.dataCaptureInstance.onDocumentVisibilityChange(e.state)})}break}case"isFeatureSupported":{{let{data:e}=t;this.respondWith(e.command,e.id,()=>this.dataCaptureInstance.isFeatureSupported(e.feature))}break}case"getViewfinderInfo":{{let{data:e}=t;this.respondWith(e.command,e.id,()=>this.dataCaptureInstance.getViewfinderInfo())}break}case"getOpenSourceSoftwareLicenseInfo":{{let{data:e}=t;this.respondWith(e.command,e.id,()=>this.dataCaptureInstance.getOpenSourceSoftwareLicenseInfo())}break}default:return ye(t.data),!1}return!0}};var Se=(t=>(t.Body="body",t.Footnote="footnote",t))(Se||{}),W=(t=>(t.Start="start",t.Center="center",t.End="end",t))(W||{}),we=(t=>(t.Normal="normal",t.Wider="wider",t.FitText="fitText",t))(we||{}),ve=(t=>(t.Normal="normal",t.Taller="taller",t))(ve||{}),Fe=(t=>(t.Square="square",t.Rounded="rounded",t))(Fe||{}),E=(t=>(t.None="none",t.Check="check",t.ExclamationMark="exclamationMark",t))(E||{}),R=(t=>(t.Top="top",t.AboveViewFinder="aboveViewFinder",t.BelowViewFinder="belowViewFinder",t))(R||{}),Me=(t=>(t.AboveViewFinder="aboveViewFinder",t.BelowViewFinder="belowViewFinder",t))(Me||{}),Ce=(t=>(t.BlackOnWhite="blackOnWhite",t.WhiteOnBlack="whiteOnBlack",t.Transparent="transparent",t))(Ce||{}),P=(t=>(t.Success="success",t.Error="error",t.Warning="warning",t.Info="info",t.Notification="notification",t))(P||{}),ke=(t=>(t[t.Ocr=0]="Ocr",t[t.HideLogo=1]="HideLogo",t[t.ShowTestLicenseMessage=2]="ShowTestLicenseMessage",t[t.AugmentedReality=5]="AugmentedReality",t[t.ActivityPingStatsAddon=8]="ActivityPingStatsAddon",t[t.ActivityPing=9]="ActivityPing",t[t.Registration=10]="Registration",t[t.Parser=11]="Parser",t[t.BarcodeCapture=14]="BarcodeCapture",t[t.Analytics=17]="Analytics",t[t.AnalyticsBatchMode=18]="AnalyticsBatchMode",t[t.AnalyticsScanContent=19]="AnalyticsScanContent",t[t.AnalyticsOnlineVerification=20]="AnalyticsOnlineVerification",t[t.SparkScan=21]="SparkScan",t[t.AamvaIdBarcodeVerification=22]="AamvaIdBarcodeVerification",t[t.MappingForTracking=23]="MappingForTracking",t[t.BarcodeFind=24]="BarcodeFind",t[t.MandatoryRegistration=25]="MandatoryRegistration",t[t.FeatureTracking=26]="FeatureTracking",t[t.IdCaptureViz=27]="IdCaptureViz",t[t.IdCaptureMrz=28]="IdCaptureMrz",t[t.IdCaptureBarcode=29]="IdCaptureBarcode",t[t.BarcodeSelectionAimToScan=30]="BarcodeSelectionAimToScan",t[t.BarcodeSelectionTapToScan=31]="BarcodeSelectionTapToScan",t[t.BarcodeCount=32]="BarcodeCount",t[t.BarcodePick=33]="BarcodePick",t[t.IdVerificationDataComparison=34]="IdVerificationDataComparison",t[t.SmartLabelBarcode=35]="SmartLabelBarcode",t[t.SmartLabelText=36]="SmartLabelText",t[t.VoidedIdDetection=37]="VoidedIdDetection",t[t.BarcodeArFull=38]="BarcodeArFull",t))(ke||{});var N=class{constructor(e,r,a){this.captureListenerSet=!1;this.coreEngine=e,this.Module=r,this.workerFunctions=a,this.setup()}barcodeCaptureDidUpdateSession(e){this.workerFunctions.postMessage({type:"barcodeCaptureDidUpdateSession",payload:JSON.parse(e.toJson())})}barcodeBatchDidUpdateSession(e){this.workerFunctions.postMessage({type:"barcodeBatchDidUpdateSession",payload:JSON.parse(e.toJson())})}getCaptureDeserializer(){return this.barcodeCaptureDeserializer}getTrackingDeserializer(){return this.barcodeBatchDeserializer}setup(){let e=this.Module.BarcodeCaptureListener.extend("BarcodeCaptureListener",{didScan:(n,d,l)=>{this.barcodeCaptureDidScan(d,l)},didUpdateSession:(n,d)=>{this.barcodeCaptureDidUpdateSession(d)}}),r=this.Module.Feedback.extend("Feedback",{emit:()=>{this.successFeedback()}}),a=new e,s=new r,i=this.Module.BarcodeCaptureDeserializerListener.extend("BarcodeCaptureDeserializerListener",{onModeDeserializationFinished:(n,d)=>{d.addListener(a,1),d.setSuccessFeedback(s)},onModeDeserializationStarted(){},onSettingsDeserializationStarted(){},onSettingsDeserializationFinished(){}});this.barcodeCaptureDeserializer=new this.Module.BarcodeCaptureDeserializer,this.barcodeCaptureDeserializer.setListener(new i)}successFeedback(){this.workerFunctions.postMessage({type:"successFeedback"})}barcodeCaptureDidScan(e,r){let a=this.coreEngine.convertToLoadableFrameData(r);this.workerFunctions.postMessage({type:"barcodeCaptureDidScan",payload:{session:JSON.parse(e.toJson()),frameData:a}})}};function Xe(t){return t.charAt(0).toUpperCase()+t.slice(1)}function De(t){return t}var _=class{constructor(e,r,a){this.barcodeFind=null;this.basicOverlay=null;this.transparentGuidanceHintStyle={backgroundColor:"00000000",cornerRadius:4,fitToText:!1,isAnimatedToView:!1,textAlignment:W.Center,hintIcon:E.None,hintAnchor:R.AboveViewFinder,hintAnchorOffset:-12,horizontalMargin:0,iconColor:"00000000",lineHeight:-1,maxLines:1,maxWidthFraction:.8,textColor:"ffffffff",textSize:15,textWeight:600};this.customerTransformation=De;this.coreEngine=e,this.Module=r,this.workerFunctions=a}async forSettings(e){this.barcodeFind?.delete(),this.barcodeFind=new this.Module.BarcodeFind(this.coreEngine.context,JSON.stringify(e));let r=this.Module.Feedback.extend("Feedback",{emit:()=>{this.listUpdatedFeedback()}}),a=this.Module.Feedback.extend("Feedback",{emit:()=>{this.barcodeFindFeedback()}}),s=this.Module.BarcodeFindTransformer.extend("BarcodeFindTransformer",{transformBarcodeData:n=>this.customerTransformation(n)}),i=this.Module.BarcodeFindListener.extend("BarcodeFindListener",{didUpdateSession:(n,d,l)=>{let o=this.coreEngine.convertToLoadableFrameData(l);this.workerFunctions.postMessage({type:"barcodeFindDidUpdateSession",payload:{session:JSON.parse(d.toJson()),frameData:o}})},onSearchPaused:n=>{let d=[];for(let l=0;l<n.size();l++)d.push(n.get(l));this.workerFunctions.postMessage({type:"barcodeFindSearchPaused",payload:{foundItems:d}})},onSearchStopped:n=>{let d=[];for(let l=0;l<n.size();l++)d.push(n.get(l));this.workerFunctions.postMessage({type:"barcodeFindSearchStopped",payload:{foundItems:d}})},onSearchStarted:()=>{this.workerFunctions.postMessage({type:"barcodeFindSearchStarted",payload:{}})}});this.barcodeFind.setBarcodeFindTransformer(new s),this.barcodeFind.addListener(new i,1),this.barcodeFind.setItemListUpdatedFeedback(new r),this.barcodeFind.setFeedback(new a),this.Module.addBarcodeFindToContext(this.coreEngine.context,this.barcodeFind)}barcodeFindFeedback(){this.workerFunctions.postMessage({type:"barcodeFindFeedback",payload:{}})}start(){this.barcodeFind?.start()}stop(){this.barcodeFind?.stop()}pause(){this.barcodeFind?.pause()}setEnabled(e){this.barcodeFind?.setEnabled(e)}setItemList(e){this.barcodeFind?.setItemList(JSON.stringify(e))}async removeMode(){this.barcodeFind!=null&&this.Module.removeBarcodeFindFromContext(this.coreEngine.context,this.barcodeFind)}addBasicOverlay(){this.basicOverlay?.delete(),this.basicOverlay=null,this.barcodeFind!=null&&(this.basicOverlay=new this.Module.BarcodeFindBasicOverlay(this.barcodeFind)),this.coreEngine.view!=null&&this.basicOverlay!=null&&(this.basicOverlay.setGuidanceHandler(this.createWebFindGuidanceHandler()),this.Module.addBarcodeFindBasicOverlayToView(this.coreEngine.view,this.basicOverlay))}removeBasicOverlay(){this.coreEngine.view!=null&&this.basicOverlay!=null&&this.Module.removeBarcodeFindBasicOverlayFromView(this.coreEngine.view,this.basicOverlay)}async applySettings(e){this.barcodeFind?.applySettings(JSON.stringify(e))}updateBasicOverlay(e){let r=Object.entries(e).filter(([a,s])=>a!=="type");for(let[a,s]of r){let i=`set${Xe(a)}`;this.basicOverlay!=null&&typeof this.basicOverlay[i]=="function"&&s!=null&&this.basicOverlay[i](s)}}setTransformerFunction(e){this.customerTransformation=e??De}successFeedback(){this.workerFunctions.postMessage({type:"successFeedback"})}listUpdatedFeedback(){this.workerFunctions.postMessage({type:"barcodeFindListUpdatedFeedback",payload:{}})}setToast(e,r){let a=this.coreEngine.hintPresenterV2;e?a?.showToast(JSON.stringify(r)):a?.hideToast(r.tag)}setGuidance(e,r,a){let s={tag:a,text:r,hintStyle:this.transparentGuidanceHintStyle};this.workerFunctions.postMessage({type:e?"showGuidance":"hideGuidance",payload:s})}createWebFindGuidanceHandler(){let e=this.Module.BarcodeFindGuidanceHandler.extend("BarcodeFindGuidanceHandler",{setInitialGuidance:(r,a)=>{this.setGuidance(r,a,"InitialGuidance")},setMoveCloserGuidance:(r,a)=>{this.setGuidance(!1,a,"InitialGuidance"),this.setGuidance(r,a,"MoveCloserGuidance")},setAllItemsFound:(r,a)=>{let s={text:a,toastHintStyle:P.Success,tag:"AllItemsFound"};this.setToast(r,s)},setTapShutterToPause:(r,a)=>{this.setGuidance(!1,a,"InitialGuidance"),this.setGuidance(r,a,"TapShutterToPause")},setTapShutterToResume:(r,a)=>{this.setGuidance(!1,a,"InitialGuidance"),this.setGuidance(r,a,"TapShutterResume")},setItemListUpdated:(r,a)=>{let s={text:a,toastHintStyle:P.Info,tag:"ItemListUpdated"};this.setToast(r,s)}});return new e}};var H=class{constructor(e,r,a){this.trackingListenerSet=!1;this.coreEngine=e,this.Module=r,this.workerFunctions=a,this.setup()}barcodeBatchDidUpdateSession(e){this.workerFunctions.postMessage({type:"barcodeBatchDidUpdateSession",payload:JSON.parse(e.toJson())})}getBatchDeserializer(){return this.barcodeBatchDeserializer}setup(){let e=this.Module.BarcodeBatchListener.extend("BarcodeTrackingListener",{didUpdateSession:(a,s)=>{this.barcodeBatchDidUpdateSession(s)},onTrackedBarcodeTapped:(a,s)=>{this.onTrackedBarcodeTapped(s)}}),r=this.Module.BarcodeBatchDeserializerListener.extend("BarcodeTrackingDeserializerListener",{onModeDeserializationFinished:(a,s)=>{this.trackingListenerSet||(s.addListener(new e,1),this.trackingListenerSet=!0)},onModeDeserializationStarted(){},onSettingsDeserializationStarted(){},onSettingsDeserializationFinished(){}});this.barcodeBatchDeserializer=new this.Module.BarcodeBatchDeserializer,this.barcodeBatchDeserializer.setListener(new r)}onTrackedBarcodeTapped(e){this.workerFunctions.postMessage({type:"didTapTrackedBarcode",payload:JSON.parse(e.toJson())})}};var S=class{constructor(e){this.subscribers=new Set;this.property={key:e,value:null}}addSubscriber(e){this.subscribers.add(e),e.onPropertyChanged?.(this.property)}removeSubscriber(e){this.subscribers.delete(e)}setProperty(e){if(this.property.value!==e.value){this.property={key:this.property.key,value:e.value};for(let r of this.subscribers)r.onPropertyChanged?.(this.property)}}};var Ye={torch_state:new S("torch_state"),scanning_mode:new S("scanning_mode"),sound_enabled:new S("sound_enabled"),haptic_enabled:new S("haptic_enabled"),hand_mode:new S("hand_mode"),session_stop_reason:new S("session_stop_reason"),camera_position:new S("camera_position")},z=class{getBehaviorSubject(e){return Ye[e]}};var V=class{constructor(e,r,a){this.captureListenerSet=!1;this.propertyPushSource=new z;this.coreEngine=e,this.Module=r,this.workerFunctions=a,this.setup()}sparkScanDidUpdateSession(e){this.workerFunctions.postMessage({type:"sparkScanDidUpdateSession",payload:JSON.parse(e.toJson())})}getSparkScanDeserializer(){return this.sparkScanDeserializer}setup(){let e=this.Module.SparkScanListener.extend("SparkScanListener",{didScan:(s,i,n)=>{this.sparkScanDidScan(i,n)},didUpdateSession:(s,i)=>{this.sparkScanDidUpdateSession(i)}}),r=this.Module.Feedback.extend("Feedback",{emit:()=>{this.successFeedback()}}),a=this.Module.SparkScanDeserializerListener.extend("SparkScanDeserializerListener",{onModeDeserializationFinished:(s,i)=>{this.captureListenerSet||(i.addListener(new e,1),i.setSuccessFeedback(new r),i.setPropertyPushSource(this.propertyPushSource),this.captureListenerSet=!0)},onModeDeserializationStarted(){},onSettingsDeserializationStarted(){},onSettingsDeserializationFinished(){},onOverlayDeserializationStarted(){},onOverlayDeserializationFinished:(s,i,n)=>{this.sparkScanOverlay?.delete(),this.sparkScanOverlay=i.clone()}});this.sparkScanDeserializer=new this.Module.SparkScanDeserializer,this.sparkScanDeserializer.setListener(new a)}emitErrorFeedback(e){this.sparkScanOverlay?.onErrorFeedbackEmitted(e)}overlayReadyForDraw(){this.sparkScanOverlay?.onReadyForNewData()}analyticsManagerPropertyChanged(e){this.propertyPushSource.getBehaviorSubject(e.key).setProperty(e)}successFeedback(){this.workerFunctions.postMessage({type:"successFeedback"})}sparkScanDidScan(e,r){let a=this.coreEngine.convertToLoadableFrameData(r);this.workerFunctions.postMessage({type:"sparkScanDidScan",payload:{session:JSON.parse(e.toJson()),frameData:a}})}};var U=class extends x{constructor(e,r){super(e,r)}getModeDeserializers(){this.barcodeCaptureMode=new N(this,this.Module,this.workerFunctions),this.barcodeBatchMode=new H(this,this.Module,this.workerFunctions),this.sparkScanMode=new V(this,this.Module,this.workerFunctions),this.barcodeFindMode=new _(this,this.Module,this.workerFunctions);let e=super.getModeDeserializers();return e.push_back(this.barcodeCaptureMode.getCaptureDeserializer()),e.push_back(this.barcodeBatchMode.getBatchDeserializer()),e.push_back(this.sparkScanMode.getSparkScanDeserializer()),e}getWasmSideModuleFileName(){return""}getWasmCoreFileName(e,r){return r?e?"scandit-datacapture-sdk-barcode-simd-pthreads.wasm":"scandit-datacapture-sdk-barcode-pthreads.wasm":e?"scandit-datacapture-sdk-barcode-simd.wasm":"scandit-datacapture-sdk-barcode.wasm"}getWasmCoreExpectedHash(e,r){return r?e?"d13e6818158b88ae1bd5716befe80b24401fec064fb8813a9adf0a4baebf5f5e":"6087ed38f29976e22796c9da937a7febfea0340d358d41099e5cf74832753853":e?"62e5d8b44b357c5cdeb9519e49d9a4aff9e1ad5f22d00e378c645e49e23205b2":"ab387f6e689a5605ac99053b6889d6aca9d4442e3598e7d8506392811cde3584"}getWasmMetadata(){return u}};function Ze(t){return(r=>/^[$A-Z_a-z][\\w$]*\\s*\\(.*\\)\\s*\\{/.test(r)&&!r.startsWith("function"))(t)?`function ${t}`:t}var Qe=["fetch","XMLHttpRequest","eval","Function","self","globalThis","Module","importScripts","this","console","window","document","import","Worker","ServiceWorker"];function et(t){return Qe.map(r=>new RegExp(`\\\\b${r}\\\\b`,"g")).some(r=>r.test(t))}function xe(t){if(t==null)return null;let e=Ze(t);if(et(e))throw new Error("Function should be pure. Shouldn\'t introduce side effects, or rely on global scope");let r=`\'use strict\';\n      return (${e});`;try{return new Function(r)()}catch{return null}}var J=class extends Q{constructor(e,r){super(e,r),this.dataCaptureInstance=new U(r,{postMessage:this.postMessage.bind(this),getOffscreenCanvas:this.getOffscreenCanvas.bind(this)})}async respondWith(e,r,a){let s=null,i;try{i=a(),i instanceof Promise&&(i=await i)}catch(d){i=void 0,s=k(d)}let n={type:"workerTaskId",command:e,id:r,payload:this.hasPayload(i)?i.payload:void 0};s!=null&&(n.error=s),this.postMessage(n,this.hasTransferables(i)?i.transferables:[])}onMessage(e){switch(e.data.command){case"sparkScanEmitErrorFeedback":{let{data:r}=e;return this.respondWith(r.command,r.id,()=>{this.dataCaptureInstance.sparkScanMode.emitErrorFeedback(r.shouldRemoveBrush)}),!0}case"sparkScanOverlayReadyForDraw":{let{data:r}=e;return this.respondWith(r.command,r.id,()=>{this.dataCaptureInstance.sparkScanMode.overlayReadyForDraw()}),!0}case"sparkScanAnalyticsManagerPropertyChanged":{let{data:r}=e;return this.respondWith(r.command,r.id,async()=>{this.dataCaptureInstance.sparkScanMode.analyticsManagerPropertyChanged(r.property)}),!0}case"barcodeFindForSettings":{let{data:r}=e;return this.respondWith(r.command,r.id,async()=>this.dataCaptureInstance.barcodeFindMode.forSettings(r.settings)),!0}case"barcodeFindModeRemove":{let{data:r}=e;return this.respondWith(r.command,r.id,async()=>this.dataCaptureInstance.barcodeFindMode.removeMode()),!0}case"barcodeFindSearchStart":return this.respondWith(e.data.command,e.data.id,()=>{this.dataCaptureInstance.barcodeFindMode.start()}),!0;case"barcodeFindSearchPause":return this.respondWith(e.data.command,e.data.id,()=>{this.dataCaptureInstance.barcodeFindMode.pause()}),!0;case"barcodeFindSearchStop":return this.respondWith(e.data.command,e.data.id,()=>{this.dataCaptureInstance.barcodeFindMode.stop()}),!0;case"barcodeFindSetItemList":{let{data:r}=e;return this.respondWith(e.data.command,e.data.id,()=>{this.dataCaptureInstance.barcodeFindMode.setItemList(r.itemList)}),!0}case"barcodeFindSetEnabled":{let{data:r}=e;return this.respondWith(e.data.command,e.data.id,()=>{this.dataCaptureInstance.barcodeFindMode.setEnabled(r.enabled)}),!0}case"barcodeFindApplySettings":{let{data:r}=e;return this.respondWith(r.command,r.id,async()=>this.dataCaptureInstance.barcodeFindMode.applySettings(r.settings)),!0}case"barcodeFindAddBasicOverlay":{let{data:r}=e;return this.respondWith(r.command,r.id,async()=>{this.dataCaptureInstance.barcodeFindMode.addBasicOverlay()}),!0}case"barcodeFindRemoveBasicOverlay":{let{data:r}=e;return this.respondWith(r.command,r.id,async()=>{this.dataCaptureInstance.barcodeFindMode.removeBasicOverlay()}),!0}case"barcodeFindUpdateBasicOverlay":{let{data:r}=e;return this.respondWith(r.command,r.id,async()=>{this.dataCaptureInstance.barcodeFindMode.updateBasicOverlay(r.jsonOverlay)}),!0}case"barcodeFindSetTransformerFunction":{let{data:r}=e;return this.respondWith(r.command,r.id,async()=>{let a=xe(r.functionAsString);this.dataCaptureInstance.barcodeFindMode.setTransformerFunction(a)}),!0}default:return super.onMessage(e)}}};var Zr=new J(globalThis,{get:()=>globalThis.Module,set:t=>{globalThis.Module=t}});function Qr(t){}})();\n'],{type:"application/javascript"})),r=new Worker(e,t);return URL.revokeObjectURL(e),r}var pC=class vg extends $y{get dataCaptureWorker(){return this._dataCaptureWorker!=null||(this._dataCaptureWorker=mC({name:this.name})),this._dataCaptureWorker}get name(){return`BarcodeCapture${this.isPreloadEngine?" (preload)":""}`}static async create(e){var r;let n=new vg(e);return await n.workerCommand("setLogLevel",{level:(r=e.logLevel)!=null?r:_.Level.Debug}),await n.load(),n}async workerCommand(e,r,n){return new Promise((i,a)=>{let s=this.workerCommandId++;this.workerTasks.set(s,{resolve:i,reject:a,command:e});let c={...r,command:e,id:s};this.dataCaptureWorker.postMessage(c,n)})}},gC={};function vC(t){return jr.getInstance().updateIfMissing({...gC}),{moduleName:"BarcodeCapture",load:async e=>{var r;let n=e;return await pC.create({...n,highEndBlurryRecognition:(r=t==null?void 0:t.highEndBlurryRecognition)!=null?r:!1})}}}var yC=(t=>(t.Frame="frame",t))(yC||{}),wC=class Eo{constructor(){this.type="barcodeCapture",this._shouldShowScanAreaGuides=!1,this._shouldRemoveLocationsAfterScan=!0,this._style=nr.BarcodeCapture.BarcodeCaptureOverlay.defaultStyle,this._viewfinder=null}get style(){return this._style}static async withBarcodeCapture(e){return Eo.withBarcodeCaptureForView(e,null)}static async withBarcodeCaptureForView(e,r){return Eo.withBarcodeCaptureForViewWithStyle(e,r,nr.BarcodeCapture.BarcodeCaptureOverlay.defaultStyle)}static async withBarcodeCaptureForViewWithStyle(e,r,n){let i=new Eo;return i.barcodeCapture=e,i._style=n,await i.setBrush(new WS(nr.BarcodeCapture.BarcodeCaptureOverlay.styles[i.style].DefaultBrush.fillColor,nr.BarcodeCapture.BarcodeCaptureOverlay.styles[i.style].DefaultBrush.strokeColor,nr.BarcodeCapture.BarcodeCaptureOverlay.styles[i.style].DefaultBrush.strokeWidth)),r&&await r.addOverlay(i),i}getBrush(){return this._brush}getViewfinder(){return this._viewfinder}async setBrush(e){this._brush=e,await this.barcodeCapture.notifyContext()}async setShouldShowScanAreaGuides(e){this._shouldShowScanAreaGuides=e,await this.barcodeCapture.notifyContext()}async setShouldRemoveLocationsAfterScan(e){this._shouldRemoveLocationsAfterScan=e,await this.barcodeCapture.notifyContext()}async setViewfinder(e){this._viewfinder=e,await this.barcodeCapture.notifyContext()}shouldShowScanAreaGuides(){return this._shouldShowScanAreaGuides}shouldRemoveLocationsAfterScan(){return this._shouldRemoveLocationsAfterScan}toJSONObject(){var e,r;return{type:this.type,brush:this._brush.toJSONObject(),drawLocalizedOnlyBarcodes:!1,shouldShowScanAreaGuides:this._shouldShowScanAreaGuides,shouldRemoveLocationsAfterScan:this._shouldRemoveLocationsAfterScan,viewfinder:(r=(e=this._viewfinder)==null?void 0:e.toJSONObject())!=null?r:gw.toJSONObject(),style:this.style}}},SC=class{constructor(){this.codeDuplicateFilter=nr.BarcodeCapture.BarcodeCaptureSettings.codeDuplicateFilter,this.locationSelection=null,this.enabledCompositeTypes=[],this.scanIntention="manual",this.properties={},this.symbologies={}}get enabledSymbologies(){return Object.keys(this.symbologies).filter(e=>{var r;return(r=this.symbologies[e])==null?void 0:r.isEnabled})}get compositeTypeDescriptions(){return nr.CompositeTypeDescriptions.reduce((e,r)=>(e[r.types[0]]=r,e),{})}settingsForSymbology(e){if(!this.symbologies[e]){let r=nr.SymbologySettings[e];r._symbology=e,this.symbologies[e]=r}return this.symbologies[e]}setProperty(e,r){this.properties[e]=r}getProperty(e){return this.properties[e]}enableSymbologies(e){for(let r of e)this.enableSymbology(r,!0)}enableSymbology(e,r){this.settingsForSymbology(e).isEnabled=r}enableSymbologiesForCompositeTypes(e){for(let r of e)this.enableSymbologies(this.compositeTypeDescriptions[r].symbologies)}toJSONObject(){var e,r,n;let i={};return{codeDuplicateFilter:this.codeDuplicateFilter,enabledCompositeTypes:[...this.enabledCompositeTypes],locationSelection:(r=(e=this.locationSelection)==null?void 0:e.toJSONObject())!=null?r:xw,properties:{...this.properties},symbologies:Object.keys(this.symbologies).reduce((a,s)=>{var c;let u=(c=this.symbologies[s])==null?void 0:c.toJSONObject();return u&&(a[s]=u),a},i),scanIntention:(n=this.scanIntention)!=null?n:null}}},CC=class yg{get frameID(){return this._frameID}get location(){return this._location}static fromJSON(e){let r=new yg;return r._location=Cs.fromJSON(e.location),r._frameID=e.frameId,r}toJSONObject(){return{frameId:this.frameID,location:this.location.toJSONObject()}}},Rh=class wg{get newlyRecognizedBarcode(){return this._newlyRecognizedBarcode}get newlyLocalizedBarcodes(){return this._newlyLocalizedBarcodes}get frameSequenceID(){return this._frameSequenceID}static fromJSON(e){let r=new wg;return e.newlyRecognizedBarcode&&(r._newlyRecognizedBarcode=fC.fromJSON(e.newlyRecognizedBarcode)),r._newlyLocalizedBarcodes=e.newlyLocalizedBarcodes.map(n=>CC.fromJSON(n)),r._frameSequenceID=e.frameSequenceId,r}toJSON(){var e,r;return JSON.stringify({newlyLocalizedBarcodes:this.newlyLocalizedBarcodes.map(n=>n.toJSONObject()),newlyRecognizedBarcode:(r=(e=this.newlyRecognizedBarcode)==null?void 0:e.toJSONObject())!=null?r:null,frameSequenceId:this.frameSequenceID})}},AC=class Sg{constructor(){this.success=US.defaultFeedback}static get default(){return new Sg}toJSONObject(){return{success:this.success.toJSONObject()}}},Fh=class Cg{constructor(){this.type="barcodeCapture",this._isEnabled=!0,this._feedback=AC.default,this._context=null,this.listeners=new Set,this.allowedRemainingWorkerMessages=new Set,this.workerMessageListener=this.onWorkerMessage.bind(this)}static get recommendedCameraSettings(){return new fr(nr.BarcodeCapture.RecommendedCameraSettings)}get context(){return this._context}get feedback(){return this._feedback}static async forContext(e,r){let n=new Cg;return n.settings=r,e&&await e.addMode(n),n}async setFeedback(e){return this._feedback=e,this.notifyContext()}isEnabled(){return this._isEnabled}async setEnabled(e){this._isEnabled=e,await this.notifyContext()}async applySettings(e){return this.settings=e,this.notifyContext()}addListener(e){this.listeners.has(e)||this.listeners.add(e)}removeListener(e){this.listeners.delete(e)}toJSONObject(){return{type:this.type,enabled:this._isEnabled,feedback:this.feedback.toJSONObject(),settings:this.settings.toJSONObject()}}attachedToContext(e){this._context=e,this._context.subscribeToWorkerMessages(this.workerMessageListener)}async detachedFromContext(){var e;(e=this._context)==null||e.unsubscribeToWorkerMessages(this.workerMessageListener),this._context=null}sendClearFrameDataRequest(e){setTimeout(()=>{var r;(r=this.context)==null||r.workerCommand("deleteFrameData",{frameId:e})},0)}async onDidScan(e){if(this.context==null)return;let r=Rh.fromJSON(e.payload.session),{frameData:n}=e.payload;if(!this._isEnabled){this.sendClearFrameDataRequest(n.frameId),this.allowedRemainingWorkerMessages.clear();return}this.allowedRemainingWorkerMessages.add("successFeedback");let i=[];for(let a of this.listeners)if(a.didScan)try{let s=a.didScan(this,r,yw(n,this.context));s instanceof Promise&&await s}catch(s){i.push(s)}this.sendClearFrameDataRequest(n.frameId),this.allowedRemainingWorkerMessages.add("barcodeCaptureDidUpdateSession");for(let a of i)_.log(_.Level.Error,a)}onDidUpdateSession(e){let r=Rh.fromJSON(e.payload);if(!(!this._isEnabled&&!this.allowedRemainingWorkerMessages.has(e.type))){this.allowedRemainingWorkerMessages.delete(e.type);for(let n of this.listeners)n.didUpdateSession&&n.didUpdateSession(this,r)}}onSuccessFeedback(e){!this._isEnabled&&!this.allowedRemainingWorkerMessages.has(e.type)||(this.allowedRemainingWorkerMessages.delete(e.type),this.feedback.success.emit())}async onWorkerMessage(e){switch(e.type){case"barcodeCaptureDidScan":{this.onDidScan(e);break}case"barcodeCaptureDidUpdateSession":{this.onDidUpdateSession(e);break}case"successFeedback":{this.onSuccessFeedback(e);break}}}async notifyContext(){this.context!=null&&await this.context.update()}};function bC(){let t,e,r,n,i,a,s,c;function u(){return a||(a=document.createElement("div"),a.style.display="none",a.style.width="100%",a.style.height="100%",document.body.append(a)),a}return{async initialize(){try{await aC({libraryLocation:new URL("library/engine",document.baseURI).toString(),licenseKey:"AqwVzRQHMj90EhR+neteGaAi8GllP2X6GB2o+sVERYmtI0d+wBRAdQ1NyAGkQ/Qh4k/oiyF4BsZTD3EM+Xe5chRfACgPYzViRVwmp2slWaz6c8Jl+wr1Ajs6BdL0NkBrDBb6nt5Jg2IgcyB0zE6EIwxfXPshKbfs5Aa5Y9cBsTzyVEFZoloL4x5CHF2JAYnhfzYY6AUORTdPZ8gabFMV+cNQYQFpAzlR+SWeNDwY/FVmKbLXEAvVufMfnrRmdlQ8GxO7VH4rGPRAL0i8RgBAsLYUh9XlFQMfn2wLlFIiNLrGG45qjw0piBAm8VDFAINTQQhVI2AzJ7UYJx5V3CoM1mcXJ0PLOtqTI2XS/Yt4a5OnS4bCO0nL9ywfKe+2fRl9TlMmm49ZpdXUSjBGmRK/q31zuwIwAJsrH0ly0GcSJy51ZYfk0xTGqNNA6N8KNqSjIkxgcuYv1jhifXok5yijSIl0W7yuQR3xJyvNoeYYhqa6LYqWtQdZvJ8FqCXQeXDwdX74xaltYwXVV+giZieyrvh+L9KCADr8N3YXamB01Y1PMw9MlEYtMLl6AOfJRh6cgX7KsMcrstYURir5/XkQ/OJhhMP8Tb6gfVjKVgV59KTGakro8XYD6lQGIo/7bl/8OQxNf1lEmOJcOLxhVmEvTf1J0WfwOYRQGE04/agv3IEIcHOahWMoTbQFtHxZbiDgj1LmHQAZ1TUuZG65cnjFAFUYdsVQaZhGygpzTRZ7tz/uWDHMvCNQUr4lzrW39usH1qKS+brJ+jNELjVnM5l3gLoeRDVn/2XOPqGuW8Kq2lIjzzGRCokakodEA5N475GHpfYUYyAnPWTb7KHqVJ1+CytZ2GetCm4J4Z4s2MlSgH00hCbtht+Eu6l1sugvIKRX6AGaiDvexGcMItWrfQZ9KbHMT7qQ+KjXrb1fzhNxAjTUOXPZJpJtCQab3irYhZJhLNqj9VVSAAOkUTlP5Xs2Hzbb/KvbdALwK/v+jBFaU+ed/7cHvyjR0r2pUnvcEgt4H5CMy5i57ZRcDZCo9zxcAzelzDgE40kHz6IK4POpm7ZzSWKZKEk4uioAbsV8Ny/1yVR5CWtiglbZegfBdpsE9xTQRVzRuBomC5QDXFh2ZdLPkTRR3S+zY7DKfsZLSOrE1wrXbmVoecW9pIFpoaYsPeu2ePtGhKPxi8hyfQdfyrpb2EFv0lwP8PE9y6+ujffzKjlDw0GbGnwne7M9SPJf/blojYhTlWWAhRhRhWWSU9XVX/4ItjAF646Qf3SSs48wnEjNwTXw9IxPTkI1AN0egOzresFmwHFa7mrk5qRdzv965eNZ3iLJkSHQ4CtzPG8rrPyXduvmH0Y6EWA+oEjUpfXO6nhPOKBBgd95XYMLI/Ue44ndPf0JTuWh1SvcJiB+o+aXwUamJS0/u5C7sEJAvpQ2flXGEo8yvJRVGg==",moduleLoaders:[vC()]})}catch(h){const g=h;let o=g.toString();g.name==="NoLicenseKeyError"&&(o="\n          NoLicenseKeyError:\n\n          Make sure SCANDIT_LICENSE_KEY is available in your environment, by either:\n          - running `SCANDIT_LICENSE_KEY=<YOUR_LICENSE_KEY> npm run build`\n          - placing your license key in a `.env` file at the root of the sample directory\n           or by inserting your license key into `sdk.tsx`, replacing the placeholder `` with the key.\n        "),console.error(h),alert(o)}t=await eC.create(),r=new SC,r.enableSymbologies([Bc.PDF417]),e=await RS.forContext(t),e.connectToElement(u()),s=new Ap,e.addControl(s),n=await Fh.forContext(t,r),await n.setEnabled(!1),i=await wC.withBarcodeCaptureForView(n,e),await e.addOverlay(i),c=Rc.default,await c.applySettings(Fh.recommendedCameraSettings),await t.setFrameSource(c)},async cleanup(){var h;await((h=t==null?void 0:t.frameSource)==null?void 0:h.switchToDesiredState(Co.Off)),await(t==null?void 0:t.dispose()),await(t==null?void 0:t.removeAllModes()),i&&(await i.setViewfinder(null),await(e==null?void 0:e.removeOverlay(i))),s&&(e==null||e.removeControl(s),s=void 0),e==null||e.detachFromElement(),n=void 0,t=void 0,e=void 0,r=void 0,c=void 0,a==null||a.remove(),a=void 0},connectToElement(h){a=u(),a.style.display="block",h.append(a)},detachFromElement(){a&&(a.style.display="none",document.body.append(a))},async enableCamera(h){t!=null&&t.frameSource&&await t.frameSource.switchToDesiredState(h?Co.On:Co.Off)},async enableScanning(h){await(n==null?void 0:n.setEnabled(h))},async enableSymbology(h,g){r.enableSymbology(h,g),await(n==null?void 0:n.applySettings(r))},addBarcodeCaptureListener(h){n==null||n.addListener(h)},removeBarcodeCaptureListener(h){n==null||n.removeListener(h)},getEnabledSymbologies(){return r.enabledSymbologies}}}const Ag=L.createContext({loaded:!1,loading:!1,sdk:null});function _C({children:t}){const[e,r]=L.useState(!1),[n,i]=L.useState(!1),a=L.useMemo(()=>bC(),[]),s=L.useMemo(()=>({loading:n,loaded:e,sdk:a}),[n,e,a]);return L.useEffect(()=>{async function c(){i(!0),await a.initialize(),i(!1),r(!0),await a.enableCamera(!0)}return c(),()=>{a.cleanup()}},[a]),B(Ag.Provider,{value:s,children:t})}function Ia(){const t=L.useContext(Ag);if(t.sdk===null)throw new Error("Sdk facade is null. Did you forget to wrap the component with SDKProvider?");return t}function EC(){const{loading:t,sdk:e}=Ia();return L.useEffect(()=>{t||e.enableScanning(!1)},[t,e]),Ie("main",{className:"w-screen h-[100dvh] p-4 flex flex-col gap-4 lg:max-w-[800px] lg:mx-auto",children:[B(Xo,{when:t,children:B(fp,{})}),Ie(Xo,{when:!t,children:[B("h1",{className:"font-bold text-2xl",children:"Home"}),B("div",{className:"p-4 bg-gray-100 rounded",children:Ie("p",{className:"leading-8",children:[B(Vy,{color:"black"})," This sample demonstrates how to initialize and keep the barcode scanner running in the background, despite re-renderings happening in a React application."]})}),Ie(Xi,{to:"/scanner",children:[B(mp,{color:"black"}),"Scan now"]}),Ie(Xi,{to:"/settings",children:[B(pp,{color:"black"}),"Settings"]})]})]})}function xC({color:t}){return B("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:B("path",{fill:t,d:"M10 20H6q-.425 0-.713-.288T5 19v-7H3.3q-.35 0-.475-.325t.15-.55l8.35-7.525q.275-.275.675-.275t.675.275L16 6.6V5q0-.425.288-.713T17 4h1q.425 0 .713.288T19 5v4.3l2.025 1.825q.275.225.15.55T20.7 12H19v7q0 .425-.288.713T18 20h-4v-5q0-.425-.288-.713T13 14h-2q-.425 0-.713.288T10 15v5Zm0-9.975h4q0-.8-.6-1.313T12 8.2q-.8 0-1.4.513t-.6 1.312Z"})})}const bg=L.createContext({barcode:void 0,keepCameraOn:!0,symbologies:{},setBarcode:()=>{},setKeepCameraOn:()=>{},setSymbologies:()=>{}});function MC({children:t}){const{sdk:e,loaded:r}=Ia(),[n,i]=L.useState(),[a,s]=L.useState(!0),[c,u]=L.useState({});return L.useEffect(()=>{var h;if(r){const g=(h=e.getEnabledSymbologies())==null?void 0:h.map(o=>[o,!0]);if(g){const o=Object.fromEntries(g);u(o)}}},[r,e]),B(bg.Provider,{value:L.useMemo(()=>({barcode:n,setBarcode:i,keepCameraOn:a,setKeepCameraOn:s,symbologies:c,setSymbologies:u}),[n,a,c]),children:t})}function bs(){return L.useContext(bg)}function LC(){const{barcode:t}=bs(),e=Dc();if(L.useEffect(()=>{t==null&&e("/scanner")},[t,e]),t==null)return null;const r=new As(t.symbology);return Ie("main",{className:"w-screen h-[100dvh] p-4 flex flex-col gap-4 lg:max-w-[800px] lg:mx-auto",children:[B("h1",{className:"font-bold text-2xl",children:r.readableName}),Ie("pre",{className:"p-4 whitespace-normal rounded bg-gray-100 text-gray-700 overflow-scroll",children:[t.data," ",t.addOnData]}),Ie(Xi,{to:"/scanner",children:[B(mp,{color:"black"}),"Scan again"]}),Ie(Xi,{to:"/settings",children:[B(pp,{color:"black"}),"Settings"]}),Ie(Xi,{to:"/",children:[B(xC,{color:"black"}),"Home"]})]})}function _g({color:t}){return B("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",children:B("path",{fill:t,d:"M15.125 21.1L6.7 12.7q-.15-.15-.213-.325T6.425 12q0-.2.062-.375T6.7 11.3l8.425-8.425q.35-.35.875-.35t.9.375q.375.375.375.875t-.375.875L9.55 12l7.35 7.35q.35.35.35.863t-.375.887q-.375.375-.875.375t-.875-.375Z"})})}function IC(){const t=L.useRef(null),{loaded:e,sdk:r}=Ia(),{setBarcode:n,keepCameraOn:i}=bs(),a=Dc(),s=L.useCallback(async()=>{i||await r.enableCamera(!1)},[r,i]),c=L.useMemo(()=>({didScan:async(u,h)=>{h.newlyRecognizedBarcode&&(await r.enableScanning(!1),await s(),n(h.newlyRecognizedBarcode),a("/result"))}}),[n,r,a,s]);return L.useEffect(()=>{async function u(){e&&t.current&&(r.connectToElement(t.current),await r.enableCamera(!0),await r.enableScanning(!0),r.addBarcodeCaptureListener(c))}return u(),()=>{e&&(r.removeBarcodeCaptureListener(c),r.detachFromElement())}},[e,r,c]),B("div",{ref:t,className:"w-full h-full"})}function DC(){const{loaded:t}=Ia();return Ie("main",{className:"w-screen h-[100dvh] flex items-center justify-center flex-col",children:[B(Xo,{when:!t,children:B(fp,{})}),Ie(Xo,{when:t,children:[B("nav",{className:"fixed top-0 left-0 py-2 z-10 lg:p-4",children:Ie(kc,{to:"/",className:"p-4 flex items-center gap-2 text-white",children:[B(_g,{color:"white"}),"Back"]})}),B(IC,{})]})]})}function kC({color:t}){return B("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",children:B("path",{fill:t,d:"M12 17.5q1.875 0 3.188-1.313T16.5 13q0-1.875-1.313-3.188T12 8.5q-1.875 0-3.188 1.313T7.5 13q0 1.875 1.313 3.188T12 17.5ZM4 21q-.825 0-1.413-.588T2 19V7q0-.825.588-1.413T4 5h3.15L8.4 3.65q.275-.325.663-.488T9.874 3h4.25q.425 0 .813.163t.662.487L16.85 5H20q.825 0 1.413.588T22 7v12q0 .825-.588 1.413T20 21H4Z"})})}function TC(){const{keepCameraOn:t,setKeepCameraOn:e}=bs(),r=L.useCallback(n=>{const i=n.target;e(i.checked)},[e]);return Ie("section",{className:"flex flex-col gap-6",children:[Ie("div",{className:"flex items-center gap-2",children:[B(kC,{color:"black"}),B("h2",{className:"font-bold",children:"Camera"})]}),Ie("label",{htmlFor:"keepCameraOn",className:"p-4 flex justify-between",children:["Keep on when closing the scanner",B("input",{type:"checkbox",id:"keepCameraOn",checked:t,onChange:r})]})]})}function OC({color:t}){return B("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",children:B("path",{fill:t,d:"M1 19V5h2v14H1Zm3 0V5h2v14H4Zm3 0V5h1v14H7Zm3 0V5h2v14h-2Zm3 0V5h3v14h-3Zm4 0V5h1v14h-1Zm3 0V5h3v14h-3Z"})})}function NC(){const{symbologies:t,setSymbologies:e}=bs(),{loading:r,sdk:n}=Ia();return Ie("section",{className:"flex flex-col gap-6",children:[Ie("div",{className:"flex items-center gap-2",children:[B(OC,{color:"black"}),B("h2",{className:"font-bold",children:"Symbologies"})]}),Object.values(Bc).map(i=>Ie("label",{htmlFor:i,className:"p-4 flex justify-between transition hover:bg-gray-100",children:[new As(i).readableName,B("input",{type:"checkbox",id:i,disabled:r,checked:t[i]===!0,onChange:async a=>{const s=a.target;e({...t,[i]:s.checked}),await n.enableSymbology(i,s.checked)}})]},i))]})}function RC(){return Ie("main",{className:"w-screen h-[100dvh] flex flex-col gap-4 lg:max-w-[800px] lg:mx-auto",children:[B("nav",{className:"sticky py-4 top-0 bg-white border-b lg:p-4",children:Ie(kc,{to:"/",className:"p-4 flex items-center gap-2 z-10",children:[B(_g,{color:"black"}),"Back"]})}),Ie("div",{className:"w-full p-4 flex flex-col gap-8",children:[B("h1",{className:"font-bold text-2xl",children:"Settings"}),B(TC,{}),B(NC,{})]})]})}const FC=xy([{path:"/",element:B(EC,{})},{path:"/scanner",element:B(DC,{})},{path:"/result",element:B(LC,{})},{path:"/settings",element:B(RC,{})}]);function PC(){return B(_C,{children:B(MC,{children:B(Ry,{router:FC})})})}vl.createRoot(document.getElementById("root")).render(B(L.StrictMode,{children:B(PC,{})}));
